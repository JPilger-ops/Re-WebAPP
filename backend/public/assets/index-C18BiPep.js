function Ld(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Td(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ho={exports:{}},Dl={},Qo={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr=Symbol.for("react.element"),zd=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),Od=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Md=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Ad=Symbol.for("react.memo"),Ud=Symbol.for("react.lazy"),ba=Symbol.iterator;function $d(e){return e===null||typeof e!="object"?null:(e=ba&&e[ba]||e["@@iterator"],typeof e=="function"?e:null)}var Jo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Go=Object.assign,Yo={};function On(e,t,n){this.props=e,this.context=t,this.refs=Yo,this.updater=n||Jo}On.prototype.isReactComponent={};On.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};On.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xo(){}Xo.prototype=On.prototype;function bi(e,t,n){this.props=e,this.context=t,this.refs=Yo,this.updater=n||Jo}var Pi=bi.prototype=new Xo;Pi.constructor=bi;Go(Pi,On.prototype);Pi.isPureReactComponent=!0;var Pa=Array.isArray,Zo=Object.prototype.hasOwnProperty,Li={current:null},qo={key:!0,ref:!0,__self:!0,__source:!0};function eu(e,t,n){var r,l={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Zo.call(t,r)&&!qo.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Cr,type:e,key:s,ref:a,props:l,_owner:Li.current}}function Kd(e,t){return{$$typeof:Cr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cr}function Vd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var La=/\/+/g;function ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vd(""+e.key):t.toString(36)}function Yr(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Cr:case zd:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+ts(a,0):r,Pa(l)?(n="",e!=null&&(n=e.replace(La,"$&/")+"/"),Yr(l,t,n,"",function(c){return c})):l!=null&&(Ti(l)&&(l=Kd(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(La,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Pa(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+ts(s,o);a+=Yr(s,t,n,u,l)}else if(u=$d(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+ts(s,o++),a+=Yr(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Rr(e,t,n){if(e==null)return e;var r=[],l=0;return Yr(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Wd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},Xr={transition:null},Hd={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Xr,ReactCurrentOwner:Li};function tu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Rr,forEach:function(e,t,n){Rr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rr(e,function(){t++}),t},toArray:function(e){return Rr(e,function(t){return t})||[]},only:function(e){if(!Ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=On;$.Fragment=Rd;$.Profiler=Od;$.PureComponent=bi;$.StrictMode=Dd;$.Suspense=Fd;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hd;$.act=tu;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Go({},e.props),l=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Li.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Zo.call(t,u)&&!qo.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Cr,type:e.type,key:l,ref:s,props:r,_owner:a}};$.createContext=function(e){return e={$$typeof:Md,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Id,_context:e},e.Consumer=e};$.createElement=eu;$.createFactory=function(e){var t=eu.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:Bd,render:e}};$.isValidElement=Ti;$.lazy=function(e){return{$$typeof:Ud,_payload:{_status:-1,_result:e},_init:Wd}};$.memo=function(e,t){return{$$typeof:Ad,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=Xr.transition;Xr.transition={};try{e()}finally{Xr.transition=t}};$.unstable_act=tu;$.useCallback=function(e,t){return Ne.current.useCallback(e,t)};$.useContext=function(e){return Ne.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};$.useEffect=function(e,t){return Ne.current.useEffect(e,t)};$.useId=function(){return Ne.current.useId()};$.useImperativeHandle=function(e,t,n){return Ne.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Ne.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Ne.current.useReducer(e,t,n)};$.useRef=function(e){return Ne.current.useRef(e)};$.useState=function(e){return Ne.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Ne.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Ne.current.useTransition()};$.version="18.3.1";Qo.exports=$;var y=Qo.exports;const zi=Td(y),Qd=Ld({__proto__:null,default:zi},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=y,Gd=Symbol.for("react.element"),Yd=Symbol.for("react.fragment"),Xd=Object.prototype.hasOwnProperty,Zd=Jd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qd={key:!0,ref:!0,__self:!0,__source:!0};function nu(e,t,n){var r,l={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Xd.call(t,r)&&!qd.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Gd,type:e,key:s,ref:a,props:l,_owner:Zd.current}}Dl.Fragment=Yd;Dl.jsx=nu;Dl.jsxs=nu;Ho.exports=Dl;var i=Ho.exports,Ps={},ru={exports:{}},Oe={},lu={exports:{}},su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,B){var A=z.length;z.push(B);e:for(;0<A;){var q=A-1>>>1,ae=z[q];if(0<l(ae,B))z[q]=B,z[A]=ae,A=q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],A=z.pop();if(A!==B){z[0]=A;e:for(var q=0,ae=z.length,L=ae>>>1;q<L;){var O=2*(q+1)-1,U=z[O],se=O+1,vt=z[se];if(0>l(U,A))se<ae&&0>l(vt,U)?(z[q]=vt,z[se]=A,q=se):(z[q]=U,z[O]=A,q=O);else if(se<ae&&0>l(vt,A))z[q]=vt,z[se]=A,q=se;else break e}}return B}function l(z,B){var A=z.sortIndex-B.sortIndex;return A!==0?A:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],p=1,d=null,h=3,v=!1,j=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,t(u,B);else break;B=n(c)}}function S(z){if(x=!1,f(z),!j)if(n(u)!==null)j=!0,Ze(b);else{var B=n(c);B!==null&&Ke(S,B.startTime-z)}}function b(z,B){j=!1,x&&(x=!1,g(k),k=-1),v=!0;var A=h;try{for(f(B),d=n(u);d!==null&&(!(d.expirationTime>B)||z&&!M());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var ae=q(d.expirationTime<=B);B=e.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(u)&&r(u),f(B)}else r(u);d=n(u)}if(d!==null)var L=!0;else{var O=n(c);O!==null&&Ke(S,O.startTime-B),L=!1}return L}finally{d=null,h=A,v=!1}}var _=!1,E=null,k=-1,N=5,C=-1;function M(){return!(e.unstable_now()-C<N)}function J(){if(E!==null){var z=e.unstable_now();C=z;var B=!0;try{B=E(!0,z)}finally{B?T():(_=!1,E=null)}}else _=!1}var T;if(typeof m=="function")T=function(){m(J)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Le=I.port2;I.port1.onmessage=J,T=function(){Le.postMessage(null)}}else T=function(){w(J,0)};function Ze(z){E=z,_||(_=!0,T())}function Ke(z,B){k=w(function(){z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,Ze(b))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var A=h;h=B;try{return z()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var A=h;h=z;try{return B()}finally{h=A}},e.unstable_scheduleCallback=function(z,B,A){var q=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?q+A:q):A=q,z){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=A+ae,z={id:p++,callback:B,priorityLevel:z,startTime:A,expirationTime:ae,sortIndex:-1},A>q?(z.sortIndex=A,t(c,z),n(u)===null&&z===n(c)&&(x?(g(k),k=-1):x=!0,Ke(S,A-q))):(z.sortIndex=ae,t(u,z),j||v||(j=!0,Ze(b))),z},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(z){var B=h;return function(){var A=h;h=B;try{return z.apply(this,arguments)}finally{h=A}}}})(su);lu.exports=su;var ef=lu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=y,De=ef;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iu=new Set,or={};function nn(e,t){Cn(e,t),Cn(e+"Capture",t)}function Cn(e,t){for(or[e]=t,e=0;e<t.length;e++)iu.add(t[e])}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=Object.prototype.hasOwnProperty,nf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ta={},za={};function rf(e){return Ls.call(za,e)?!0:Ls.call(Ta,e)?!1:nf.test(e)?za[e]=!0:(Ta[e]=!0,!1)}function lf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sf(e,t,n,r){if(t===null||typeof t>"u"||lf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,l,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ri=/[\-:]([a-z])/g;function Di(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ri,Di);he[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ri,Di);he[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ri,Di);he[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oi(e,t,n,r){var l=he.hasOwnProperty(t)?he[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sf(t,n,l,r)&&(n=null),r||l===null?rf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ht=tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dr=Symbol.for("react.element"),on=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),Ii=Symbol.for("react.strict_mode"),Ts=Symbol.for("react.profiler"),au=Symbol.for("react.provider"),ou=Symbol.for("react.context"),Mi=Symbol.for("react.forward_ref"),zs=Symbol.for("react.suspense"),Rs=Symbol.for("react.suspense_list"),Bi=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),uu=Symbol.for("react.offscreen"),Ra=Symbol.iterator;function Un(e){return e===null||typeof e!="object"?null:(e=Ra&&e[Ra]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,ns;function Gn(e){if(ns===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ns=t&&t[1]||""}return`
`+ns+e}var rs=!1;function ls(e,t){if(!e||rs)return"";rs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),a=l.length-1,o=s.length-1;1<=a&&0<=o&&l[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==s[o]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{rs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gn(e):""}function af(e){switch(e.tag){case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 2:case 15:return e=ls(e.type,!1),e;case 11:return e=ls(e.type.render,!1),e;case 1:return e=ls(e.type,!0),e;default:return""}}function Ds(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case un:return"Fragment";case on:return"Portal";case Ts:return"Profiler";case Ii:return"StrictMode";case zs:return"Suspense";case Rs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ou:return(e.displayName||"Context")+".Consumer";case au:return(e._context.displayName||"Context")+".Provider";case Mi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bi:return t=e.displayName||null,t!==null?t:Ds(e.type)||"Memo";case jt:t=e._payload,e=e._init;try{return Ds(e(t))}catch{}}return null}function of(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ds(t);case 8:return t===Ii?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function It(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uf(e){var t=cu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Or(e){e._valueTracker||(e._valueTracker=uf(e))}function du(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Os(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Da(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=It(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fu(e,t){t=t.checked,t!=null&&Oi(e,"checked",t,!1)}function Is(e,t){fu(e,t);var n=It(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ms(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ms(e,t.type,It(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ms(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yn=Array.isArray;function jn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+It(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Bs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ia(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Yn(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:It(n)}}function pu(e,t){var n=It(t.value),r=It(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ma(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ir,hu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cf=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(e){cf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qn[t]=qn[e]})});function gu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qn.hasOwnProperty(e)&&qn[e]?(""+t).trim():t+"px"}function yu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=gu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var df=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function As(e,t){if(t){if(df[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Us(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function Fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ks=null,Sn=null,wn=null;function Ba(e){if(e=Lr(e)){if(typeof Ks!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Fl(t),Ks(e.stateNode,e.type,t))}}function vu(e){Sn?wn?wn.push(e):wn=[e]:Sn=e}function xu(){if(Sn){var e=Sn,t=wn;if(wn=Sn=null,Ba(e),t)for(e=0;e<t.length;e++)Ba(t[e])}}function ju(e,t){return e(t)}function Su(){}var ss=!1;function wu(e,t,n){if(ss)return e(t,n);ss=!0;try{return ju(e,t,n)}finally{ss=!1,(Sn!==null||wn!==null)&&(Su(),xu())}}function cr(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Vs=!1;if(dt)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Vs=!1}function ff(e,t,n,r,l,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var er=!1,ul=null,cl=!1,Ws=null,pf={onError:function(e){er=!0,ul=e}};function mf(e,t,n,r,l,s,a,o,u){er=!1,ul=null,ff.apply(pf,arguments)}function hf(e,t,n,r,l,s,a,o,u){if(mf.apply(this,arguments),er){if(er){var c=ul;er=!1,ul=null}else throw Error(P(198));cl||(cl=!0,Ws=c)}}function rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fa(e){if(rn(e)!==e)throw Error(P(188))}function gf(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Fa(l),e;if(s===r)return Fa(l),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=l,r=s;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=s;break}if(o===r){a=!0,r=l,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=l;break}if(o===r){a=!0,r=s,n=l;break}o=o.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function ku(e){return e=gf(e),e!==null?_u(e):null}function _u(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_u(e);if(t!==null)return t;e=e.sibling}return null}var Eu=De.unstable_scheduleCallback,Aa=De.unstable_cancelCallback,yf=De.unstable_shouldYield,vf=De.unstable_requestPaint,ie=De.unstable_now,xf=De.unstable_getCurrentPriorityLevel,Ai=De.unstable_ImmediatePriority,Cu=De.unstable_UserBlockingPriority,dl=De.unstable_NormalPriority,jf=De.unstable_LowPriority,bu=De.unstable_IdlePriority,Ol=null,nt=null;function Sf(e){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:kf,wf=Math.log,Nf=Math.LN2;function kf(e){return e>>>=0,e===0?32:31-(wf(e)/Nf|0)|0}var Mr=64,Br=4194304;function Xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=Xn(o):(s&=a,s!==0&&(r=Xn(s)))}else a=n&~l,a!==0?r=Xn(a):s!==0&&(r=Xn(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Je(t),l=1<<n,r|=e[n],t&=~l;return r}function _f(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ef(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Je(s),o=1<<a,u=l[a];u===-1?(!(o&n)||o&r)&&(l[a]=_f(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function Hs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pu(){var e=Mr;return Mr<<=1,!(Mr&4194240)&&(Mr=64),e}function is(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Je(t),e[t]=n}function Cf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Je(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Ui(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Je(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var H=0;function Lu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tu,$i,zu,Ru,Du,Qs=!1,Fr=[],Ct=null,bt=null,Pt=null,dr=new Map,fr=new Map,wt=[],bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ua(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(t.pointerId)}}function Kn(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Lr(t),t!==null&&$i(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Pf(e,t,n,r,l){switch(t){case"focusin":return Ct=Kn(Ct,e,t,n,r,l),!0;case"dragenter":return bt=Kn(bt,e,t,n,r,l),!0;case"mouseover":return Pt=Kn(Pt,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return dr.set(s,Kn(dr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,fr.set(s,Kn(fr.get(s)||null,e,t,n,r,l)),!0}return!1}function Ou(e){var t=Wt(e.target);if(t!==null){var n=rn(t);if(n!==null){if(t=n.tag,t===13){if(t=Nu(n),t!==null){e.blockedOn=t,Du(e.priority,function(){zu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Js(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$s=r,n.target.dispatchEvent(r),$s=null}else return t=Lr(n),t!==null&&$i(t),e.blockedOn=n,!1;t.shift()}return!0}function $a(e,t,n){Zr(e)&&n.delete(t)}function Lf(){Qs=!1,Ct!==null&&Zr(Ct)&&(Ct=null),bt!==null&&Zr(bt)&&(bt=null),Pt!==null&&Zr(Pt)&&(Pt=null),dr.forEach($a),fr.forEach($a)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,Qs||(Qs=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Lf)))}function pr(e){function t(l){return Vn(l,e)}if(0<Fr.length){Vn(Fr[0],e);for(var n=1;n<Fr.length;n++){var r=Fr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ct!==null&&Vn(Ct,e),bt!==null&&Vn(bt,e),Pt!==null&&Vn(Pt,e),dr.forEach(t),fr.forEach(t),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)Ou(n),n.blockedOn===null&&wt.shift()}var Nn=ht.ReactCurrentBatchConfig,pl=!0;function Tf(e,t,n,r){var l=H,s=Nn.transition;Nn.transition=null;try{H=1,Ki(e,t,n,r)}finally{H=l,Nn.transition=s}}function zf(e,t,n,r){var l=H,s=Nn.transition;Nn.transition=null;try{H=4,Ki(e,t,n,r)}finally{H=l,Nn.transition=s}}function Ki(e,t,n,r){if(pl){var l=Js(e,t,n,r);if(l===null)gs(e,t,r,ml,n),Ua(e,r);else if(Pf(l,e,t,n,r))r.stopPropagation();else if(Ua(e,r),t&4&&-1<bf.indexOf(e)){for(;l!==null;){var s=Lr(l);if(s!==null&&Tu(s),s=Js(e,t,n,r),s===null&&gs(e,t,r,ml,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else gs(e,t,r,null,n)}}var ml=null;function Js(e,t,n,r){if(ml=null,e=Fi(r),e=Wt(e),e!==null)if(t=rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ml=e,null}function Iu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xf()){case Ai:return 1;case Cu:return 4;case dl:case jf:return 16;case bu:return 536870912;default:return 16}default:return 16}}var kt=null,Vi=null,qr=null;function Mu(){if(qr)return qr;var e,t=Vi,n=t.length,r,l="value"in kt?kt.value:kt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[s-r];r++);return qr=l.slice(e,1<r?1-r:void 0)}function el(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function Ka(){return!1}function Ie(e){function t(n,r,l,s,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ar:Ka,this.isPropagationStopped=Ka,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),t}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=Ie(In),Pr=re({},In,{view:0,detail:0}),Rf=Ie(Pr),as,os,Wn,Il=re({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(as=e.screenX-Wn.screenX,os=e.screenY-Wn.screenY):os=as=0,Wn=e),as)},movementY:function(e){return"movementY"in e?e.movementY:os}}),Va=Ie(Il),Df=re({},Il,{dataTransfer:0}),Of=Ie(Df),If=re({},Pr,{relatedTarget:0}),us=Ie(If),Mf=re({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Bf=Ie(Mf),Ff=re({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Af=Ie(Ff),Uf=re({},In,{data:0}),Wa=Ie(Uf),$f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vf[e])?!!t[e]:!1}function Hi(){return Wf}var Hf=re({},Pr,{key:function(e){if(e.key){var t=$f[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qf=Ie(Hf),Jf=re({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=Ie(Jf),Gf=re({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),Yf=Ie(Gf),Xf=re({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zf=Ie(Xf),qf=re({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ep=Ie(qf),tp=[9,13,27,32],Qi=dt&&"CompositionEvent"in window,tr=null;dt&&"documentMode"in document&&(tr=document.documentMode);var np=dt&&"TextEvent"in window&&!tr,Bu=dt&&(!Qi||tr&&8<tr&&11>=tr),Qa=" ",Ja=!1;function Fu(e,t){switch(e){case"keyup":return tp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cn=!1;function rp(e,t){switch(e){case"compositionend":return Au(t);case"keypress":return t.which!==32?null:(Ja=!0,Qa);case"textInput":return e=t.data,e===Qa&&Ja?null:e;default:return null}}function lp(e,t){if(cn)return e==="compositionend"||!Qi&&Fu(e,t)?(e=Mu(),qr=Vi=kt=null,cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bu&&t.locale!=="ko"?null:t.data;default:return null}}var sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sp[e.type]:t==="textarea"}function Uu(e,t,n,r){vu(r),t=hl(t,"onChange"),0<t.length&&(n=new Wi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nr=null,mr=null;function ip(e){Zu(e,0)}function Ml(e){var t=pn(e);if(du(t))return e}function ap(e,t){if(e==="change")return t}var $u=!1;if(dt){var cs;if(dt){var ds="oninput"in document;if(!ds){var Ya=document.createElement("div");Ya.setAttribute("oninput","return;"),ds=typeof Ya.oninput=="function"}cs=ds}else cs=!1;$u=cs&&(!document.documentMode||9<document.documentMode)}function Xa(){nr&&(nr.detachEvent("onpropertychange",Ku),mr=nr=null)}function Ku(e){if(e.propertyName==="value"&&Ml(mr)){var t=[];Uu(t,mr,e,Fi(e)),wu(ip,t)}}function op(e,t,n){e==="focusin"?(Xa(),nr=t,mr=n,nr.attachEvent("onpropertychange",Ku)):e==="focusout"&&Xa()}function up(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(mr)}function cp(e,t){if(e==="click")return Ml(t)}function dp(e,t){if(e==="input"||e==="change")return Ml(t)}function fp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:fp;function hr(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ls.call(t,l)||!Ye(e[l],t[l]))return!1}return!0}function Za(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qa(e,t){var n=Za(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Za(n)}}function Vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wu(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Ji(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pp(e){var t=Wu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vu(n.ownerDocument.documentElement,n)){if(r!==null&&Ji(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=qa(n,s);var a=qa(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mp=dt&&"documentMode"in document&&11>=document.documentMode,dn=null,Gs=null,rr=null,Ys=!1;function eo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ys||dn==null||dn!==ol(r)||(r=dn,"selectionStart"in r&&Ji(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rr&&hr(rr,r)||(rr=r,r=hl(Gs,"onSelect"),0<r.length&&(t=new Wi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dn)))}function Ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fn={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionend:Ur("Transition","TransitionEnd")},fs={},Hu={};dt&&(Hu=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function Bl(e){if(fs[e])return fs[e];if(!fn[e])return e;var t=fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hu)return fs[e]=t[n];return e}var Qu=Bl("animationend"),Ju=Bl("animationiteration"),Gu=Bl("animationstart"),Yu=Bl("transitionend"),Xu=new Map,to="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){Xu.set(e,t),nn(t,[e])}for(var ps=0;ps<to.length;ps++){var ms=to[ps],hp=ms.toLowerCase(),gp=ms[0].toUpperCase()+ms.slice(1);Ft(hp,"on"+gp)}Ft(Qu,"onAnimationEnd");Ft(Ju,"onAnimationIteration");Ft(Gu,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(Yu,"onTransitionEnd");Cn("onMouseEnter",["mouseout","mouseover"]);Cn("onMouseLeave",["mouseout","mouseover"]);Cn("onPointerEnter",["pointerout","pointerover"]);Cn("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function no(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hf(r,t,void 0,e),e.currentTarget=null}function Zu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&l.isPropagationStopped())break e;no(l,o,c),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&l.isPropagationStopped())break e;no(l,o,c),s=u}}}if(cl)throw e=Ws,cl=!1,Ws=null,e}function Y(e,t){var n=t[ti];n===void 0&&(n=t[ti]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function hs(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function gr(e){if(!e[$r]){e[$r]=!0,iu.forEach(function(n){n!=="selectionchange"&&(yp.has(n)||hs(n,!1,e),hs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$r]||(t[$r]=!0,hs("selectionchange",!1,t))}}function qu(e,t,n,r){switch(Iu(t)){case 1:var l=Tf;break;case 4:l=zf;break;default:l=Ki}n=l.bind(null,t,n,e),l=void 0,!Vs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function gs(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;o!==null;){if(a=Wt(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}wu(function(){var c=s,p=Fi(n),d=[];e:{var h=Xu.get(e);if(h!==void 0){var v=Wi,j=e;switch(e){case"keypress":if(el(n)===0)break e;case"keydown":case"keyup":v=Qf;break;case"focusin":j="focus",v=us;break;case"focusout":j="blur",v=us;break;case"beforeblur":case"afterblur":v=us;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Yf;break;case Qu:case Ju:case Gu:v=Bf;break;case Yu:v=Zf;break;case"scroll":v=Rf;break;case"wheel":v=ep;break;case"copy":case"cut":case"paste":v=Af;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ha}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var m=c,f;m!==null;){f=m;var S=f.stateNode;if(f.tag===5&&S!==null&&(f=S,g!==null&&(S=cr(m,g),S!=null&&x.push(yr(m,S,f)))),w)break;m=m.return}0<x.length&&(h=new v(h,j,null,n,p),d.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==$s&&(j=n.relatedTarget||n.fromElement)&&(Wt(j)||j[ft]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(j=n.relatedTarget||n.toElement,v=c,j=j?Wt(j):null,j!==null&&(w=rn(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(v=null,j=c),v!==j)){if(x=Va,S="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ha,S="onPointerLeave",g="onPointerEnter",m="pointer"),w=v==null?h:pn(v),f=j==null?h:pn(j),h=new x(S,m+"leave",v,n,p),h.target=w,h.relatedTarget=f,S=null,Wt(p)===c&&(x=new x(g,m+"enter",j,n,p),x.target=f,x.relatedTarget=w,S=x),w=S,v&&j)t:{for(x=v,g=j,m=0,f=x;f;f=ln(f))m++;for(f=0,S=g;S;S=ln(S))f++;for(;0<m-f;)x=ln(x),m--;for(;0<f-m;)g=ln(g),f--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=ln(x),g=ln(g)}x=null}else x=null;v!==null&&ro(d,h,v,x,!1),j!==null&&w!==null&&ro(d,w,j,x,!0)}}e:{if(h=c?pn(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var b=ap;else if(Ga(h))if($u)b=dp;else{b=up;var _=op}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=cp);if(b&&(b=b(e,c))){Uu(d,b,n,p);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Ms(h,"number",h.value)}switch(_=c?pn(c):window,e){case"focusin":(Ga(_)||_.contentEditable==="true")&&(dn=_,Gs=c,rr=null);break;case"focusout":rr=Gs=dn=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,eo(d,n,p);break;case"selectionchange":if(mp)break;case"keydown":case"keyup":eo(d,n,p)}var E;if(Qi)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else cn?Fu(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Bu&&n.locale!=="ko"&&(cn||k!=="onCompositionStart"?k==="onCompositionEnd"&&cn&&(E=Mu()):(kt=p,Vi="value"in kt?kt.value:kt.textContent,cn=!0)),_=hl(c,k),0<_.length&&(k=new Wa(k,e,null,n,p),d.push({event:k,listeners:_}),E?k.data=E:(E=Au(n),E!==null&&(k.data=E)))),(E=np?rp(e,n):lp(e,n))&&(c=hl(c,"onBeforeInput"),0<c.length&&(p=new Wa("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:c}),p.data=E))}Zu(d,t)})}function yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=cr(e,n),s!=null&&r.unshift(yr(e,s,l)),s=cr(e,t),s!=null&&r.push(yr(e,s,l))),e=e.return}return r}function ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ro(e,t,n,r,l){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,l?(u=cr(n,s),u!=null&&a.unshift(yr(n,u,o))):l||(u=cr(n,s),u!=null&&a.push(yr(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var vp=/\r\n?/g,xp=/\u0000|\uFFFD/g;function lo(e){return(typeof e=="string"?e:""+e).replace(vp,`
`).replace(xp,"")}function Kr(e,t,n){if(t=lo(t),lo(e)!==t&&n)throw Error(P(425))}function gl(){}var Xs=null,Zs=null;function qs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ei=typeof setTimeout=="function"?setTimeout:void 0,jp=typeof clearTimeout=="function"?clearTimeout:void 0,so=typeof Promise=="function"?Promise:void 0,Sp=typeof queueMicrotask=="function"?queueMicrotask:typeof so<"u"?function(e){return so.resolve(null).then(e).catch(wp)}:ei;function wp(e){setTimeout(function(){throw e})}function ys(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),pr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);pr(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function io(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),tt="__reactFiber$"+Mn,vr="__reactProps$"+Mn,ft="__reactContainer$"+Mn,ti="__reactEvents$"+Mn,Np="__reactListeners$"+Mn,kp="__reactHandles$"+Mn;function Wt(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ft]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=io(e);e!==null;){if(n=e[tt])return n;e=io(e)}return t}e=n,n=e.parentNode}return null}function Lr(e){return e=e[tt]||e[ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Fl(e){return e[vr]||null}var ni=[],mn=-1;function At(e){return{current:e}}function X(e){0>mn||(e.current=ni[mn],ni[mn]=null,mn--)}function G(e,t){mn++,ni[mn]=e.current,e.current=t}var Mt={},xe=At(Mt),Ce=At(!1),Yt=Mt;function bn(e,t){var n=e.type.contextTypes;if(!n)return Mt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function be(e){return e=e.childContextTypes,e!=null}function yl(){X(Ce),X(xe)}function ao(e,t,n){if(xe.current!==Mt)throw Error(P(168));G(xe,t),G(Ce,n)}function ec(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(P(108,of(e)||"Unknown",l));return re({},n,r)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mt,Yt=xe.current,G(xe,e),G(Ce,Ce.current),!0}function oo(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=ec(e,t,Yt),r.__reactInternalMemoizedMergedChildContext=e,X(Ce),X(xe),G(xe,e)):X(Ce),G(Ce,n)}var at=null,Al=!1,vs=!1;function tc(e){at===null?at=[e]:at.push(e)}function _p(e){Al=!0,tc(e)}function Ut(){if(!vs&&at!==null){vs=!0;var e=0,t=H;try{var n=at;for(H=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}at=null,Al=!1}catch(l){throw at!==null&&(at=at.slice(e+1)),Eu(Ai,Ut),l}finally{H=t,vs=!1}}return null}var hn=[],gn=0,xl=null,jl=0,Me=[],Be=0,Xt=null,ot=1,ut="";function Kt(e,t){hn[gn++]=jl,hn[gn++]=xl,xl=e,jl=t}function nc(e,t,n){Me[Be++]=ot,Me[Be++]=ut,Me[Be++]=Xt,Xt=e;var r=ot;e=ut;var l=32-Je(r)-1;r&=~(1<<l),n+=1;var s=32-Je(t)+l;if(30<s){var a=l-l%5;s=(r&(1<<a)-1).toString(32),r>>=a,l-=a,ot=1<<32-Je(t)+l|n<<l|r,ut=s+e}else ot=1<<s|n<<l|r,ut=e}function Gi(e){e.return!==null&&(Kt(e,1),nc(e,1,0))}function Yi(e){for(;e===xl;)xl=hn[--gn],hn[gn]=null,jl=hn[--gn],hn[gn]=null;for(;e===Xt;)Xt=Me[--Be],Me[Be]=null,ut=Me[--Be],Me[Be]=null,ot=Me[--Be],Me[Be]=null}var Re=null,ze=null,Z=!1,Qe=null;function rc(e,t){var n=Fe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,ze=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xt!==null?{id:ot,overflow:ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Re=e,ze=null,!0):!1;default:return!1}}function ri(e){return(e.mode&1)!==0&&(e.flags&128)===0}function li(e){if(Z){var t=ze;if(t){var n=t;if(!uo(e,t)){if(ri(e))throw Error(P(418));t=Lt(n.nextSibling);var r=Re;t&&uo(e,t)?rc(r,n):(e.flags=e.flags&-4097|2,Z=!1,Re=e)}}else{if(ri(e))throw Error(P(418));e.flags=e.flags&-4097|2,Z=!1,Re=e}}}function co(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function Vr(e){if(e!==Re)return!1;if(!Z)return co(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qs(e.type,e.memoizedProps)),t&&(t=ze)){if(ri(e))throw lc(),Error(P(418));for(;t;)rc(e,t),t=Lt(t.nextSibling)}if(co(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=Lt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Re?Lt(e.stateNode.nextSibling):null;return!0}function lc(){for(var e=ze;e;)e=Lt(e.nextSibling)}function Pn(){ze=Re=null,Z=!1}function Xi(e){Qe===null?Qe=[e]:Qe.push(e)}var Ep=ht.ReactCurrentBatchConfig;function Hn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=l.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Wr(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){var t=e._init;return t(e._payload)}function sc(e){function t(g,m){if(e){var f=g.deletions;f===null?(g.deletions=[m],g.flags|=16):f.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function l(g,m){return g=Dt(g,m),g.index=0,g.sibling=null,g}function s(g,m,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<m?(g.flags|=2,m):f):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,f,S){return m===null||m.tag!==6?(m=_s(f,g.mode,S),m.return=g,m):(m=l(m,f),m.return=g,m)}function u(g,m,f,S){var b=f.type;return b===un?p(g,m,f.props.children,S,f.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jt&&fo(b)===m.type)?(S=l(m,f.props),S.ref=Hn(g,m,f),S.return=g,S):(S=al(f.type,f.key,f.props,null,g.mode,S),S.ref=Hn(g,m,f),S.return=g,S)}function c(g,m,f,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=Es(f,g.mode,S),m.return=g,m):(m=l(m,f.children||[]),m.return=g,m)}function p(g,m,f,S,b){return m===null||m.tag!==7?(m=Gt(f,g.mode,S,b),m.return=g,m):(m=l(m,f),m.return=g,m)}function d(g,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=_s(""+m,g.mode,f),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Dr:return f=al(m.type,m.key,m.props,null,g.mode,f),f.ref=Hn(g,null,m),f.return=g,f;case on:return m=Es(m,g.mode,f),m.return=g,m;case jt:var S=m._init;return d(g,S(m._payload),f)}if(Yn(m)||Un(m))return m=Gt(m,g.mode,f,null),m.return=g,m;Wr(g,m)}return null}function h(g,m,f,S){var b=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return b!==null?null:o(g,m,""+f,S);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Dr:return f.key===b?u(g,m,f,S):null;case on:return f.key===b?c(g,m,f,S):null;case jt:return b=f._init,h(g,m,b(f._payload),S)}if(Yn(f)||Un(f))return b!==null?null:p(g,m,f,S,null);Wr(g,f)}return null}function v(g,m,f,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(f)||null,o(m,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Dr:return g=g.get(S.key===null?f:S.key)||null,u(m,g,S,b);case on:return g=g.get(S.key===null?f:S.key)||null,c(m,g,S,b);case jt:var _=S._init;return v(g,m,f,_(S._payload),b)}if(Yn(S)||Un(S))return g=g.get(f)||null,p(m,g,S,b,null);Wr(m,S)}return null}function j(g,m,f,S){for(var b=null,_=null,E=m,k=m=0,N=null;E!==null&&k<f.length;k++){E.index>k?(N=E,E=null):N=E.sibling;var C=h(g,E,f[k],S);if(C===null){E===null&&(E=N);break}e&&E&&C.alternate===null&&t(g,E),m=s(C,m,k),_===null?b=C:_.sibling=C,_=C,E=N}if(k===f.length)return n(g,E),Z&&Kt(g,k),b;if(E===null){for(;k<f.length;k++)E=d(g,f[k],S),E!==null&&(m=s(E,m,k),_===null?b=E:_.sibling=E,_=E);return Z&&Kt(g,k),b}for(E=r(g,E);k<f.length;k++)N=v(E,g,k,f[k],S),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?k:N.key),m=s(N,m,k),_===null?b=N:_.sibling=N,_=N);return e&&E.forEach(function(M){return t(g,M)}),Z&&Kt(g,k),b}function x(g,m,f,S){var b=Un(f);if(typeof b!="function")throw Error(P(150));if(f=b.call(f),f==null)throw Error(P(151));for(var _=b=null,E=m,k=m=0,N=null,C=f.next();E!==null&&!C.done;k++,C=f.next()){E.index>k?(N=E,E=null):N=E.sibling;var M=h(g,E,C.value,S);if(M===null){E===null&&(E=N);break}e&&E&&M.alternate===null&&t(g,E),m=s(M,m,k),_===null?b=M:_.sibling=M,_=M,E=N}if(C.done)return n(g,E),Z&&Kt(g,k),b;if(E===null){for(;!C.done;k++,C=f.next())C=d(g,C.value,S),C!==null&&(m=s(C,m,k),_===null?b=C:_.sibling=C,_=C);return Z&&Kt(g,k),b}for(E=r(g,E);!C.done;k++,C=f.next())C=v(E,g,k,C.value,S),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?k:C.key),m=s(C,m,k),_===null?b=C:_.sibling=C,_=C);return e&&E.forEach(function(J){return t(g,J)}),Z&&Kt(g,k),b}function w(g,m,f,S){if(typeof f=="object"&&f!==null&&f.type===un&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Dr:e:{for(var b=f.key,_=m;_!==null;){if(_.key===b){if(b=f.type,b===un){if(_.tag===7){n(g,_.sibling),m=l(_,f.props.children),m.return=g,g=m;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jt&&fo(b)===_.type){n(g,_.sibling),m=l(_,f.props),m.ref=Hn(g,_,f),m.return=g,g=m;break e}n(g,_);break}else t(g,_);_=_.sibling}f.type===un?(m=Gt(f.props.children,g.mode,S,f.key),m.return=g,g=m):(S=al(f.type,f.key,f.props,null,g.mode,S),S.ref=Hn(g,m,f),S.return=g,g=S)}return a(g);case on:e:{for(_=f.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){n(g,m.sibling),m=l(m,f.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Es(f,g.mode,S),m.return=g,g=m}return a(g);case jt:return _=f._init,w(g,m,_(f._payload),S)}if(Yn(f))return j(g,m,f,S);if(Un(f))return x(g,m,f,S);Wr(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(n(g,m.sibling),m=l(m,f),m.return=g,g=m):(n(g,m),m=_s(f,g.mode,S),m.return=g,g=m),a(g)):n(g,m)}return w}var Ln=sc(!0),ic=sc(!1),Sl=At(null),wl=null,yn=null,Zi=null;function qi(){Zi=yn=wl=null}function ea(e){var t=Sl.current;X(Sl),e._currentValue=t}function si(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kn(e,t){wl=e,Zi=yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Ue(e){var t=e._currentValue;if(Zi!==e)if(e={context:e,memoizedValue:t,next:null},yn===null){if(wl===null)throw Error(P(308));yn=e,wl.dependencies={lanes:0,firstContext:e}}else yn=yn.next=e;return t}var Ht=null;function ta(e){Ht===null?Ht=[e]:Ht.push(e)}function ac(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ta(t)):(n.next=l.next,l.next=n),t.interleaved=n,pt(e,r)}function pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var St=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,pt(e,n)}return l=r.interleaved,l===null?(t.next=t,ta(r)):(t.next=l.next,l.next=t),r.interleaved=t,pt(e,n)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ui(e,n)}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nl(e,t,n,r){var l=e.updateQueue;St=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=u))}if(s!==null){var d=l.baseState;a=0,p=c=u=null,o=s;do{var h=o.lane,v=o.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,x=o;switch(h=t,v=n,x.tag){case 1:if(j=x.payload,typeof j=="function"){d=j.call(v,d,h);break e}d=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,h=typeof j=="function"?j.call(v,d,h):j,h==null)break e;d=re({},d,h);break e;case 2:St=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[o]:h.push(o))}else v={eventTime:v,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(c=p=v,u=d):p=p.next=v,a|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;h=o,o=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);qt|=a,e.lanes=a,e.memoizedState=d}}function mo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(P(191,l));l.call(r)}}}var Tr={},rt=At(Tr),xr=At(Tr),jr=At(Tr);function Qt(e){if(e===Tr)throw Error(P(174));return e}function ra(e,t){switch(G(jr,t),G(xr,e),G(rt,Tr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fs(t,e)}X(rt),G(rt,t)}function Tn(){X(rt),X(xr),X(jr)}function uc(e){Qt(jr.current);var t=Qt(rt.current),n=Fs(t,e.type);t!==n&&(G(xr,e),G(rt,n))}function la(e){xr.current===e&&(X(rt),X(xr))}var ee=At(0);function kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xs=[];function sa(){for(var e=0;e<xs.length;e++)xs[e]._workInProgressVersionPrimary=null;xs.length=0}var nl=ht.ReactCurrentDispatcher,js=ht.ReactCurrentBatchConfig,Zt=0,te=null,ue=null,de=null,_l=!1,lr=!1,Sr=0,Cp=0;function ge(){throw Error(P(321))}function ia(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,l,s){if(Zt=s,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=e===null||e.memoizedState===null?Tp:zp,e=n(r,l),lr){s=0;do{if(lr=!1,Sr=0,25<=s)throw Error(P(301));s+=1,de=ue=null,t.updateQueue=null,nl.current=Rp,e=n(r,l)}while(lr)}if(nl.current=El,t=ue!==null&&ue.next!==null,Zt=0,de=ue=te=null,_l=!1,t)throw Error(P(300));return e}function oa(){var e=Sr!==0;return Sr=0,e}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?te.memoizedState=de=e:de=de.next=e,de}function $e(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=de===null?te.memoizedState:de.next;if(t!==null)de=t,ue=e;else{if(e===null)throw Error(P(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},de===null?te.memoizedState=de=e:de=de.next=e}return de}function wr(e,t){return typeof t=="function"?t(e):t}function Ss(e){var t=$e(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ue,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var o=a=null,u=null,c=s;do{var p=c.lane;if((Zt&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=d,a=r):u=u.next=d,te.lanes|=p,qt|=p}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=o,Ye(r,t.memoizedState)||(Ee=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,te.lanes|=s,qt|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=$e(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);Ye(s,t.memoizedState)||(Ee=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function cc(){}function dc(e,t){var n=te,r=$e(),l=t(),s=!Ye(r.memoizedState,l);if(s&&(r.memoizedState=l,Ee=!0),r=r.queue,ua(mc.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,Nr(9,pc.bind(null,n,r,l,t),void 0,null),fe===null)throw Error(P(349));Zt&30||fc(n,t,l)}return l}function fc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pc(e,t,n,r){t.value=n,t.getSnapshot=r,hc(t)&&gc(e)}function mc(e,t,n){return n(function(){hc(t)&&gc(e)})}function hc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function gc(e){var t=pt(e,1);t!==null&&Ge(t,e,1,-1)}function ho(e){var t=et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:e},t.queue=e,e=e.dispatch=Lp.bind(null,te,e),[t.memoizedState,e]}function Nr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yc(){return $e().memoizedState}function rl(e,t,n,r){var l=et();te.flags|=e,l.memoizedState=Nr(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var l=$e();r=r===void 0?null:r;var s=void 0;if(ue!==null){var a=ue.memoizedState;if(s=a.destroy,r!==null&&ia(r,a.deps)){l.memoizedState=Nr(t,n,s,r);return}}te.flags|=e,l.memoizedState=Nr(1|t,n,s,r)}function go(e,t){return rl(8390656,8,e,t)}function ua(e,t){return Ul(2048,8,e,t)}function vc(e,t){return Ul(4,2,e,t)}function xc(e,t){return Ul(4,4,e,t)}function jc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sc(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,jc.bind(null,t,e),n)}function ca(){}function wc(e,t){var n=$e();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nc(e,t){var n=$e();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kc(e,t,n){return Zt&21?(Ye(n,t)||(n=Pu(),te.lanes|=n,qt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=n)}function bp(e,t){var n=H;H=n!==0&&4>n?n:4,e(!0);var r=js.transition;js.transition={};try{e(!1),t()}finally{H=n,js.transition=r}}function _c(){return $e().memoizedState}function Pp(e,t,n){var r=Rt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ec(e))Cc(t,n);else if(n=ac(e,t,n,r),n!==null){var l=we();Ge(n,e,r,l),bc(n,t,r)}}function Lp(e,t,n){var r=Rt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))Cc(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(l.hasEagerState=!0,l.eagerState=o,Ye(o,a)){var u=t.interleaved;u===null?(l.next=l,ta(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=ac(e,t,l,r),n!==null&&(l=we(),Ge(n,e,r,l),bc(n,t,r))}}function Ec(e){var t=e.alternate;return e===te||t!==null&&t===te}function Cc(e,t){lr=_l=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ui(e,n)}}var El={readContext:Ue,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Tp={readContext:Ue,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:Ue,useEffect:go,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rl(4194308,4,jc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return rl(4,2,e,t)},useMemo:function(e,t){var n=et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pp.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:ho,useDebugValue:ca,useDeferredValue:function(e){return et().memoizedState=e},useTransition:function(){var e=ho(!1),t=e[0];return e=bp.bind(null,e[1]),et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,l=et();if(Z){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),fe===null)throw Error(P(349));Zt&30||fc(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,go(mc.bind(null,r,s,e),[e]),r.flags|=2048,Nr(9,pc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=et(),t=fe.identifierPrefix;if(Z){var n=ut,r=ot;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zp={readContext:Ue,useCallback:wc,useContext:Ue,useEffect:ua,useImperativeHandle:Sc,useInsertionEffect:vc,useLayoutEffect:xc,useMemo:Nc,useReducer:Ss,useRef:yc,useState:function(){return Ss(wr)},useDebugValue:ca,useDeferredValue:function(e){var t=$e();return kc(t,ue.memoizedState,e)},useTransition:function(){var e=Ss(wr)[0],t=$e().memoizedState;return[e,t]},useMutableSource:cc,useSyncExternalStore:dc,useId:_c,unstable_isNewReconciler:!1},Rp={readContext:Ue,useCallback:wc,useContext:Ue,useEffect:ua,useImperativeHandle:Sc,useInsertionEffect:vc,useLayoutEffect:xc,useMemo:Nc,useReducer:ws,useRef:yc,useState:function(){return ws(wr)},useDebugValue:ca,useDeferredValue:function(e){var t=$e();return ue===null?t.memoizedState=e:kc(t,ue.memoizedState,e)},useTransition:function(){var e=ws(wr)[0],t=$e().memoizedState;return[e,t]},useMutableSource:cc,useSyncExternalStore:dc,useId:_c,unstable_isNewReconciler:!1};function We(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ii(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=we(),l=Rt(e),s=ct(r,l);s.payload=t,n!=null&&(s.callback=n),t=Tt(e,s,l),t!==null&&(Ge(t,e,l,r),tl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=we(),l=Rt(e),s=ct(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Tt(e,s,l),t!==null&&(Ge(t,e,l,r),tl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=we(),r=Rt(e),l=ct(n,r);l.tag=2,t!=null&&(l.callback=t),t=Tt(e,l,r),t!==null&&(Ge(t,e,r,n),tl(t,e,r))}};function yo(e,t,n,r,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!hr(n,r)||!hr(l,s):!0}function Pc(e,t,n){var r=!1,l=Mt,s=t.contextType;return typeof s=="object"&&s!==null?s=Ue(s):(l=be(t)?Yt:xe.current,r=t.contextTypes,s=(r=r!=null)?bn(e,l):Mt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function vo(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function ai(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},na(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=Ue(s):(s=be(t)?Yt:xe.current,l.context=bn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ii(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&$l.enqueueReplaceState(l,l.state,null),Nl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var n="",r=t;do n+=af(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Ns(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dp=typeof WeakMap=="function"?WeakMap:Map;function Lc(e,t,n){n=ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bl||(bl=!0,vi=r),oi(e,t)},n}function Tc(e,t,n){n=ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){oi(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oi(e,t),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function xo(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Jp.bind(null,e,t,n),t.then(e,e))}function jo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function So(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ct(-1,1),t.tag=2,Tt(n,t,1))),n.lanes|=1),e)}var Op=ht.ReactCurrentOwner,Ee=!1;function Se(e,t,n,r){t.child=e===null?ic(t,null,n,r):Ln(t,e.child,n,r)}function wo(e,t,n,r,l){n=n.render;var s=t.ref;return kn(t,l),r=aa(e,t,n,r,s,l),n=oa(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,mt(e,t,l)):(Z&&n&&Gi(t),t.flags|=1,Se(e,t,r,l),t.child)}function No(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!va(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,zc(e,t,s,r,l)):(e=al(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:hr,n(a,r)&&e.ref===t.ref)return mt(e,t,l)}return t.flags|=1,e=Dt(s,r),e.ref=t.ref,e.return=t,t.child=e}function zc(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(hr(s,r)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,mt(e,t,l)}return ui(e,t,n,r,l)}function Rc(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(xn,Te),Te|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(xn,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,G(xn,Te),Te|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,G(xn,Te),Te|=r;return Se(e,t,l,n),t.child}function Dc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ui(e,t,n,r,l){var s=be(n)?Yt:xe.current;return s=bn(t,s),kn(t,l),n=aa(e,t,n,r,s,l),r=oa(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,mt(e,t,l)):(Z&&r&&Gi(t),t.flags|=1,Se(e,t,n,l),t.child)}function ko(e,t,n,r,l){if(be(n)){var s=!0;vl(t)}else s=!1;if(kn(t,l),t.stateNode===null)ll(e,t),Pc(t,n,r),ai(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ue(c):(c=be(n)?Yt:xe.current,c=bn(t,c));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==c)&&vo(t,a,r,c),St=!1;var h=t.memoizedState;a.state=h,Nl(t,r,a,l),u=t.memoizedState,o!==r||h!==u||Ce.current||St?(typeof p=="function"&&(ii(t,n,p,r),u=t.memoizedState),(o=St||yo(t,n,o,r,h,u,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,oc(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:We(t.type,o),a.props=c,d=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ue(u):(u=be(n)?Yt:xe.current,u=bn(t,u));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==u)&&vo(t,a,r,u),St=!1,h=t.memoizedState,a.state=h,Nl(t,r,a,l);var j=t.memoizedState;o!==d||h!==j||Ce.current||St?(typeof v=="function"&&(ii(t,n,v,r),j=t.memoizedState),(c=St||yo(t,n,c,r,h,j,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,j,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,j,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),a.props=r,a.state=j,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ci(e,t,n,r,s,l)}function ci(e,t,n,r,l,s){Dc(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&oo(t,n,!1),mt(e,t,s);r=t.stateNode,Op.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ln(t,e.child,null,s),t.child=Ln(t,null,o,s)):Se(e,t,o,s),t.memoizedState=r.state,l&&oo(t,n,!0),t.child}function Oc(e){var t=e.stateNode;t.pendingContext?ao(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ao(e,t.context,!1),ra(e,t.containerInfo)}function _o(e,t,n,r,l){return Pn(),Xi(l),t.flags|=256,Se(e,t,n,r),t.child}var di={dehydrated:null,treeContext:null,retryLane:0};function fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ic(e,t,n){var r=t.pendingProps,l=ee.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),G(ee,l&1),e===null)return li(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Wl(a,r,0,null),e=Gt(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fi(n),t.memoizedState=di,e):da(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Ip(e,t,a,r,o,l,n);if(s){s=r.fallback,a=t.mode,l=e.child,o=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Dt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?s=Dt(o,s):(s=Gt(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?fi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=di,r}return s=e.child,e=s.sibling,r=Dt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function da(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hr(e,t,n,r){return r!==null&&Xi(r),Ln(t,e.child,null,n),e=da(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ip(e,t,n,r,l,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Ns(Error(P(422))),Hr(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=Wl({mode:"visible",children:r.children},l,0,null),s=Gt(s,l,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ln(t,e.child,null,a),t.child.memoizedState=fi(a),t.memoizedState=di,s);if(!(t.mode&1))return Hr(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(P(419)),r=Ns(s,r,void 0),Hr(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ee||o){if(r=fe,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,pt(e,l),Ge(r,e,l,-1))}return ya(),r=Ns(Error(P(421))),Hr(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gp.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,ze=Lt(l.nextSibling),Re=t,Z=!0,Qe=null,e!==null&&(Me[Be++]=ot,Me[Be++]=ut,Me[Be++]=Xt,ot=e.id,ut=e.overflow,Xt=t),t=da(t,r.children),t.flags|=4096,t)}function Eo(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),si(e.return,t,n)}function ks(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function Mc(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Se(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eo(e,n,t);else if(e.tag===19)Eo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(G(ee,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&kl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ks(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&kl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ks(t,!0,n,null,s);break;case"together":ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ll(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Dt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mp(e,t,n){switch(t.tag){case 3:Oc(t),Pn();break;case 5:uc(t);break;case 1:be(t.type)&&vl(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;G(Sl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(G(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?Ic(e,t,n):(G(ee,ee.current&1),e=mt(e,t,n),e!==null?e.sibling:null);G(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),G(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Rc(e,t,n)}return mt(e,t,n)}var Bc,pi,Fc,Ac;Bc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pi=function(){};Fc=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Qt(rt.current);var s=null;switch(n){case"input":l=Os(e,l),r=Os(e,r),s=[];break;case"select":l=re({},l,{value:void 0}),r=re({},r,{value:void 0}),s=[];break;case"textarea":l=Bs(e,l),r=Bs(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gl)}As(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var o=l[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(or.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(o=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(or.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Y("scroll",e),s||o===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Ac=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qn(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bp(e,t,n){var r=t.pendingProps;switch(Yi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return be(t.type)&&yl(),ye(t),null;case 3:return r=t.stateNode,Tn(),X(Ce),X(xe),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qe!==null&&(Si(Qe),Qe=null))),pi(e,t),ye(t),null;case 5:la(t);var l=Qt(jr.current);if(n=t.type,e!==null&&t.stateNode!=null)Fc(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return ye(t),null}if(e=Qt(rt.current),Vr(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[tt]=t,r[vr]=s,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(l=0;l<Zn.length;l++)Y(Zn[l],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":Da(r,s),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Y("invalid",r);break;case"textarea":Ia(r,s),Y("invalid",r)}As(n,s),l=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Kr(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Kr(r.textContent,o,e),l=["children",""+o]):or.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Y("scroll",r)}switch(n){case"input":Or(r),Oa(r,s,!0);break;case"textarea":Or(r),Ma(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[tt]=t,e[vr]=r,Bc(e,t,!1,!1),t.stateNode=e;e:{switch(a=Us(n,r),n){case"dialog":Y("cancel",e),Y("close",e),l=r;break;case"iframe":case"object":case"embed":Y("load",e),l=r;break;case"video":case"audio":for(l=0;l<Zn.length;l++)Y(Zn[l],e);l=r;break;case"source":Y("error",e),l=r;break;case"img":case"image":case"link":Y("error",e),Y("load",e),l=r;break;case"details":Y("toggle",e),l=r;break;case"input":Da(e,r),l=Os(e,r),Y("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=re({},r,{value:void 0}),Y("invalid",e);break;case"textarea":Ia(e,r),l=Bs(e,r),Y("invalid",e);break;default:l=r}As(n,l),o=l;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?yu(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hu(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ur(e,u):typeof u=="number"&&ur(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(or.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Y("scroll",e):u!=null&&Oi(e,s,u,a))}switch(n){case"input":Or(e),Oa(e,r,!1);break;case"textarea":Or(e),Ma(e);break;case"option":r.value!=null&&e.setAttribute("value",""+It(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?jn(e,!!r.multiple,s,!1):r.defaultValue!=null&&jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)Ac(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Qt(jr.current),Qt(rt.current),Vr(t)){if(r=t.stateNode,n=t.memoizedProps,r[tt]=t,(s=r.nodeValue!==n)&&(e=Re,e!==null))switch(e.tag){case 3:Kr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kr(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tt]=t,t.stateNode=r}return ye(t),null;case 13:if(X(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&ze!==null&&t.mode&1&&!(t.flags&128))lc(),Pn(),t.flags|=98560,s=!1;else if(s=Vr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[tt]=t}else Pn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),s=!1}else Qe!==null&&(Si(Qe),Qe=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ce===0&&(ce=3):ya())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Tn(),pi(e,t),e===null&&gr(t.stateNode.containerInfo),ye(t),null;case 10:return ea(t.type._context),ye(t),null;case 17:return be(t.type)&&yl(),ye(t),null;case 19:if(X(ee),s=t.memoizedState,s===null)return ye(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Qn(s,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=kl(e),a!==null){for(t.flags|=128,Qn(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(ee,ee.current&1|2),t.child}e=e.sibling}s.tail!==null&&ie()>Rn&&(t.flags|=128,r=!0,Qn(s,!1),t.lanes=4194304)}else{if(!r)if(e=kl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Z)return ye(t),null}else 2*ie()-s.renderingStartTime>Rn&&n!==1073741824&&(t.flags|=128,r=!0,Qn(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ie(),t.sibling=null,n=ee.current,G(ee,r?n&1|2:n&1),t):(ye(t),null);case 22:case 23:return ga(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Te&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Fp(e,t){switch(Yi(t),t.tag){case 1:return be(t.type)&&yl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),X(Ce),X(xe),sa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return la(t),null;case 13:if(X(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(ee),null;case 4:return Tn(),null;case 10:return ea(t.type._context),null;case 22:case 23:return ga(),null;case 24:return null;default:return null}}var Qr=!1,ve=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,R=null;function vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(e,t,r)}else n.current=null}function mi(e,t,n){try{n()}catch(r){le(e,t,r)}}var Co=!1;function Up(e,t){if(Xs=pl,e=Wu(),Ji(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,p=0,d=e,h=null;t:for(;;){for(var v;d!==n||l!==0&&d.nodeType!==3||(o=a+l),d!==s||r!==0&&d.nodeType!==3||(u=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===e)break t;if(h===n&&++c===l&&(o=a),h===s&&++p===r&&(u=a),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zs={focusedElem:e,selectionRange:n},pl=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,w=j.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:We(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){le(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return j=Co,Co=!1,j}function sr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&mi(t,n,s)}l=l.next}while(l!==r)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Uc(e){var t=e.alternate;t!==null&&(e.alternate=null,Uc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tt],delete t[vr],delete t[ti],delete t[Np],delete t[kp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $c(e){return e.tag===5||e.tag===3||e.tag===4}function bo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gl));else if(r!==4&&(e=e.child,e!==null))for(gi(e,t,n),e=e.sibling;e!==null;)gi(e,t,n),e=e.sibling}function yi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yi(e,t,n),e=e.sibling;e!==null;)yi(e,t,n),e=e.sibling}var pe=null,He=!1;function xt(e,t,n){for(n=n.child;n!==null;)Kc(e,t,n),n=n.sibling}function Kc(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:ve||vn(n,t);case 6:var r=pe,l=He;pe=null,xt(e,t,n),pe=r,He=l,pe!==null&&(He?(e=pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(He?(e=pe,n=n.stateNode,e.nodeType===8?ys(e.parentNode,n):e.nodeType===1&&ys(e,n),pr(e)):ys(pe,n.stateNode));break;case 4:r=pe,l=He,pe=n.stateNode.containerInfo,He=!0,xt(e,t,n),pe=r,He=l;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&mi(n,t,a),l=l.next}while(l!==r)}xt(e,t,n);break;case 1:if(!ve&&(vn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){le(n,t,o)}xt(e,t,n);break;case 21:xt(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,xt(e,t,n),ve=r):xt(e,t,n);break;default:xt(e,t,n)}}function Po(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ap),t.forEach(function(r){var l=Yp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ve(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:pe=o.stateNode,He=!1;break e;case 3:pe=o.stateNode.containerInfo,He=!0;break e;case 4:pe=o.stateNode.containerInfo,He=!0;break e}o=o.return}if(pe===null)throw Error(P(160));Kc(s,a,l),pe=null,He=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){le(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vc(t,e),t=t.sibling}function Vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ve(t,e),qe(e),r&4){try{sr(3,e,e.return),Kl(3,e)}catch(x){le(e,e.return,x)}try{sr(5,e,e.return)}catch(x){le(e,e.return,x)}}break;case 1:Ve(t,e),qe(e),r&512&&n!==null&&vn(n,n.return);break;case 5:if(Ve(t,e),qe(e),r&512&&n!==null&&vn(n,n.return),e.flags&32){var l=e.stateNode;try{ur(l,"")}catch(x){le(e,e.return,x)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&fu(l,s),Us(o,a);var c=Us(o,s);for(a=0;a<u.length;a+=2){var p=u[a],d=u[a+1];p==="style"?yu(l,d):p==="dangerouslySetInnerHTML"?hu(l,d):p==="children"?ur(l,d):Oi(l,p,d,c)}switch(o){case"input":Is(l,s);break;case"textarea":pu(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?jn(l,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?jn(l,!!s.multiple,s.defaultValue,!0):jn(l,!!s.multiple,s.multiple?[]:"",!1))}l[vr]=s}catch(x){le(e,e.return,x)}}break;case 6:if(Ve(t,e),qe(e),r&4){if(e.stateNode===null)throw Error(P(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(x){le(e,e.return,x)}}break;case 3:if(Ve(t,e),qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pr(t.containerInfo)}catch(x){le(e,e.return,x)}break;case 4:Ve(t,e),qe(e);break;case 13:Ve(t,e),qe(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(ma=ie())),r&4&&Po(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(c=ve)||p,Ve(t,e),ve=c):Ve(t,e),qe(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(R=e,p=e.child;p!==null;){for(d=R=p;R!==null;){switch(h=R,v=h.child,h.tag){case 0:case 11:case 14:case 15:sr(4,h,h.return);break;case 1:vn(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(x){le(r,n,x)}}break;case 5:vn(h,h.return);break;case 22:if(h.memoizedState!==null){To(d);continue}}v!==null?(v.return=h,R=v):To(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{l=d.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,u=d.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=gu("display",a))}catch(x){le(e,e.return,x)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){le(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ve(t,e),qe(e),r&4&&Po(e);break;case 21:break;default:Ve(t,e),qe(e)}}function qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($c(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ur(l,""),r.flags&=-33);var s=bo(e);yi(e,s,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=bo(e);gi(e,o,a);break;default:throw Error(P(161))}}catch(u){le(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $p(e,t,n){R=e,Wc(e)}function Wc(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var l=R,s=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Qr;if(!a){var o=l.alternate,u=o!==null&&o.memoizedState!==null||ve;o=Qr;var c=ve;if(Qr=a,(ve=u)&&!c)for(R=l;R!==null;)a=R,u=a.child,a.tag===22&&a.memoizedState!==null?zo(l):u!==null?(u.return=a,R=u):zo(l);for(;s!==null;)R=s,Wc(s),s=s.sibling;R=l,Qr=o,ve=c}Lo(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,R=s):Lo(e)}}function Lo(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Kl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:We(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&mo(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mo(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&pr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ve||t.flags&512&&hi(t)}catch(h){le(t,t.return,h)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function To(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function zo(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(u){le(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){le(t,l,u)}}var s=t.return;try{hi(t)}catch(u){le(t,s,u)}break;case 5:var a=t.return;try{hi(t)}catch(u){le(t,a,u)}}}catch(u){le(t,t.return,u)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var Kp=Math.ceil,Cl=ht.ReactCurrentDispatcher,fa=ht.ReactCurrentOwner,Ae=ht.ReactCurrentBatchConfig,W=0,fe=null,oe=null,me=0,Te=0,xn=At(0),ce=0,kr=null,qt=0,Vl=0,pa=0,ir=null,_e=null,ma=0,Rn=1/0,it=null,bl=!1,vi=null,zt=null,Jr=!1,_t=null,Pl=0,ar=0,xi=null,sl=-1,il=0;function we(){return W&6?ie():sl!==-1?sl:sl=ie()}function Rt(e){return e.mode&1?W&2&&me!==0?me&-me:Ep.transition!==null?(il===0&&(il=Pu()),il):(e=H,e!==0||(e=window.event,e=e===void 0?16:Iu(e.type)),e):1}function Ge(e,t,n,r){if(50<ar)throw ar=0,xi=null,Error(P(185));br(e,n,r),(!(W&2)||e!==fe)&&(e===fe&&(!(W&2)&&(Vl|=n),ce===4&&Nt(e,me)),Pe(e,r),n===1&&W===0&&!(t.mode&1)&&(Rn=ie()+500,Al&&Ut()))}function Pe(e,t){var n=e.callbackNode;Ef(e,t);var r=fl(e,e===fe?me:0);if(r===0)n!==null&&Aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Aa(n),t===1)e.tag===0?_p(Ro.bind(null,e)):tc(Ro.bind(null,e)),Sp(function(){!(W&6)&&Ut()}),n=null;else{switch(Lu(r)){case 1:n=Ai;break;case 4:n=Cu;break;case 16:n=dl;break;case 536870912:n=bu;break;default:n=dl}n=qc(n,Hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hc(e,t){if(sl=-1,il=0,W&6)throw Error(P(327));var n=e.callbackNode;if(_n()&&e.callbackNode!==n)return null;var r=fl(e,e===fe?me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ll(e,r);else{t=r;var l=W;W|=2;var s=Jc();(fe!==e||me!==t)&&(it=null,Rn=ie()+500,Jt(e,t));do try{Hp();break}catch(o){Qc(e,o)}while(!0);qi(),Cl.current=s,W=l,oe!==null?t=0:(fe=null,me=0,t=ce)}if(t!==0){if(t===2&&(l=Hs(e),l!==0&&(r=l,t=ji(e,l))),t===1)throw n=kr,Jt(e,0),Nt(e,r),Pe(e,ie()),n;if(t===6)Nt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Vp(l)&&(t=Ll(e,r),t===2&&(s=Hs(e),s!==0&&(r=s,t=ji(e,s))),t===1))throw n=kr,Jt(e,0),Nt(e,r),Pe(e,ie()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Vt(e,_e,it);break;case 3:if(Nt(e,r),(r&130023424)===r&&(t=ma+500-ie(),10<t)){if(fl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){we(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ei(Vt.bind(null,e,_e,it),t);break}Vt(e,_e,it);break;case 4:if(Nt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Je(r);s=1<<a,a=t[a],a>l&&(l=a),r&=~s}if(r=l,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kp(r/1960))-r,10<r){e.timeoutHandle=ei(Vt.bind(null,e,_e,it),r);break}Vt(e,_e,it);break;case 5:Vt(e,_e,it);break;default:throw Error(P(329))}}}return Pe(e,ie()),e.callbackNode===n?Hc.bind(null,e):null}function ji(e,t){var n=ir;return e.current.memoizedState.isDehydrated&&(Jt(e,t).flags|=256),e=Ll(e,t),e!==2&&(t=_e,_e=n,t!==null&&Si(t)),e}function Si(e){_e===null?_e=e:_e.push.apply(_e,e)}function Vp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ye(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nt(e,t){for(t&=~pa,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Je(t),r=1<<n;e[n]=-1,t&=~r}}function Ro(e){if(W&6)throw Error(P(327));_n();var t=fl(e,0);if(!(t&1))return Pe(e,ie()),null;var n=Ll(e,t);if(e.tag!==0&&n===2){var r=Hs(e);r!==0&&(t=r,n=ji(e,r))}if(n===1)throw n=kr,Jt(e,0),Nt(e,t),Pe(e,ie()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vt(e,_e,it),Pe(e,ie()),null}function ha(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Rn=ie()+500,Al&&Ut())}}function en(e){_t!==null&&_t.tag===0&&!(W&6)&&_n();var t=W;W|=1;var n=Ae.transition,r=H;try{if(Ae.transition=null,H=1,e)return e()}finally{H=r,Ae.transition=n,W=t,!(W&6)&&Ut()}}function ga(){Te=xn.current,X(xn)}function Jt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jp(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Yi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yl();break;case 3:Tn(),X(Ce),X(xe),sa();break;case 5:la(r);break;case 4:Tn();break;case 13:X(ee);break;case 19:X(ee);break;case 10:ea(r.type._context);break;case 22:case 23:ga()}n=n.return}if(fe=e,oe=e=Dt(e.current,null),me=Te=t,ce=0,kr=null,pa=Vl=qt=0,_e=ir=null,Ht!==null){for(t=0;t<Ht.length;t++)if(n=Ht[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=l,r.next=a}n.pending=r}Ht=null}return e}function Qc(e,t){do{var n=oe;try{if(qi(),nl.current=El,_l){for(var r=te.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}_l=!1}if(Zt=0,de=ue=te=null,lr=!1,Sr=0,fa.current=null,n===null||n.return===null){ce=1,kr=t,oe=null;break}e:{var s=e,a=n.return,o=n,u=t;if(t=me,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=o,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=jo(a);if(v!==null){v.flags&=-257,So(v,a,o,s,t),v.mode&1&&xo(s,c,t),t=v,u=c;var j=t.updateQueue;if(j===null){var x=new Set;x.add(u),t.updateQueue=x}else j.add(u);break e}else{if(!(t&1)){xo(s,c,t),ya();break e}u=Error(P(426))}}else if(Z&&o.mode&1){var w=jo(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),So(w,a,o,s,t),Xi(zn(u,o));break e}}s=u=zn(u,o),ce!==4&&(ce=2),ir===null?ir=[s]:ir.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Lc(s,u,t);po(s,g);break e;case 1:o=u;var m=s.type,f=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zt===null||!zt.has(f)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Tc(s,o,t);po(s,S);break e}}s=s.return}while(s!==null)}Yc(n)}catch(b){t=b,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Jc(){var e=Cl.current;return Cl.current=El,e===null?El:e}function ya(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(qt&268435455)&&!(Vl&268435455)||Nt(fe,me)}function Ll(e,t){var n=W;W|=2;var r=Jc();(fe!==e||me!==t)&&(it=null,Jt(e,t));do try{Wp();break}catch(l){Qc(e,l)}while(!0);if(qi(),W=n,Cl.current=r,oe!==null)throw Error(P(261));return fe=null,me=0,ce}function Wp(){for(;oe!==null;)Gc(oe)}function Hp(){for(;oe!==null&&!yf();)Gc(oe)}function Gc(e){var t=Zc(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?Yc(e):oe=t,fa.current=null}function Yc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fp(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,oe=null;return}}else if(n=Bp(n,t,Te),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ce===0&&(ce=5)}function Vt(e,t,n){var r=H,l=Ae.transition;try{Ae.transition=null,H=1,Qp(e,t,n,r)}finally{Ae.transition=l,H=r}return null}function Qp(e,t,n,r){do _n();while(_t!==null);if(W&6)throw Error(P(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cf(e,s),e===fe&&(oe=fe=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jr||(Jr=!0,qc(dl,function(){return _n(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ae.transition,Ae.transition=null;var a=H;H=1;var o=W;W|=4,fa.current=null,Up(e,n),Vc(n,e),pp(Zs),pl=!!Xs,Zs=Xs=null,e.current=n,$p(n),vf(),W=o,H=a,Ae.transition=s}else e.current=n;if(Jr&&(Jr=!1,_t=e,Pl=l),s=e.pendingLanes,s===0&&(zt=null),Sf(n.stateNode),Pe(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(bl)throw bl=!1,e=vi,vi=null,e;return Pl&1&&e.tag!==0&&_n(),s=e.pendingLanes,s&1?e===xi?ar++:(ar=0,xi=e):ar=0,Ut(),null}function _n(){if(_t!==null){var e=Lu(Pl),t=Ae.transition,n=H;try{if(Ae.transition=null,H=16>e?16:e,_t===null)var r=!1;else{if(e=_t,_t=null,Pl=0,W&6)throw Error(P(331));var l=W;for(W|=4,R=e.current;R!==null;){var s=R,a=s.child;if(R.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(R=c;R!==null;){var p=R;switch(p.tag){case 0:case 11:case 15:sr(8,p,s)}var d=p.child;if(d!==null)d.return=p,R=d;else for(;R!==null;){p=R;var h=p.sibling,v=p.return;if(Uc(p),p===c){R=null;break}if(h!==null){h.return=v,R=h;break}R=v}}}var j=s.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}R=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,R=a;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,R=g;break e}R=s.return}}var m=e.current;for(R=m;R!==null;){a=R;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,R=f;else e:for(a=m;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kl(9,o)}}catch(b){le(o,o.return,b)}if(o===a){R=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,R=S;break e}R=o.return}}if(W=l,Ut(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ol,e)}catch{}r=!0}return r}finally{H=n,Ae.transition=t}}return!1}function Do(e,t,n){t=zn(n,t),t=Lc(e,t,1),e=Tt(e,t,1),t=we(),e!==null&&(br(e,1,t),Pe(e,t))}function le(e,t,n){if(e.tag===3)Do(e,e,n);else for(;t!==null;){if(t.tag===3){Do(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){e=zn(n,e),e=Tc(t,e,1),t=Tt(t,e,1),e=we(),t!==null&&(br(t,1,e),Pe(t,e));break}}t=t.return}}function Jp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(me&n)===n&&(ce===4||ce===3&&(me&130023424)===me&&500>ie()-ma?Jt(e,0):pa|=n),Pe(e,t)}function Xc(e,t){t===0&&(e.mode&1?(t=Br,Br<<=1,!(Br&130023424)&&(Br=4194304)):t=1);var n=we();e=pt(e,t),e!==null&&(br(e,t,n),Pe(e,n))}function Gp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xc(e,n)}function Yp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Xc(e,n)}var Zc;Zc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Ee=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ee=!1,Mp(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,Z&&t.flags&1048576&&nc(t,jl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ll(e,t),e=t.pendingProps;var l=bn(t,xe.current);kn(t,n),l=aa(null,t,r,e,l,n);var s=oa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(r)?(s=!0,vl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,na(t),l.updater=$l,t.stateNode=l,l._reactInternals=t,ai(t,r,e,n),t=ci(null,t,r,!0,s,n)):(t.tag=0,Z&&s&&Gi(t),Se(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ll(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Zp(r),e=We(r,e),l){case 0:t=ui(null,t,r,e,n);break e;case 1:t=ko(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=No(null,t,r,We(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:We(r,l),ui(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:We(r,l),ko(e,t,r,l,n);case 3:e:{if(Oc(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,l=s.element,oc(e,t),Nl(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=zn(Error(P(423)),t),t=_o(e,t,r,n,l);break e}else if(r!==l){l=zn(Error(P(424)),t),t=_o(e,t,r,n,l);break e}else for(ze=Lt(t.stateNode.containerInfo.firstChild),Re=t,Z=!0,Qe=null,n=ic(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pn(),r===l){t=mt(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return uc(t),e===null&&li(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,qs(r,l)?a=null:s!==null&&qs(r,s)&&(t.flags|=32),Dc(e,t),Se(e,t,a,n),t.child;case 6:return e===null&&li(t),null;case 13:return Ic(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ln(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:We(r,l),wo(e,t,r,l,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,a=l.value,G(Sl,r._currentValue),r._currentValue=a,s!==null)if(Ye(s.value,a)){if(s.children===l.children&&!Ce.current){t=mt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ct(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),si(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(P(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),si(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Se(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,kn(t,n),l=Ue(l),r=r(l),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,l=We(r,t.pendingProps),l=We(r.type,l),No(e,t,r,l,n);case 15:return zc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:We(r,l),ll(e,t),t.tag=1,be(r)?(e=!0,vl(t)):e=!1,kn(t,n),Pc(t,r,l),ai(t,r,l,n),ci(null,t,r,!0,e,n);case 19:return Mc(e,t,n);case 22:return Rc(e,t,n)}throw Error(P(156,t.tag))};function qc(e,t){return Eu(e,t)}function Xp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,t,n,r){return new Xp(e,t,n,r)}function va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zp(e){if(typeof e=="function")return va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mi)return 11;if(e===Bi)return 14}return 2}function Dt(e,t){var n=e.alternate;return n===null?(n=Fe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function al(e,t,n,r,l,s){var a=2;if(r=e,typeof e=="function")va(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case un:return Gt(n.children,l,s,t);case Ii:a=8,l|=8;break;case Ts:return e=Fe(12,n,t,l|2),e.elementType=Ts,e.lanes=s,e;case zs:return e=Fe(13,n,t,l),e.elementType=zs,e.lanes=s,e;case Rs:return e=Fe(19,n,t,l),e.elementType=Rs,e.lanes=s,e;case uu:return Wl(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case au:a=10;break e;case ou:a=9;break e;case Mi:a=11;break e;case Bi:a=14;break e;case jt:a=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Fe(a,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Gt(e,t,n,r){return e=Fe(7,e,r,t),e.lanes=n,e}function Wl(e,t,n,r){return e=Fe(22,e,r,t),e.elementType=uu,e.lanes=n,e.stateNode={isHidden:!1},e}function _s(e,t,n){return e=Fe(6,e,null,t),e.lanes=n,e}function Es(e,t,n){return t=Fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qp(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=is(0),this.expirationTimes=is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function xa(e,t,n,r,l,s,a,o,u){return e=new qp(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Fe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(s),e}function em(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:on,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ed(e){if(!e)return Mt;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(be(n))return ec(e,n,t)}return t}function td(e,t,n,r,l,s,a,o,u){return e=xa(n,r,!0,e,l,s,a,o,u),e.context=ed(null),n=e.current,r=we(),l=Rt(n),s=ct(r,l),s.callback=t??null,Tt(n,s,l),e.current.lanes=l,br(e,l,r),Pe(e,r),e}function Hl(e,t,n,r){var l=t.current,s=we(),a=Rt(l);return n=ed(n),t.context===null?t.context=n:t.pendingContext=n,t=ct(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tt(l,t,a),e!==null&&(Ge(e,l,a,s),tl(e,l,a)),a}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Oo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ja(e,t){Oo(e,t),(e=e.alternate)&&Oo(e,t)}function tm(){return null}var nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sa(e){this._internalRoot=e}Ql.prototype.render=Sa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Hl(e,t,null,null)};Ql.prototype.unmount=Sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;en(function(){Hl(null,e,null,null)}),t[ft]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ru();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wt.length&&t!==0&&t<wt[n].priority;n++);wt.splice(n,0,e),n===0&&Ou(e)}};function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Io(){}function nm(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Tl(a);s.call(c)}}var a=td(t,r,e,0,null,!1,!1,"",Io);return e._reactRootContainer=a,e[ft]=a.current,gr(e.nodeType===8?e.parentNode:e),en(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var c=Tl(u);o.call(c)}}var u=xa(e,0,!1,null,null,!1,!1,"",Io);return e._reactRootContainer=u,e[ft]=u.current,gr(e.nodeType===8?e.parentNode:e),en(function(){Hl(t,u,n,r)}),u}function Gl(e,t,n,r,l){var s=n._reactRootContainer;if(s){var a=s;if(typeof l=="function"){var o=l;l=function(){var u=Tl(a);o.call(u)}}Hl(t,a,e,l)}else a=nm(n,t,e,l,r);return Tl(a)}Tu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xn(t.pendingLanes);n!==0&&(Ui(t,n|1),Pe(t,ie()),!(W&6)&&(Rn=ie()+500,Ut()))}break;case 13:en(function(){var r=pt(e,1);if(r!==null){var l=we();Ge(r,e,1,l)}}),ja(e,1)}};$i=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var n=we();Ge(t,e,134217728,n)}ja(e,134217728)}};zu=function(e){if(e.tag===13){var t=Rt(e),n=pt(e,t);if(n!==null){var r=we();Ge(n,e,t,r)}ja(e,t)}};Ru=function(){return H};Du=function(e,t){var n=H;try{return H=e,t()}finally{H=n}};Ks=function(e,t,n){switch(t){case"input":if(Is(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Fl(r);if(!l)throw Error(P(90));du(r),Is(r,l)}}}break;case"textarea":pu(e,n);break;case"select":t=n.value,t!=null&&jn(e,!!n.multiple,t,!1)}};ju=ha;Su=en;var rm={usingClientEntryPoint:!1,Events:[Lr,pn,Fl,vu,xu,ha]},Jn={findFiberByHostInstance:Wt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lm={bundleType:Jn.bundleType,version:Jn.version,rendererPackageName:Jn.rendererPackageName,rendererConfig:Jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ku(e),e===null?null:e.stateNode},findFiberByHostInstance:Jn.findFiberByHostInstance||tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gr.isDisabled&&Gr.supportsFiber)try{Ol=Gr.inject(lm),nt=Gr}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(t))throw Error(P(200));return em(e,t,null,n)};Oe.createRoot=function(e,t){if(!wa(e))throw Error(P(299));var n=!1,r="",l=nd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=xa(e,1,!1,null,null,n,!1,r,l),e[ft]=t.current,gr(e.nodeType===8?e.parentNode:e),new Sa(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ku(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return en(e)};Oe.hydrate=function(e,t,n){if(!Jl(t))throw Error(P(200));return Gl(null,e,t,!0,n)};Oe.hydrateRoot=function(e,t,n){if(!wa(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",a=nd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=td(t,null,e,1,n??null,l,!1,s,a),e[ft]=t.current,gr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ql(t)};Oe.render=function(e,t,n){if(!Jl(t))throw Error(P(200));return Gl(null,e,t,!1,n)};Oe.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(P(40));return e._reactRootContainer?(en(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[ft]=null})}),!0):!1};Oe.unstable_batchedUpdates=ha;Oe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Gl(e,t,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function rd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rd)}catch(e){console.error(e)}}rd(),ru.exports=Oe;var sm=ru.exports,Mo=sm;Ps.createRoot=Mo.createRoot,Ps.hydrateRoot=Mo.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_r.apply(this,arguments)}var Et;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Et||(Et={}));const Bo="popstate";function im(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:a,hash:o}=r.location;return wi("",{pathname:s,search:a,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:zl(l)}return om(t,n,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Na(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function am(){return Math.random().toString(36).substr(2,8)}function Fo(e,t){return{usr:e.state,key:e.key,idx:t}}function wi(e,t,n,r){return n===void 0&&(n=null),_r({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bn(t):t,{state:n,key:t&&t.key||r||am()})}function zl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function om(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,a=l.history,o=Et.Pop,u=null,c=p();c==null&&(c=0,a.replaceState(_r({},a.state,{idx:c}),""));function p(){return(a.state||{idx:null}).idx}function d(){o=Et.Pop;let w=p(),g=w==null?null:w-c;c=w,u&&u({action:o,location:x.location,delta:g})}function h(w,g){o=Et.Push;let m=wi(x.location,w,g);c=p()+1;let f=Fo(m,c),S=x.createHref(m);try{a.pushState(f,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;l.location.assign(S)}s&&u&&u({action:o,location:x.location,delta:1})}function v(w,g){o=Et.Replace;let m=wi(x.location,w,g);c=p();let f=Fo(m,c),S=x.createHref(m);a.replaceState(f,"",S),s&&u&&u({action:o,location:x.location,delta:0})}function j(w){let g=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof w=="string"?w:zl(w);return m=m.replace(/ $/,"%20"),ne(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let x={get action(){return o},get location(){return e(l,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(Bo,d),u=w,()=>{l.removeEventListener(Bo,d),u=null}},createHref(w){return t(l,w)},createURL:j,encodeLocation(w){let g=j(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:v,go(w){return a.go(w)}};return x}var Ao;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ao||(Ao={}));function um(e,t,n){return n===void 0&&(n="/"),cm(e,t,n)}function cm(e,t,n,r){let l=typeof t=="string"?Bn(t):t,s=Dn(l.pathname||"/",n);if(s==null)return null;let a=ld(e);dm(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=wm(s);o=jm(a[u],c)}return o}function ld(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ne(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ot([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ld(s.children,t,p,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:vm(c,s.index),routesMeta:p})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))l(s,a);else for(let u of sd(s.path))l(s,a,u)}),t}function sd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let a=sd(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),l&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function dm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xm(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fm=/^:[\w-]+$/,pm=3,mm=2,hm=1,gm=10,ym=-2,Uo=e=>e==="*";function vm(e,t){let n=e.split("/"),r=n.length;return n.some(Uo)&&(r+=ym),t&&(r+=mm),n.filter(l=>!Uo(l)).reduce((l,s)=>l+(fm.test(s)?pm:s===""?hm:gm),r)}function xm(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function jm(e,t,n){let{routesMeta:r}=e,l={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",d=Ni({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),h=u.route;if(!d)return null;Object.assign(l,d.params),a.push({params:l,pathname:Ot([s,d.pathname]),pathnameBase:Cm(Ot([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ot([s,d.pathnameBase]))}return a}function Ni(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Sm(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],a=s.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((c,p,d)=>{let{paramName:h,isOptional:v}=p;if(h==="*"){let x=o[d]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const j=o[d];return v&&!j?c[h]=void 0:c[h]=(j||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function Sm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Na(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function wm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Na(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,km=e=>Nm.test(e);function _m(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Bn(e):e,s;if(n)if(km(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Na(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=$o(n.substring(1),"/"):s=$o(n,t)}else s=t;return{pathname:s,search:bm(r),hash:Pm(l)}}function $o(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Cs(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Em(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ka(e,t){let n=Em(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _a(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Bn(e):(l=_r({},e),ne(!l.pathname||!l.pathname.includes("?"),Cs("?","pathname","search",l)),ne(!l.pathname||!l.pathname.includes("#"),Cs("#","pathname","hash",l)),ne(!l.search||!l.search.includes("#"),Cs("#","search","hash",l)));let s=e===""||l.pathname==="",a=s?"/":l.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;l.pathname=h.join("/")}o=d>=0?t[d]:"/"}let u=_m(l,o),c=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const Ot=e=>e.join("/").replace(/\/\/+/g,"/"),Cm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const id=["post","put","patch","delete"];new Set(id);const Tm=["get",...id];new Set(Tm);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Er.apply(this,arguments)}const Yl=y.createContext(null),ad=y.createContext(null),gt=y.createContext(null),Xl=y.createContext(null),st=y.createContext({outlet:null,matches:[],isDataRoute:!1}),od=y.createContext(null);function zm(e,t){let{relative:n}=t===void 0?{}:t;Fn()||ne(!1);let{basename:r,navigator:l}=y.useContext(gt),{hash:s,pathname:a,search:o}=Zl(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Ot([r,a])),l.createHref({pathname:u,search:o,hash:s})}function Fn(){return y.useContext(Xl)!=null}function $t(){return Fn()||ne(!1),y.useContext(Xl).location}function ud(e){y.useContext(gt).static||y.useLayoutEffect(e)}function An(){let{isDataRoute:e}=y.useContext(st);return e?Jm():Rm()}function Rm(){Fn()||ne(!1);let e=y.useContext(Yl),{basename:t,future:n,navigator:r}=y.useContext(gt),{matches:l}=y.useContext(st),{pathname:s}=$t(),a=JSON.stringify(ka(l,n.v7_relativeSplatPath)),o=y.useRef(!1);return ud(()=>{o.current=!0}),y.useCallback(function(c,p){if(p===void 0&&(p={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=_a(c,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ot([t,d.pathname])),(p.replace?r.replace:r.push)(d,p.state,p)},[t,r,a,s,e])}const Dm=y.createContext(null);function Om(e){let t=y.useContext(st).outlet;return t&&y.createElement(Dm.Provider,{value:e},t)}function Im(){let{matches:e}=y.useContext(st),t=e[e.length-1];return t?t.params:{}}function Zl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(gt),{matches:l}=y.useContext(st),{pathname:s}=$t(),a=JSON.stringify(ka(l,r.v7_relativeSplatPath));return y.useMemo(()=>_a(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function Mm(e,t){return Bm(e,t)}function Bm(e,t,n,r){Fn()||ne(!1);let{navigator:l}=y.useContext(gt),{matches:s}=y.useContext(st),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=$t(),p;if(t){var d;let w=typeof t=="string"?Bn(t):t;u==="/"||(d=w.pathname)!=null&&d.startsWith(u)||ne(!1),p=w}else p=c;let h=p.pathname||"/",v=h;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=um(e,{pathname:v}),x=Km(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ot([u,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Ot([u,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&x?y.createElement(Xl.Provider,{value:{location:Er({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Et.Pop}},x):x}function Fm(){let e=Qm(),t=Lm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:l},n):null,null)}const Am=y.createElement(Fm,null);class Um extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(st.Provider,{value:this.props.routeContext},y.createElement(od.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $m(e){let{routeContext:t,match:n,children:r}=e,l=y.useContext(Yl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(st.Provider,{value:t},r)}function Km(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let p=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);p>=0||ne(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let d=a[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=p),d.route.id){let{loaderData:h,errors:v}=n,j=d.route.loader&&h[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||j){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((p,d,h)=>{let v,j=!1,x=null,w=null;n&&(v=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||Am,u&&(c<0&&h===0?(Gm("route-fallback"),j=!0,w=null):c===h&&(j=!0,w=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),m=()=>{let f;return v?f=x:j?f=w:d.route.Component?f=y.createElement(d.route.Component,null):d.route.element?f=d.route.element:f=p,y.createElement($m,{match:d,routeContext:{outlet:p,matches:g,isDataRoute:n!=null},children:f})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(Um,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var cd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cd||{}),dd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dd||{});function Vm(e){let t=y.useContext(Yl);return t||ne(!1),t}function Wm(e){let t=y.useContext(ad);return t||ne(!1),t}function Hm(e){let t=y.useContext(st);return t||ne(!1),t}function fd(e){let t=Hm(),n=t.matches[t.matches.length-1];return n.route.id||ne(!1),n.route.id}function Qm(){var e;let t=y.useContext(od),n=Wm(),r=fd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Jm(){let{router:e}=Vm(cd.UseNavigateStable),t=fd(dd.UseNavigateStable),n=y.useRef(!1);return ud(()=>{n.current=!0}),y.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Er({fromRouteId:t},s)))},[e,t])}const Ko={};function Gm(e,t,n){Ko[e]||(Ko[e]=!0)}function Ym(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ki(e){let{to:t,replace:n,state:r,relative:l}=e;Fn()||ne(!1);let{future:s,static:a}=y.useContext(gt),{matches:o}=y.useContext(st),{pathname:u}=$t(),c=An(),p=_a(t,ka(o,s.v7_relativeSplatPath),u,l==="path"),d=JSON.stringify(p);return y.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:l}),[c,d,l,n,r]),null}function pd(e){return Om(e.context)}function je(e){ne(!1)}function Xm(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Et.Pop,navigator:s,static:a=!1,future:o}=e;Fn()&&ne(!1);let u=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:u,navigator:s,static:a,future:Er({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=Bn(r));let{pathname:p="/",search:d="",hash:h="",state:v=null,key:j="default"}=r,x=y.useMemo(()=>{let w=Dn(p,u);return w==null?null:{location:{pathname:w,search:d,hash:h,state:v,key:j},navigationType:l}},[u,p,d,h,v,j,l]);return x==null?null:y.createElement(gt.Provider,{value:c},y.createElement(Xl.Provider,{children:n,value:x}))}function Zm(e){let{children:t,location:n}=e;return Mm(_i(t),n)}new Promise(()=>{});function _i(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,l)=>{if(!y.isValidElement(r))return;let s=[...t,l];if(r.type===y.Fragment){n.push.apply(n,_i(r.props.children,s));return}r.type!==je&&ne(!1),!r.props.index||!r.props.children||ne(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=_i(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}function md(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function qm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eh(e,t){return e.button===0&&(!t||t==="_self")&&!qm(e)}const th=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nh=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rh="6";try{window.__reactRouterVersion=rh}catch{}const lh=y.createContext({isTransitioning:!1}),sh="startTransition",Vo=Qd[sh];function ih(e){let{basename:t,children:n,future:r,window:l}=e,s=y.useRef();s.current==null&&(s.current=im({window:l,v5Compat:!0}));let a=s.current,[o,u]=y.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},p=y.useCallback(d=>{c&&Vo?Vo(()=>u(d)):u(d)},[u,c]);return y.useLayoutEffect(()=>a.listen(p),[a,p]),y.useEffect(()=>Ym(r),[r]),y.createElement(Xm,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const ah=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hd=y.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:p,viewTransition:d}=t,h=md(t,th),{basename:v}=y.useContext(gt),j,x=!1;if(typeof c=="string"&&oh.test(c)&&(j=c,ah))try{let f=new URL(window.location.href),S=c.startsWith("//")?new URL(f.protocol+c):new URL(c),b=Dn(S.pathname,v);S.origin===f.origin&&b!=null?c=b+S.search+S.hash:x=!0}catch{}let w=zm(c,{relative:l}),g=dh(c,{replace:a,state:o,target:u,preventScrollReset:p,relative:l,viewTransition:d});function m(f){r&&r(f),f.defaultPrevented||g(f)}return y.createElement("a",Rl({},h,{href:j||w,onClick:x||s?r:m,ref:n,target:u}))}),uh=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:c,children:p}=t,d=md(t,nh),h=Zl(u,{relative:d.relative}),v=$t(),j=y.useContext(ad),{navigator:x,basename:w}=y.useContext(gt),g=j!=null&&fh(h)&&c===!0,m=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,f=v.pathname,S=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(f=f.toLowerCase(),S=S?S.toLowerCase():null,m=m.toLowerCase()),S&&w&&(S=Dn(S,w)||S);const b=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let _=f===m||!a&&f.startsWith(m)&&f.charAt(b)==="/",E=S!=null&&(S===m||!a&&S.startsWith(m)&&S.charAt(m.length)==="/"),k={isActive:_,isPending:E,isTransitioning:g},N=_?r:void 0,C;typeof s=="function"?C=s(k):C=[s,_?"active":null,E?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(k):o;return y.createElement(hd,Rl({},d,{"aria-current":N,className:C,ref:n,style:M,to:u,viewTransition:c}),typeof p=="function"?p(k):p)});var Ei;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ei||(Ei={}));var Wo;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wo||(Wo={}));function ch(e){let t=y.useContext(Yl);return t||ne(!1),t}function dh(e,t){let{target:n,replace:r,state:l,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,u=An(),c=$t(),p=Zl(e,{relative:a});return y.useCallback(d=>{if(eh(d,n)){d.preventDefault();let h=r!==void 0?r:zl(c)===zl(p);u(e,{replace:h,state:l,preventScrollReset:s,relative:a,viewTransition:o})}},[c,u,p,r,l,n,e,s,a,o])}function fh(e,t){t===void 0&&(t={});let n=y.useContext(lh);n==null&&ne(!1);let{basename:r}=ch(Ei.useViewTransitionState),l=Zl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Dn(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Dn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ni(l.pathname,a)!=null||Ni(l.pathname,s)!=null}const ph="/api";async function mh(e){try{return await e.json()}catch{return null}}async function D(e,t={}){const n=await fetch(`${ph}${e}`,{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});if(!n.ok){const r=await mh(n),l=(r==null?void 0:r.message)||(r==null?void 0:r.error)||(typeof r=="string"?r:"")||await n.text(),s=new Error(l||`Request failed with ${n.status}`);throw s.status=n.status,s}return n.json()}async function hh(e,t){return D("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})})}async function gh(){return D("/auth/logout",{method:"POST"})}async function bs(){return D("/auth/me")}async function yh(){return D("/settings/smtp")}async function vh(e){return D("/settings/smtp",{method:"PUT",body:JSON.stringify(e)})}async function xh(e){return D("/settings/smtp/test",{method:"POST",body:JSON.stringify({to:e})})}async function jh(){return D("/settings/invoice-header")}async function Sh(e){return D("/settings/invoice-header",{method:"PUT",body:JSON.stringify(e)})}async function wh(){return D("/settings/bank")}async function Nh(e){return D("/settings/bank",{method:"PUT",body:JSON.stringify(e)})}async function kh(){return D("/settings/tax")}async function _h(e){return D("/settings/tax",{method:"PUT",body:JSON.stringify(e)})}async function Eh(){return D("/settings/datev")}async function Ch(e){return D("/settings/datev",{method:"PUT",body:JSON.stringify(e)})}async function bh(){return D("/settings/hkforms")}async function Ph(e){return D("/settings/hkforms",{method:"PUT",body:JSON.stringify(e)})}async function Lh(e){return D("/settings/hkforms/test",{method:"POST",body:JSON.stringify(e)})}async function Th(){return D("/settings/pdf")}async function zh(e){return D("/settings/pdf",{method:"PUT",body:JSON.stringify(e)})}async function Rh(e){return D("/settings/pdf/test-path",{method:"POST",body:JSON.stringify(e)})}async function Ea(e){return D(`/invoices/${e}/pdf/regenerate`,{method:"POST"})}async function Dh(){return D("/settings/api-keys")}async function Oh(e){return D("/settings/api-keys",{method:"POST",body:JSON.stringify(e)})}async function Ih(e){return D(`/settings/api-keys/${e}/rotate`,{method:"POST"})}async function Mh(e){return D(`/settings/api-keys/${e}/revoke`,{method:"POST"})}async function Bh(e){return D(`/settings/api-keys/${e}`,{method:"DELETE"})}async function Fh(e){var r;const t=[];e!=null&&e.year&&t.push(`year=${encodeURIComponent(e.year)}`),(r=e==null?void 0:e.categories)!=null&&r.length&&t.push(`category=${encodeURIComponent(e.categories.join(","))}`);const n=t.length?`?${t.join("&")}`:"";return D(`/stats/invoices${n}`)}async function gd(){return D("/customers")}async function Ah(e){return D("/customers",{method:"POST",body:JSON.stringify(e)})}async function Uh(e,t){return D(`/customers/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function $h(e){return D(`/customers/${e}`,{method:"DELETE"})}async function Kh(){return D("/invoices")}async function Vh(e=10){const t=e?`?limit=${encodeURIComponent(e)}`:"";return D(`/invoices/recent${t}`)}async function yd(e){return D(`/invoices/${e}`)}async function Wh(){return D("/invoices/next-number")}async function Hh(e){return D("/invoices",{method:"POST",body:JSON.stringify(e)})}async function Qh(e,t){return D(`/invoices/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Jh(e){return D(`/invoices/${e}`,{method:"DELETE"})}async function vd(e){return D(`/invoices/${e}/status/sent`,{method:"POST"})}async function xd(e){return D(`/invoices/${e}/status/paid`,{method:"POST"})}async function jd(e){return D(`/invoices/${e}/email-preview`)}async function Sd(e,t){return D(`/invoices/${e}/send-email`,{method:"POST",body:JSON.stringify(t)})}async function wd(e){return D(`/invoices/${e}/datev-export`,{method:"POST"})}async function Gh(){return D("/users")}async function Yh(e){return D("/users",{method:"POST",body:JSON.stringify(e)})}async function Xh(e,t){return D(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Zh(e){return D(`/users/${e}`,{method:"DELETE"})}async function Nd(){return D("/roles")}async function qh(e){return D(`/roles/${e}/permissions`)}async function eg(e){return D("/roles",{method:"POST",body:JSON.stringify(e)})}async function tg(e,t){return D(`/roles/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function ng(e){return D(`/roles/${e}`,{method:"DELETE"})}async function Ca(){return D("/categories")}async function Ci(){return D("/categories/logos")}async function rg(e,t){return D("/categories/logo",{method:"POST",body:JSON.stringify({filename:e,dataUrl:t})})}async function lg(e){return D("/categories",{method:"POST",body:JSON.stringify(e)})}async function sg(e,t){return D(`/categories/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function ig(e){return D(`/categories/${e}`,{method:"DELETE"})}async function ag(e){return D(`/categories/${e}/template`)}async function og(e,t){return D(`/categories/${e}/template`,{method:"POST",body:JSON.stringify(t)})}async function ug(e){return D(`/categories/${e}/email`)}async function cg(e,t){return D(`/categories/${e}/email`,{method:"POST",body:JSON.stringify(t)})}const kd=y.createContext(void 0);function dg({children:e}){const[t,n]=y.useState(null),[r,l]=y.useState(!0),[s,a]=y.useState(null);y.useEffect(()=>{bs().then(d=>n(d)).catch(()=>n(null)).finally(()=>l(!1))},[]);const o=async(d,h)=>{a(null),await hh(d,h);const v=await bs();return n(v),v},u=async()=>{try{await gh()}finally{n(null)}},c=async()=>{try{const d=await bs();return n(d),d}catch(d){return d.status===401&&n(null),null}},p=y.useMemo(()=>({user:t,loading:r,login:o,logout:u,refresh:c,error:s,setError:a}),[t,r,s]);return i.jsx(kd.Provider,{value:p,children:e})}function yt(){const e=y.useContext(kd);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function K({variant:e="primary",className:t="",...n}){const r="inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-semibold transition",l={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-70",secondary:"bg-white text-slate-900 border border-slate-200 hover:bg-slate-50 disabled:opacity-70",ghost:"bg-transparent text-slate-700 hover:bg-slate-100",danger:"bg-red-600 text-white hover:bg-red-700 disabled:opacity-70"};return i.jsx("button",{className:`${r} ${l[e]} ${t}`,...n})}function F(e){return i.jsx("input",{...e,className:`input ${e.className??""}`})}function _d(e){return i.jsx("textarea",{...e,className:`input ${e.className??""}`})}function tn(e){return i.jsx("select",{...e,className:`input ${e.className??""}`})}function Q({type:e="info",children:t}){const n={success:"bg-green-50 text-green-800 border border-green-100",error:"bg-red-50 text-red-700 border border-red-100",info:"bg-blue-50 text-blue-800 border border-blue-100"};return i.jsx("div",{className:`rounded-md px-3 py-2 text-sm ${n[e]}`,children:t})}function Xe(){return i.jsx("div",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-blue-600"})}function ql({title:e,description:t}){return i.jsxs("div",{className:"border border-dashed border-slate-200 rounded-lg p-6 text-center text-slate-600",children:[i.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:e}),t&&i.jsx("div",{className:"text-sm",children:t})]})}function fg({to:e,label:t,icon:n,onClick:r}){return i.jsxs(uh,{to:e,onClick:r,className:({isActive:l})=>`flex items-center gap-2 px-3 py-2 rounded-md text-sm ${l?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-100"}`,children:[n,i.jsx("span",{children:t})]})}function lt({title:e,children:t,onClose:n}){return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 px-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e}),i.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-700",children:""})]}),i.jsx("div",{className:"p-4",children:t})]})})}function es({title:e,description:t,onConfirm:n,onCancel:r,busy:l}){return i.jsxs(lt,{title:e,onClose:r,children:[t&&i.jsx("p",{className:"text-sm text-slate-700 mb-4",children:t}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(K,{variant:"secondary",onClick:r,children:"Abbrechen"}),i.jsx(K,{variant:"danger",onClick:n,disabled:l,children:l?"Bitte warten...":"Lschen"})]})]})}function En({children:e,tone:t="gray"}){const n={gray:"bg-slate-100 text-slate-700",green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",amber:"bg-amber-100 text-amber-800"};return i.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${n[t]}`,children:e})}function Bt({items:e,align:t="right"}){const n=r=>{const l=r==null?void 0:r.closest("details");l&&(l.open=!1)};return i.jsxs("details",{className:"relative inline-block",children:[i.jsx("summary",{className:"btn-secondary px-2 py-1 cursor-pointer list-none select-none",role:"button","aria-label":"Weitere Aktionen",onKeyDown:r=>{if(r.key==="Enter"||r.key===" "){r.preventDefault();const l=r.currentTarget.closest("details");l&&(l.open=!l.open)}},children:""}),i.jsx("div",{className:`absolute ${t==="right"?"right-0":"left-0"} mt-2 min-w-[160px] bg-white border border-slate-200 rounded shadow z-20 p-1 text-sm space-y-1`,children:e.map((r,l)=>i.jsxs("button",{className:`w-full inline-flex items-center gap-2 text-left px-2 py-1 rounded hover:bg-slate-100 ${r.danger?"text-red-600":""} ${r.disabled?"opacity-60 cursor-not-allowed":""}`,onClick:s=>{s.preventDefault(),s.stopPropagation(),!r.disabled&&(n(s.currentTarget),r.onClick())},disabled:r.disabled,children:[r.icon,i.jsx("span",{children:r.label})]},l))})]})}const pg=[{key:"invoices.read",label:"Rechnungen lesen"},{key:"invoices.create",label:"Rechnungen erstellen"},{key:"invoices.update",label:"Rechnungen bearbeiten"},{key:"invoices.export",label:"Rechnungen exportieren"},{key:"invoices.delete",label:"Rechnungen lschen"},{key:"stats.view",label:"Statistiken ansehen"},{key:"customers.read",label:"Kunden lesen"},{key:"customers.create",label:"Kunden anlegen"},{key:"customers.update",label:"Kunden bearbeiten"},{key:"customers.delete",label:"Kunden lschen"},{key:"users.read",label:"Benutzer lesen"},{key:"users.create",label:"Benutzer anlegen"},{key:"users.update",label:"Benutzer bearbeiten"},{key:"users.delete",label:"Benutzer lschen"},{key:"users.resetPassword",label:"Benutzer-Passwort zurcksetzen"},{key:"roles.read",label:"Rollen lesen"},{key:"roles.create",label:"Rollen anlegen"},{key:"roles.update",label:"Rollen bearbeiten"},{key:"roles.delete",label:"Rollen lschen"},{key:"settings.general",label:"Einstellungen ndern"},{key:"categories.read",label:"Kategorien lesen"},{key:"categories.write",label:"Kategorien bearbeiten"},{key:"categories.delete",label:"Kategorien lschen"}];class mg extends zi.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t){console.error("UI ErrorBoundary caught",t)}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4",children:i.jsxs("div",{className:"bg-white border border-red-200 text-red-700 rounded-lg shadow p-6 max-w-lg text-center",children:[i.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Es ist ein Fehler aufgetreten."}),i.jsx("p",{className:"text-sm",children:"Bitte laden Sie die Seite neu. Sollte der Fehler bleiben, wenden Sie sich an den Admin."})]})}):this.props.children}}function hg(){return i.jsx(ih,{children:i.jsx(mg,{children:i.jsx(dg,{children:i.jsxs(Zm,{children:[i.jsx(je,{path:"/login",element:i.jsx(gg,{})}),i.jsx(je,{element:i.jsx(yg,{}),children:i.jsxs(je,{element:i.jsx(vg,{}),children:[i.jsx(je,{path:"/dashboard",element:i.jsx(xg,{})}),i.jsx(je,{path:"/customers",element:i.jsx(jg,{})}),i.jsx(je,{path:"/invoices",element:i.jsx(wg,{})}),i.jsx(je,{path:"/stats",element:i.jsx(Ug,{})}),i.jsx(je,{path:"/categories",element:i.jsx(Sg,{})}),i.jsx(je,{path:"/settings",element:i.jsx(Cg,{})}),i.jsx(je,{path:"/admin/users",element:i.jsx(Dg,{})}),i.jsx(je,{path:"/admin/roles",element:i.jsx(Ig,{})}),i.jsx(je,{path:"/invoices/:id",element:i.jsx(_g,{})}),i.jsx(je,{path:"/",element:i.jsx(ki,{to:"/dashboard",replace:!0})})]})}),i.jsx(je,{path:"*",element:i.jsx(ki,{to:"/",replace:!0})})]})})})})}function gg(){const{user:e,login:t,error:n,setError:r}=yt(),[l,s]=y.useState("admin"),[a,o]=y.useState(""),[u,c]=y.useState(!1),p=An(),d=$t();y.useEffect(()=>{e&&p("/dashboard",{replace:!0})},[e,p]);const h=async v=>{var j;v.preventDefault(),c(!0),r(null);try{await t(l,a);const x=((j=d.state)==null?void 0:j.from)||"/dashboard";p(x,{replace:!0})}catch(x){const w=x;w.status===429?r("Zu viele Login-Versuche. Bitte kurz warten und erneut versuchen."):w.status===401?r("Login fehlgeschlagen. Bitte Zugangsdaten prfen."):r(w.message||"Login fehlgeschlagen.")}finally{c(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-slate-50",children:i.jsxs("div",{className:"card w-full max-w-md p-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6 text-slate-900",children:"RechnungsAPP  Login"}),i.jsxs("form",{className:"space-y-4",onSubmit:h,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Benutzername"}),i.jsx("input",{className:"w-full rounded-md border border-slate-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:v=>s(v.target.value),autoComplete:"username"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Passwort"}),i.jsx("input",{type:"password",className:"w-full rounded-md border border-slate-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:v=>o(v.target.value),autoComplete:"current-password"})]}),i.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 text-white py-2 font-semibold hover:bg-blue-700 transition disabled:opacity-70",disabled:u,children:u?"Anmelden ...":"Einloggen"})]}),n&&i.jsx("p",{className:"mt-4 text-sm text-red-600",children:n})]})})}function yg(){const{user:e,loading:t}=yt(),n=$t();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"text-slate-700",children:"Lade Session ..."})}):e?i.jsx(pd,{}):i.jsx(ki,{to:"/login",state:{from:n.pathname},replace:!0})}function vg(){const{user:e,logout:t}=yt(),n=(e==null?void 0:e.role_name)==="admin",r=n||((e==null?void 0:e.permissions)||[]).includes("stats.view"),[l,s]=y.useState(!1),a={paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},o=[{to:"/dashboard",label:"Dashboard"},{to:"/customers",label:"Kunden"},{to:"/invoices",label:"Rechnungen"},...r?[{to:"/stats",label:"Statistiken"}]:[],...n?[{to:"/categories",label:"Kategorien"},{to:"/settings",label:"Einstellungen"},{to:"/admin/users",label:"Admin: Benutzer"},{to:"/admin/roles",label:"Admin: Rollen & Rechte"}]:[]];return i.jsxs("div",{className:"bg-slate-50 text-slate-900 min-h-[100dvh] h-[100dvh] flex flex-col",style:a,children:[i.jsx("header",{className:"bg-white border-b border-slate-200 shadow-sm flex-none",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{className:"md:hidden rounded-md border border-slate-200 px-2 py-1",onClick:()=>s(u=>!u),children:""}),i.jsx("div",{className:"font-semibold",children:"RechnungsAPP"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("span",{className:"text-slate-600 hidden md:inline",children:["Eingeloggt als ",e==null?void 0:e.username," ",n?"(Admin)":""]}),i.jsx(K,{variant:"secondary",onClick:t,children:"Logout"})]})]})}),i.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[l&&i.jsx("div",{className:"fixed inset-0 z-30 bg-black/30 md:hidden",onClick:()=>s(!1),"aria-label":"Sidebar schlieen"}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 h-full flex gap-4",children:[i.jsx("aside",{className:`z-40 md:z-auto w-64 shrink-0 bg-white border border-slate-200 rounded-lg shadow-sm p-3 ${l?"fixed inset-y-0 left-0 m-4 md:static":"hidden md:block"} overflow-y-auto`,style:{maxHeight:"calc(100dvh - 2rem)",WebkitOverflowScrolling:"touch"},children:i.jsx("nav",{className:"flex flex-col gap-1",children:o.map(u=>i.jsx(fg,{to:u.to,label:u.label,onClick:()=>s(!1)},u.to))})}),i.jsx("main",{className:"flex-1 min-w-0 h-full overflow-y-auto",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},children:i.jsx(pd,{})})]})]})]})}function xg(){const{user:e}=yt(),t=An(),r=(e==null?void 0:e.role_name)==="admin"||((e==null?void 0:e.permissions)||[]).includes("stats.view"),l=y.useMemo(()=>["Rechnungen","Kunden",...r?["Statistiken"]:[],"Einstellungen"],[r]),[s,a]=y.useState([]),[o,u]=y.useState(null),[c,p]=y.useState(!0);y.useEffect(()=>{u(null),p(!0),Vh(10).then(a).catch(v=>u({type:"error",message:v.message||"Rechnungen konnten nicht geladen werden."})).finally(()=>p(!1))},[]);const d=v=>v.status_paid_at?{text:"bezahlt",tone:"green"}:v.status_sent?{text:"gesendet",tone:"blue"}:{text:"offen",tone:"amber"},h=v=>i.jsx(Bt,{items:[{label:"ffnen",onClick:()=>t(`/invoices/${v.id}`)},{label:"PDF ffnen",onClick:()=>window.open(`/api/invoices/${v.id}/pdf?mode=inline`,"_blank")},...(e==null?void 0:e.role_name)==="admin"?[{label:"PDF neu erstellen",onClick:async()=>{try{await Ea(v.id),window.open(`/api/invoices/${v.id}/pdf?mode=inline`,"_blank")}catch(j){alert((j==null?void 0:j.message)||"PDF konnte nicht neu erstellt werden.")}}}]:[]]});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Dashboard"}),i.jsx("p",{className:"text-slate-700",children:"Schnelle Navigation zu den wichtigsten Bereichen."})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:l.map(v=>i.jsxs(hd,{to:v==="Rechnungen"?"/invoices":v==="Kunden"?"/customers":v==="Statistiken"?"/stats":"/settings",className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm hover:border-blue-300 transition",children:[i.jsx("div",{className:"font-semibold mb-1",children:v}),i.jsx("div",{className:"text-sm text-slate-600",children:"ffnen"})]},v))}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Letzte Rechnungen"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Die 10 aktuellsten Rechnungen mit Status."})]}),c&&i.jsx("span",{className:"text-xs text-slate-500",children:"Lade ..."})]}),o&&i.jsx(Q,{type:o.type==="error"?"error":"success",children:o.message}),!c&&!s.length&&!o&&i.jsx(ql,{title:"Noch keine Rechnungen",description:"Lege eine neue Rechnung an, um zu starten."}),!c&&s.length>0&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[i.jsx("th",{className:"px-3 py-2",children:"Nr"}),i.jsx("th",{className:"px-3 py-2",children:"Kunde"}),i.jsx("th",{className:"px-3 py-2",children:"Kategorie"}),i.jsx("th",{className:"px-3 py-2",children:"Datum"}),i.jsx("th",{className:"px-3 py-2",children:"Status"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Betrag"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Aktion"})]})}),i.jsx("tbody",{children:s.map(v=>{const j=d(v);return i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"px-3 py-2 font-medium",children:v.invoice_number}),i.jsx("td",{className:"px-3 py-2 text-slate-700",children:v.recipient_name||""}),i.jsx("td",{className:"px-3 py-2 text-slate-700",children:v.category_label||""}),i.jsx("td",{className:"px-3 py-2 text-slate-600",children:v.date?new Date(v.date).toLocaleDateString():""}),i.jsx("td",{className:"px-3 py-2",children:i.jsx(En,{tone:j.tone,children:j.text})}),i.jsx("td",{className:"px-3 py-2 text-right",children:v.gross_total!=null?v.gross_total.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),i.jsx("td",{className:"px-3 py-2 text-right",children:h(v)})]},v.id)})})]})})]})]})}function jg(){const[e,t]=y.useState([]),[n,r]=y.useState([]),[l,s]=y.useState([]),[a,o]=y.useState(""),[u,c]=y.useState(!0),[p,d]=y.useState(null),[h,v]=y.useState(null),[j,x]=y.useState(null),[w,g]=y.useState(!1),[m,f]=y.useState(null),S=(E,k)=>{const N=k.toLowerCase();return N?E.filter(C=>[C.name,C.email,C.city,C.zip].some(M=>(M||"").toLowerCase().includes(N))):E},b=async()=>{c(!0),d(null);try{const E=await gd();t(E),s(S(E,a))}catch(E){d(E.message||"Kunden konnten nicht geladen werden.")}finally{c(!1)}};y.useEffect(()=>{b()},[]),y.useEffect(()=>{s(S(e,a))},[e,a]);const _=async E=>{var k;g(!0),f(null);try{await $h(E),t(N=>N.filter(C=>C.id!==E)),f({type:"success",message:"Kunde gelscht."})}catch(N){const C=N,M=(k=C==null?void 0:C.message)!=null&&k.includes("existieren noch Rechnungen")?"Lschen nicht mglich: Es existieren noch Rechnungen fr diesen Kunden.":C.message||"Kunde konnte nicht gelscht werden.";f({type:"error",message:M})}finally{g(!1),x(null)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Kunden"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Empfnger verwalten (Name erforderlich, sonst optional)."})]}),i.jsx(K,{onClick:()=>v({mode:"create"}),children:"Neu"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsx(F,{placeholder:"Suchen...",value:a,onChange:E=>o(E.target.value),className:"w-64"}),i.jsx(Bt,{items:[{label:"Aktualisieren",onClick:b}]})]}),u&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Kunden ..."]}),p&&i.jsx(Q,{type:"error",children:p}),!u&&!l.length&&!p&&i.jsx(ql,{title:"Keine Kunden gefunden",description:"Lege einen neuen Kunden an, um zu starten."}),!u&&l.length>0&&i.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[i.jsx("th",{className:"px-3 py-2",children:"Name"}),i.jsx("th",{className:"px-3 py-2",children:"Email"}),i.jsx("th",{className:"px-3 py-2",children:"Ort"}),i.jsx("th",{className:"px-3 py-2 w-32 text-right",children:"Aktionen"})]})}),i.jsx("tbody",{children:l.map(E=>i.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[i.jsx("td",{className:"px-3 py-2 font-medium",children:E.name}),i.jsx("td",{className:"px-3 py-2 text-slate-600",children:E.email||""}),i.jsx("td",{className:"px-3 py-2 text-slate-600",children:[E.zip,E.city].filter(Boolean).join(" ")||""}),i.jsx("td",{className:"px-3 py-2 text-right",children:i.jsx(Bt,{items:[{label:"Bearbeiten",onClick:()=>v({mode:"edit",customer:E})},{label:"Lschen",danger:!0,onClick:()=>x(E.id)}]})})]},E.id))})]})}),m&&i.jsx(Q,{type:m.type==="success"?"success":"error",children:m.message}),h&&i.jsx(Ng,{mode:h.mode,customer:h.customer,onClose:()=>v(null),onSaved:E=>{v(null),h.mode==="edit"&&E?t(k=>k.map(N=>N.id===E.id?E:N)):E&&t(k=>[...k,E]),f({type:"success",message:"Kunde gespeichert."})},onError:E=>f({type:"error",message:E})}),j!==null&&i.jsx(es,{title:"Kunde lschen?",description:"Wenn zu diesem Kunden Rechnungen existieren, kann er nicht gelscht werden.",onConfirm:()=>_(j),onCancel:()=>x(null),busy:w})]})}function Sg(){const[e,t]=y.useState([]),[n,r]=y.useState([]),[l,s]=y.useState(""),[a,o]=y.useState(!0),[u,c]=y.useState(null),[p,d]=y.useState(null),[h,v]=y.useState(null),[j,x]=y.useState(null),[w,g]=y.useState(!1),m=(_,E)=>{const k=E.toLowerCase();return k?_.filter(N=>(N.label||"").toLowerCase().includes(k)||(N.key||"").toLowerCase().includes(k)):_},f=async()=>{o(!0),c(null);try{const[_,E]=await Promise.all([Ca(),Ci().catch(()=>[])]);t(_),r(E)}catch(_){c(_.message||"Kategorien konnten nicht geladen werden.")}finally{o(!1)}};y.useEffect(()=>{f()},[]);const S=m(e,l),b=async _=>{g(!0),d(null);try{await ig(_),t(E=>E.filter(k=>k.id!==_)),d({type:"success",message:"Kategorie gelscht."})}catch(E){d({type:"error",message:E.message||"Kategorie konnte nicht gelscht werden."})}finally{g(!1),x(null)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Kategorien"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Logos, Templates und SMTP pro Kategorie verwalten."})]}),i.jsx(K,{onClick:()=>v({mode:"create"}),children:"Neu"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsx(F,{placeholder:"Suche nach Label/Key",value:l,onChange:_=>s(_.target.value),className:"w-64"}),i.jsx(Bt,{items:[{label:"Aktualisieren",onClick:f}]})]}),a&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Kategorien ..."]}),u&&i.jsx(Q,{type:"error",children:u}),!a&&!S.length&&!u&&i.jsx(ql,{title:"Keine Kategorien",description:"Lege eine neue Kategorie mit Logo an."}),!a&&S.length>0&&i.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:S.map(_=>i.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-white shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[_.logo_file?i.jsx("img",{src:`/logos/${_.logo_file}`,alt:"Logo",className:"w-12 h-12 object-contain border border-slate-200 rounded"}):i.jsx("div",{className:"w-12 h-12 border border-dashed border-slate-200 rounded flex items-center justify-center text-xs text-slate-500",children:"Logo"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:_.label}),i.jsx("div",{className:"text-xs text-slate-500",children:_.key})]})]}),i.jsx(Bt,{items:[{label:"Bearbeiten",onClick:()=>v({mode:"edit",category:_})},{label:"Lschen",danger:!0,onClick:()=>x(_.id)}]})]}),_.template&&i.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[i.jsx("div",{className:"font-semibold",children:"Template:"}),i.jsx("div",{children:_.template.subject})]}),_.email_account&&i.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[i.jsx("div",{className:"font-semibold",children:"SMTP:"}),i.jsx("div",{children:_.email_account.email_address})]})]},_.id))}),p&&i.jsx(Q,{type:p.type==="success"?"success":"error",children:p.message}),h&&i.jsx(Eg,{mode:h.mode,category:h.category,logos:n,onClose:()=>v(null),onSaved:_=>{v(null),h.mode==="edit"?t(E=>E.map(k=>k.id===_.id?_:k)):t(E=>[...E,_]),d({type:"success",message:"Kategorie gespeichert."})},onError:_=>d({type:"error",message:_})}),j!==null&&i.jsx(es,{title:"Kategorie lschen?",description:"Kategorie wird entfernt. Stelle sicher, dass keine Rechnungen sie bentigen.",onConfirm:()=>b(j),onCancel:()=>x(null),busy:w})]})}function wg(){const e=An(),[t,n]=y.useState([]),[r,l]=y.useState([]),[s,a]=y.useState(""),[o,u]=y.useState("all"),[c,p]=y.useState("all"),[d,h]=y.useState([]),[v,j]=y.useState(!0),[x,w]=y.useState(null),[g,m]=y.useState(null),[f,S]=y.useState(null),[b,_]=y.useState(null),[E,k]=y.useState({loading:!1,data:null,error:null}),[N,C]=y.useState({open:!1}),M=L=>L.status_paid_at?"paid":L.status_sent?"sent":"open",J=L=>{const O=L.datev_export_status;return O==="SUCCESS"||O==="SENT"?{text:L.datev_exported_at?` ${new Date(L.datev_exported_at).toLocaleDateString()}`:""}:O==="FAILED"?{text:"",error:L.datev_export_error}:O==="SKIPPED"?{text:"",error:L.datev_export_error}:{text:""}},T=(L,O,U,se)=>{const vt=O.toLowerCase();return L.filter(zr=>{const Ed=!vt||zr.invoice_number.toLowerCase().includes(vt)||(zr.recipient_name||"").toLowerCase().includes(vt),Cd=M(zr),bd=U==="all"||Cd===U,Pd=se==="all"||zr.category_label===se;return Ed&&bd&&Pd})},I=async()=>{j(!0),w(null);try{const[L,O]=await Promise.all([Kh(),Ca().catch(()=>[])]);n(L),h(O),l(T(L,s,o,c))}catch(L){w(L.message||"Rechnungen konnten nicht geladen werden.")}finally{j(!1)}};y.useEffect(()=>{I()},[]),y.useEffect(()=>{l(T(t,s,o,c))},[t,s,o,c]);const Le=async L=>{k({loading:!0,data:null,error:null});try{const O=await jd(L);k({loading:!1,data:O,error:null})}catch(O){const U=O;let se=U.message||"Vorschau konnte nicht geladen werden.";(U.status===401||U.status===403)&&(se="Keine Berechtigung."),k({loading:!1,data:null,error:se})}},Ze=(L,O)=>{C({open:!0,id:L,to:O||""})},Ke=async L=>{_(L),S(null);try{const O=await Ea(L);S({type:"success",message:`PDF neu erstellt (${O.filename})${O.size?`, ${O.size} Bytes`:""}.`}),window.open(`/api/invoices/${L}/pdf?mode=inline`,"_blank")}catch(O){S({type:"error",message:O.message||"PDF konnte nicht neu erstellt werden."})}finally{_(null)}},z=async()=>{if(N.id){if(!N.to||!N.to.trim()){S({type:"error",message:"Bitte Empfnger-E-Mail angeben."});return}_(N.id),S(null);try{const L=await Sd(N.id,{to:N.to.trim(),subject:N.subject||void 0,message:N.message||void 0,include_datev:N.includeDatev});S({type:"success",message:L.message||"E-Mail gesendet."}),C({open:!1})}catch(L){const O=L;let U=O.message||"E-Mail konnte nicht gesendet werden.";(O.status===401||O.status===403)&&(U="Keine Berechtigung."),S({type:"error",message:U})}finally{_(null)}}},B=async L=>{_(L),S(null);try{const O=await wd(L);S({type:"success",message:O.message||"DATEV Export gestartet."})}catch(O){const se=O.message||"DATEV Export fehlgeschlagen.";S({type:"error",message:se})}finally{_(null)}},A=async L=>{_(L),S(null);try{await Jh(L),n(O=>O.filter(U=>U.id!==L)),S({type:"success",message:"Rechnung gelscht."})}catch(O){const se=O.message||"Rechnung konnte nicht gelscht werden.";S({type:"error",message:se})}finally{_(null)}},q=async L=>{_(L),S(null);try{await vd(L),n(O=>O.map(U=>U.id===L?{...U,status_sent:!0,status_sent_at:new Date().toISOString()}:U)),S({type:"success",message:"Als gesendet markiert."})}catch(O){const U=O,se=U.status===401||U.status===403?"Keine Berechtigung.":U.status===429?"Zu viele Versuche. Bitte kurz warten.":U.message||"Konnte nicht markieren.";S({type:"error",message:se})}finally{_(null)}},ae=async L=>{_(L),S(null);try{await xd(L),n(O=>O.map(U=>U.id===L?{...U,status_paid_at:new Date().toISOString()}:U)),S({type:"success",message:"Als bezahlt markiert."})}catch(O){const U=O,se=U.status===401||U.status===403?"Keine Berechtigung.":U.status===429?"Zu viele Versuche. Bitte kurz warten.":U.message||"Konnte nicht markieren.";S({type:"error",message:se})}finally{_(null)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Rechnungen"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"PDF-Aktionen direkt an der Rechnung."})]}),i.jsx(K,{onClick:()=>m({mode:"create"}),children:"Neu"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsx(F,{placeholder:"Suche nach Nummer oder Kunde",value:s,onChange:L=>a(L.target.value),className:"w-64"}),i.jsxs(tn,{value:o,onChange:L=>u(L.target.value),className:"w-40",children:[i.jsx("option",{value:"all",children:"Alle Status"}),i.jsx("option",{value:"open",children:"Offen"}),i.jsx("option",{value:"sent",children:"Gesendet"}),i.jsx("option",{value:"paid",children:"Bezahlt"})]}),i.jsxs(tn,{value:c,onChange:L=>p(L.target.value),className:"w-48",children:[i.jsx("option",{value:"all",children:"Alle Kategorien"}),d.map(L=>i.jsx("option",{value:L.label,children:L.label},L.id))]}),i.jsx(Bt,{items:[{label:"Aktualisieren",onClick:I}]})]}),v&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Rechnungen ..."]}),x&&i.jsx(Q,{type:"error",children:x}),!v&&!r.length&&!x&&i.jsx(ql,{title:"Keine Rechnungen",description:"Lege eine neue Rechnung an."}),!v&&r.length>0&&i.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[i.jsx("th",{className:"px-3 py-2",children:"Nr."}),i.jsx("th",{className:"px-3 py-2",children:"Datum"}),i.jsx("th",{className:"px-3 py-2",children:"Kunde"}),i.jsx("th",{className:"px-3 py-2",children:"Kategorie"}),i.jsx("th",{className:"px-3 py-2",children:"Betrag"}),i.jsx("th",{className:"px-3 py-2",children:"Status"}),i.jsx("th",{className:"px-3 py-2",children:"DATEV"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Aktionen"})]})}),i.jsx("tbody",{children:r.map(L=>{const O=M(L),U=J(L);return i.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[i.jsx("td",{className:"px-3 py-2 font-semibold",children:L.invoice_number}),i.jsx("td",{className:"px-3 py-2 text-slate-600",children:L.date?new Date(L.date).toLocaleDateString():""}),i.jsx("td",{className:"px-3 py-2 text-slate-700",children:L.recipient_name||""}),i.jsx("td",{className:"px-3 py-2 text-slate-600",children:L.category_label||""}),i.jsx("td",{className:"px-3 py-2 text-slate-700",children:L.gross_total!=null?`${L.gross_total.toFixed(2)} `:""}),i.jsx("td",{className:"px-3 py-2",children:O==="paid"?i.jsx("span",{className:"text-green-700",children:"Bezahlt"}):O==="sent"?i.jsx("span",{className:"text-blue-700",children:"Gesendet"}):i.jsx("span",{className:"text-amber-700",children:"Offen"})}),i.jsxs("td",{className:"px-3 py-2 text-slate-700",children:[U.text,U.error&&i.jsx("div",{className:"text-xs text-amber-700",children:U.error})]}),i.jsx("td",{className:"px-3 py-2 text-right",children:i.jsx(Bt,{items:[{label:"ffnen",onClick:()=>e(`/invoices/${L.id}`)},{label:"Bearbeiten",onClick:()=>m({mode:"edit",id:L.id})},{label:"PDF ffnen",onClick:()=>window.open(`/api/invoices/${L.id}/pdf?mode=inline`,"_blank")},{label:b===L.id?"PDF ":"PDF neu erstellen",onClick:()=>Ke(L.id)},{label:"E-Mail Vorschau",onClick:()=>Le(L.id)},{label:"E-Mail senden",onClick:()=>Ze(L.id,L.recipient_email||"")},{label:"DATEV Export",onClick:()=>B(L.id)},{label:"Als gesendet markieren",onClick:()=>q(L.id)},{label:"Als bezahlt markieren",onClick:()=>ae(L.id)},{label:"Lschen",danger:!0,onClick:()=>A(L.id)}]})})]},L.id)})})]})}),f&&i.jsx(Q,{type:f.type==="success"?"success":"error",children:f.message}),g&&i.jsx(kg,{mode:g.mode,id:g.id,onClose:()=>m(null),onSaved:L=>{S({type:"success",message:`Rechnung ${L} gespeichert.`}),I()},onError:L=>S({type:"error",message:L})}),(E.loading||E.data||E.error)&&i.jsxs(lt,{title:"E-Mail Vorschau",onClose:()=>k({loading:!1,data:null,error:null}),children:[E.loading&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Vorschau ..."]}),E.error&&i.jsx(Q,{type:"error",children:E.error}),E.data&&i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Betreff"}),i.jsx("div",{children:E.data.subject})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"HTML"}),i.jsx("div",{className:"border border-slate-200 rounded p-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:E.data.body_html||"<em>(leer)</em>"}})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Text"}),i.jsx("pre",{className:"border border-slate-200 rounded p-3 whitespace-pre-wrap",children:E.data.body_text})]}),i.jsxs("div",{className:"text-xs text-slate-600",children:["Von: ",E.data.from||"n/a"," | SMTP: ",E.data.smtp_ready?"konfiguriert":"fehlt"]})]})]}),N.open&&i.jsx(lt,{title:"Rechnung per E-Mail senden",onClose:()=>C({open:!1}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Empfnger"}),i.jsx(F,{value:N.to||"",onChange:L=>C(O=>({...O,to:L.target.value})),placeholder:"kunde@example.com"})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Betreff (optional)"}),i.jsx(F,{value:N.subject||"",onChange:L=>C(O=>({...O,subject:L.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Nachricht (optional)"}),i.jsx(_d,{value:N.message||"",onChange:L=>C(O=>({...O,message:L.target.value})),className:"min-h-[100px]"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:N.includeDatev||!1,onChange:L=>C(O=>({...O,includeDatev:L.target.checked}))}),i.jsx("span",{children:"DATEV-Adresse (falls hinterlegt) einbeziehen"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(K,{variant:"secondary",onClick:()=>C({open:!1}),children:"Abbrechen"}),i.jsx(K,{onClick:z,disabled:b===N.id,children:b===N.id?"Sendet...":"Senden"})]})]})})]})}function Ng({mode:e,customer:t,onClose:n,onSaved:r,onError:l}){const[s,a]=y.useState({name:(t==null?void 0:t.name)||"",street:(t==null?void 0:t.street)||"",zip:(t==null?void 0:t.zip)||"",city:(t==null?void 0:t.city)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[o,u]=y.useState(!1),[c,p]=y.useState(null),d=async h=>{if(h.preventDefault(),p(null),!s.name.trim()){p("Name ist erforderlich.");return}u(!0);try{const v={name:s.name.trim(),street:s.street.trim()||null,zip:s.zip.trim()||null,city:s.city.trim()||null,email:s.email.trim()||null,phone:s.phone.trim()||null};if(e==="create"){const j=await Ah(v);r({id:j.id,...v})}else t&&(await Uh(t.id,v),r({id:t.id,...v}))}catch(v){const x=v.message||"Speichern fehlgeschlagen.";p(x),l(x);return}finally{u(!1)}};return i.jsx(lt,{title:e==="create"?"Neuer Kunde":"Kunde bearbeiten",onClose:n,children:i.jsxs("form",{className:"space-y-3",onSubmit:d,children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Name *"}),i.jsx(F,{value:s.name,onChange:h=>a(v=>({...v,name:h.target.value})),required:!0})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"E-Mail"}),i.jsx(F,{type:"email",value:s.email,onChange:h=>a(v=>({...v,email:h.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Strae"}),i.jsx(F,{value:s.street,onChange:h=>a(v=>({...v,street:h.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"PLZ"}),i.jsx(F,{value:s.zip,onChange:h=>a(v=>({...v,zip:h.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Ort"}),i.jsx(F,{value:s.city,onChange:h=>a(v=>({...v,city:h.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Telefon"}),i.jsx(F,{value:s.phone,onChange:h=>a(v=>({...v,phone:h.target.value}))})]})]}),c&&i.jsx(Q,{type:"error",children:c}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(K,{variant:"secondary",onClick:n,type:"button",children:"Abbrechen"}),i.jsx(K,{type:"submit",disabled:o,children:o?"Speichern ...":"Speichern"})]})]})})}function kg({mode:e,id:t,onClose:n,onSaved:r,onError:l}){const[s,a]=y.useState([]),[o,u]=y.useState([]),[c,p]=y.useState([{description:"",quantity:1,unit_price_gross:0,vat_key:1}]),[d,h]=y.useState({recipient_id:"",name:"",street:"",zip:"",city:"",email:"",invoice_number:"",date:new Date().toISOString().slice(0,10),b2b:!1,ust_id:"",category_key:""}),[v,j]=y.useState(!0),[x,w]=y.useState(!1),[g,m]=y.useState(null),f=async()=>{var N;j(!0),m(null);try{const[C,M,J]=await Promise.all([gd(),Ca().catch(()=>[]),e==="create"?Wh():Promise.resolve({next_number:""})]);if(a(C),u(M),e==="create"&&h(T=>({...T,invoice_number:J.next_number||T.invoice_number})),e==="edit"&&t){const T=await yd(t);h({recipient_id:T.invoice.recipient.id?String(T.invoice.recipient.id):"",name:T.invoice.recipient.name||"",street:T.invoice.recipient.street||"",zip:T.invoice.recipient.zip||"",city:T.invoice.recipient.city||"",email:T.invoice.recipient.email||"",invoice_number:T.invoice.invoice_number,date:((N=T.invoice.date)==null?void 0:N.slice(0,10))||"",b2b:T.invoice.b2b===!0,ust_id:T.invoice.ust_id||"",category_key:T.invoice.category||""}),p(T.items.map(I=>({id:I.id,description:I.description,quantity:Number(I.quantity),unit_price_gross:Number(I.unit_price_gross),vat_key:Number(I.vat_key)})))}}catch(C){const J=C.message||"Daten konnten nicht geladen werden.";m(J)}finally{j(!1)}};y.useEffect(()=>{f()},[]);const S=N=>{h(J=>({...J,recipient_id:N}));const C=Number(N),M=s.find(J=>J.id===C);M&&h(J=>({...J,name:M.name||"",street:M.street||"",zip:M.zip||"",city:M.city||"",email:M.email||""}))},b=(N,C,M)=>{p(J=>J.map((T,I)=>I===N?{...T,[C]:M}:T))},_=()=>p(N=>[...N,{description:"",quantity:1,unit_price_gross:0,vat_key:1}]),E=N=>p(C=>C.filter((M,J)=>J!==N)),k=async N=>{if(N.preventDefault(),m(null),!d.name.trim()){m("Empfngername ist erforderlich.");return}if(!d.invoice_number.trim()){m("Rechnungsnummer fehlt.");return}if(!d.date){m("Rechnungsdatum fehlt.");return}if(!c.length){m("Mindestens eine Position ist erforderlich.");return}if(c.some(C=>!C.description.trim()||Number(C.quantity)<=0||Number(C.unit_price_gross)<=0)){m("Bitte alle Positionen ausfllen (Beschreibung, Menge > 0, Preis > 0).");return}if(d.b2b&&!d.ust_id.trim()){m("Fr B2B ist eine USt-ID erforderlich.");return}w(!0);try{const C={recipient:{name:d.name.trim(),street:d.street.trim(),zip:d.zip.trim(),city:d.city.trim(),email:d.email.trim()||null},invoice:{invoice_number:d.invoice_number.trim(),date:d.date,b2b:d.b2b,ust_id:d.ust_id.trim()||null,category:d.category_key||null},items:c.map(M=>({description:M.description.trim(),quantity:Number(M.quantity),unit_price_gross:Number(M.unit_price_gross),vat_key:Number(M.vat_key)}))};if(e==="create"){const M=await Hh(C);r(C.invoice.invoice_number),p([{description:"",quantity:1,unit_price_gross:0,vat_key:1}])}else t&&(await Qh(t,C),r(C.invoice.invoice_number));n()}catch(C){const J=C.message||"Rechnung konnte nicht gespeichert werden.";m(J),l(J);return}finally{w(!1)}};return i.jsx(lt,{title:e==="create"?"Neue Rechnung":"Rechnung bearbeiten",onClose:n,children:v?i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Daten ..."]}):i.jsxs("form",{className:"space-y-3",onSubmit:k,children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Empfnger auswhlen"}),i.jsxs(tn,{value:d.recipient_id,onChange:N=>S(N.target.value),children:[i.jsx("option",{value:"",children:" Manuell erfassen "}),s.map(N=>i.jsx("option",{value:N.id,children:N.name},N.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Rechnungsnummer"}),i.jsx(F,{value:d.invoice_number,onChange:N=>h(C=>({...C,invoice_number:N.target.value})),required:!0})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Kategorie"}),i.jsxs(tn,{value:d.category_key,onChange:N=>h(C=>({...C,category_key:N.target.value})),children:[i.jsx("option",{value:"",children:" Keine "}),o.map(N=>i.jsx("option",{value:N.key,children:N.label},N.id))]})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Datum"}),i.jsx(F,{type:"date",value:d.date,onChange:N=>h(C=>({...C,date:N.target.value})),required:!0})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 mt-6",children:[i.jsx("input",{type:"checkbox",checked:d.b2b,onChange:N=>h(C=>({...C,b2b:N.target.checked}))}),i.jsx("span",{children:"B2B (USt-ID Pflicht)"})]}),d.b2b&&i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"USt-ID"}),i.jsx(F,{value:d.ust_id,onChange:N=>h(C=>({...C,ust_id:N.target.value}))})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Name *"}),i.jsx(F,{value:d.name,onChange:N=>h(C=>({...C,name:N.target.value})),required:!0})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"E-Mail"}),i.jsx(F,{value:d.email,onChange:N=>h(C=>({...C,email:N.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Strae *"}),i.jsx(F,{value:d.street,onChange:N=>h(C=>({...C,street:N.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"PLZ *"}),i.jsx(F,{value:d.zip,onChange:N=>h(C=>({...C,zip:N.target.value}))})]}),i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Ort *"}),i.jsx(F,{value:d.city,onChange:N=>h(C=>({...C,city:N.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold",children:"Positionen"}),i.jsx(K,{variant:"secondary",type:"button",onClick:_,children:"Position hinzufgen"})]}),i.jsx("div",{className:"space-y-2",children:c.map((N,C)=>i.jsxs("div",{className:"grid md:grid-cols-4 gap-2 items-center border border-slate-200 rounded-md p-3",children:[i.jsx("input",{className:"input md:col-span-2",placeholder:"Beschreibung",value:N.description,onChange:M=>b(C,"description",M.target.value)}),i.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",value:N.quantity,onChange:M=>b(C,"quantity",Number(M.target.value))}),i.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",value:N.unit_price_gross,onChange:M=>b(C,"unit_price_gross",Number(M.target.value))}),i.jsxs("select",{className:"input",value:N.vat_key,onChange:M=>b(C,"vat_key",Number(M.target.value)),children:[i.jsx("option",{value:1,children:"19% MwSt"}),i.jsx("option",{value:2,children:"7% MwSt"})]}),i.jsx("div",{className:"flex justify-end",children:c.length>1&&i.jsx(K,{variant:"ghost",type:"button",onClick:()=>E(C),children:"Entfernen"})})]},C))})]}),g&&i.jsx(Q,{type:"error",children:g}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(K,{variant:"secondary",type:"button",onClick:n,children:"Abbrechen"}),i.jsx(K,{type:"submit",disabled:x,children:x?"Speichern ...":"Speichern"})]})]})})}function _g(){const{id:e}=Im(),t=An(),[n,r]=y.useState(null),[l,s]=y.useState(!0),[a,o]=y.useState(null),[u,c]=y.useState(null),[p,d]=y.useState(!1),[h,v]=y.useState({loading:!1,data:null,error:null}),[j,x]=y.useState({open:!1}),w=async()=>{if(e){s(!0),o(null);try{const N=await yd(Number(e));r(N)}catch(N){o(N.message||"Rechnung konnte nicht geladen werden.")}finally{s(!1)}}};y.useEffect(()=>{w()},[e]);const g=()=>n?n.invoice.status_paid_at?i.jsx(En,{tone:"green",children:"Bezahlt"}):n.invoice.status_sent?i.jsx(En,{tone:"blue",children:"Gesendet"}):i.jsx(En,{tone:"amber",children:"Offen"}):null,m=async()=>{if(n){d(!0),c(null);try{await Ea(n.invoice.id),window.open(`/api/invoices/${n.invoice.id}/pdf?mode=inline`,"_blank"),c({type:"success",message:"PDF neu erstellt."})}catch(N){c({type:"error",message:N.message||"PDF konnte nicht neu erstellt werden."})}finally{d(!1)}}},f=async()=>{if(n){d(!0),c(null);try{await vd(n.invoice.id),r(N=>N&&{...N,invoice:{...N.invoice,status_sent:!0,status_sent_at:new Date().toISOString()}}),c({type:"success",message:"Als gesendet markiert."})}catch(N){c({type:"error",message:N.message||"Konnte nicht markieren."})}finally{d(!1)}}},S=async()=>{if(n){d(!0),c(null);try{await xd(n.invoice.id),r(N=>N&&{...N,invoice:{...N.invoice,status_paid_at:new Date().toISOString()}}),c({type:"success",message:"Als bezahlt markiert."})}catch(N){c({type:"error",message:N.message||"Konnte nicht markieren."})}finally{d(!1)}}},b=async()=>{if(n){v({loading:!0,data:null,error:null});try{const N=await jd(n.invoice.id);v({loading:!1,data:N,error:null})}catch(N){v({loading:!1,data:null,error:N.message||"Vorschau konnte nicht geladen werden."})}}},_=async()=>{if(n){if(!j.to||!j.to.trim()){c({type:"error",message:"Bitte Empfnger-E-Mail angeben."});return}d(!0),c(null);try{const N=await Sd(n.invoice.id,{to:j.to.trim()});c({type:"success",message:N.message||"E-Mail gesendet."}),x({open:!1})}catch(N){c({type:"error",message:N.message||"E-Mail konnte nicht gesendet werden."})}finally{d(!1)}}},E=async()=>{if(n){d(!0),c(null);try{const N=await wd(n.invoice.id);c({type:"success",message:N.message||"DATEV Export gestartet."})}catch(N){c({type:"error",message:N.message||"DATEV Export fehlgeschlagen."})}finally{d(!1)}}};if(l)return i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Rechnung ..."]});if(a||!n)return i.jsxs("div",{className:"space-y-3",children:[i.jsx(Q,{type:"error",children:a||"Rechnung nicht gefunden."}),i.jsx(K,{variant:"secondary",onClick:()=>t("/invoices"),children:"Zurck zur bersicht"})]});const k=n.invoice;return i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Rechnung ",k.invoice_number]}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Details und Aktionen"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[g(),i.jsx(Bt,{items:[{label:"PDF ffnen",onClick:()=>window.open(`/api/invoices/${k.id}/pdf?mode=inline`,"_blank")},{label:p?"PDF ":"PDF neu erstellen",onClick:m},{label:"E-Mail Vorschau",onClick:b},{label:"E-Mail senden",onClick:()=>x({open:!0,to:k.recipient.email||""})},{label:"DATEV Export",onClick:E},{label:"Als gesendet markieren",onClick:f},{label:"Als bezahlt markieren",onClick:S}]})]})]}),u&&i.jsx(Q,{type:u.type==="success"?"success":"error",children:u.message}),i.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-3 lg:col-span-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"text-sm text-slate-600",children:["Datum: ",k.date?new Date(k.date).toLocaleDateString():""]}),i.jsxs("div",{className:"text-sm text-slate-600",children:["Kategorie: ",k.category||""]})]}),i.jsxs("div",{className:"text-lg font-semibold",children:["Gesamt:"," ",k.gross_total!=null?k.gross_total.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})+" ":""]}),i.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[i.jsxs("div",{children:["B2B: ",k.b2b?"Ja":"Nein"]}),k.ust_id&&i.jsxs("div",{children:["USt-ID: ",k.ust_id]})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-2",children:[i.jsx("div",{className:"font-semibold",children:"Empfnger"}),i.jsx("div",{className:"text-slate-700",children:k.recipient.name}),i.jsx("div",{className:"text-slate-600 text-sm",children:[k.recipient.street,`${k.recipient.zip||""} ${k.recipient.city||""}`.trim()].filter(Boolean).join(", ")}),i.jsx("div",{className:"text-slate-600 text-sm",children:k.recipient.email||""}),i.jsx("div",{className:"text-slate-600 text-sm",children:k.recipient.phone||""})]})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Positionen"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[i.jsx("th",{className:"px-3 py-2",children:"Beschreibung"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Menge"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Preis (brutto)"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"MwSt"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Summe"})]})}),i.jsx("tbody",{children:n.items.map(N=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"px-3 py-2 text-slate-700",children:N.description||""}),i.jsx("td",{className:"px-3 py-2 text-right",children:Number(N.quantity).toLocaleString("de-DE")}),i.jsxs("td",{className:"px-3 py-2 text-right",children:[Number(N.unit_price_gross).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})," "]}),i.jsxs("td",{className:"px-3 py-2 text-right",children:[N.vat_key,"%"]}),i.jsxs("td",{className:"px-3 py-2 text-right",children:[Number(N.line_total_gross??N.unit_price_gross).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]},N.id))})]})})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-1 text-sm text-slate-700",children:[i.jsx("div",{className:"font-semibold",children:"Verlauf"}),i.jsxs("div",{children:["Gesendet: ",k.status_sent_at?new Date(k.status_sent_at).toLocaleString():""]}),i.jsxs("div",{children:["Bezahlt: ",k.status_paid_at?new Date(k.status_paid_at).toLocaleString():""]}),i.jsxs("div",{children:["DATEV:"," ",k.datev_export_status?k.datev_export_status==="SUCCESS"?` ${k.datev_exported_at?new Date(k.datev_exported_at).toLocaleString():""}`.trim():k.datev_export_status==="FAILED"?` ${k.datev_export_error||""}`.trim():k.datev_export_status==="SKIPPED"?` ${k.datev_export_error||""}`.trim():k.datev_export_status:""]})]}),(h.loading||h.data||h.error)&&i.jsxs(lt,{title:"E-Mail Vorschau",onClose:()=>v({loading:!1,data:null,error:null}),children:[h.loading&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Vorschau ..."]}),h.error&&i.jsx(Q,{type:"error",children:h.error}),h.data&&i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Betreff"}),i.jsx("div",{children:h.data.subject})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"HTML"}),i.jsx("div",{className:"border border-slate-200 rounded p-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:h.data.body_html||"<em>(leer)</em>"}})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:"Text"}),i.jsx("pre",{className:"border border-slate-200 rounded p-3 whitespace-pre-wrap",children:h.data.body_text})]})]})]}),j.open&&i.jsx(lt,{title:"Rechnung per E-Mail senden",onClose:()=>x({open:!1}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-slate-700",children:[i.jsx("span",{className:"font-medium",children:"Empfnger"}),i.jsx(F,{value:j.to||"",onChange:N=>x(C=>({...C,to:N.target.value})),placeholder:"kunde@example.com"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(K,{variant:"secondary",onClick:()=>x({open:!1}),children:"Abbrechen"}),i.jsx(K,{onClick:_,disabled:p,children:p?"Sendet...":"Senden"})]})]})})]})}function Eg({mode:e,category:t,logos:n,onClose:r,onSaved:l,onError:s}){var S,b,_,E,k,N,C,M,J;const[a,o]=y.useState({key:(t==null?void 0:t.key)||"",label:(t==null?void 0:t.label)||"",logo_file:(t==null?void 0:t.logo_file)||""}),[u,c]=y.useState(n||[]),[p,d]=y.useState({subject:((S=t==null?void 0:t.template)==null?void 0:S.subject)||"",body_html:((b=t==null?void 0:t.template)==null?void 0:b.body_html)||""}),[h,v]=y.useState({email_address:((_=t==null?void 0:t.email_account)==null?void 0:_.email_address)||"",display_name:((E=t==null?void 0:t.email_account)==null?void 0:E.display_name)||"",smtp_host:((k=t==null?void 0:t.email_account)==null?void 0:k.smtp_host)||"",smtp_port:(N=t==null?void 0:t.email_account)!=null&&N.smtp_port?String((C=t==null?void 0:t.email_account)==null?void 0:C.smtp_port):"",smtp_secure:((M=t==null?void 0:t.email_account)==null?void 0:M.smtp_secure)??!0,smtp_user:((J=t==null?void 0:t.email_account)==null?void 0:J.smtp_user)||"",smtp_pass:""}),[j,x]=y.useState(!1),[w,g]=y.useState(null);y.useEffect(()=>{e==="edit"&&t?Promise.all([ag(t.id).catch(()=>null),ug(t.id).catch(()=>null),Ci().catch(()=>[])]).then(([T,I,Le])=>{T&&d({subject:T.subject||"",body_html:T.body_html||""}),I&&v({email_address:I.email_address||"",display_name:I.display_name||"",smtp_host:I.smtp_host||"",smtp_port:I.smtp_port?String(I.smtp_port):"",smtp_secure:I.smtp_secure??!0,smtp_user:I.smtp_user||"",smtp_pass:""}),Le!=null&&Le.length&&c(Le)}):Ci().then(T=>c(T)).catch(()=>{})},[]);const m=async T=>{if(!T)return;if(!/\.(png|jpg|jpeg|svg)$/i.test(T.name)){g({type:"error",message:"Nur PNG/JPG/SVG erlaubt."});return}if(T.size>1.5*1024*1024){g({type:"error",message:"Datei zu gro (max 1.5 MB)."});return}const Le=new FileReader;Le.onload=async()=>{const Ze=Le.result;try{const Ke=await rg(T.name,Ze);o(z=>({...z,logo_file:Ke.filename})),u.includes(Ke.filename)||c(z=>[...z,Ke.filename]),g({type:"success",message:"Logo hochgeladen."})}catch(Ke){g({type:"error",message:Ke.message||"Upload fehlgeschlagen."})}},Le.readAsDataURL(T)},f=async T=>{if(T.preventDefault(),g(null),!a.key.trim()||!a.label.trim()||!a.logo_file){g({type:"error",message:"Key, Label und Logo sind erforderlich."});return}x(!0);try{let I;if(e==="create")I=await lg({key:a.key.trim(),label:a.label.trim(),logo_file:a.logo_file});else if(t)I=await sg(t.id,{key:a.key.trim(),label:a.label.trim(),logo_file:a.logo_file});else throw new Error("Ungltiger Zustand");p.subject&&p.body_html&&await og(I.id,p),(h.email_address||h.smtp_host||h.smtp_user||h.smtp_pass)&&await cg(I.id,{display_name:h.display_name||null,email_address:h.email_address||null,smtp_host:h.smtp_host||null,smtp_port:h.smtp_port?Number(h.smtp_port):null,smtp_secure:h.smtp_secure,smtp_user:h.smtp_user||null,smtp_pass:h.smtp_pass||void 0}),l({...I})}catch(I){const Ze=I.message||"Kategorie konnte nicht gespeichert werden.";g({type:"error",message:Ze}),s(Ze);return}finally{x(!1)}};return i.jsx(lt,{title:e==="create"?"Neue Kategorie":"Kategorie bearbeiten",onClose:r,children:i.jsxs("form",{className:"space-y-3",onSubmit:f,children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[i.jsx(V,{label:"Key",children:i.jsx(F,{value:a.key,onChange:T=>o(I=>({...I,key:T.target.value})),required:!0})}),i.jsx(V,{label:"Label",children:i.jsx(F,{value:a.label,onChange:T=>o(I=>({...I,label:T.target.value})),required:!0})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm text-slate-700 font-medium",children:"Logo"}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsxs("select",{className:"input w-48",value:a.logo_file,onChange:T=>o(I=>({...I,logo_file:T.target.value})),children:[i.jsx("option",{value:"",children:" Logo whlen "}),u.map(T=>i.jsx("option",{value:T,children:T},T))]}),i.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.svg",onChange:T=>{var I;return m((I=T.target.files)==null?void 0:I[0])}}),a.logo_file&&i.jsx("img",{src:`/logos/${a.logo_file}`,alt:"Logo",className:"w-12 h-12 object-contain border border-slate-200 rounded"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"PNG/JPG/SVG, max 1.5 MB."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"font-semibold text-sm",children:"E-Mail/SMTP (optional)"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[i.jsx(F,{placeholder:"Absender-Name",value:h.display_name,onChange:T=>v(I=>({...I,display_name:T.target.value}))}),i.jsx(F,{placeholder:"Absender-E-Mail",value:h.email_address,onChange:T=>v(I=>({...I,email_address:T.target.value}))}),i.jsx(F,{placeholder:"SMTP Host",value:h.smtp_host||"",onChange:T=>v(I=>({...I,smtp_host:T.target.value}))}),i.jsx(F,{placeholder:"SMTP Port",value:h.smtp_port,onChange:T=>v(I=>({...I,smtp_port:T.target.value}))}),i.jsxs("label",{className:"text-sm text-slate-700 flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:h.smtp_secure,onChange:T=>v(I=>({...I,smtp_secure:T.target.checked}))}),i.jsx("span",{children:"SMTP Secure"})]}),i.jsx(F,{placeholder:"SMTP User",value:h.smtp_user||"",onChange:T=>v(I=>({...I,smtp_user:T.target.value}))}),i.jsx(F,{placeholder:"SMTP Passwort (write-only)",type:"password",value:h.smtp_pass,onChange:T=>v(I=>({...I,smtp_pass:T.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Template (optional)"}),i.jsx(F,{placeholder:"Betreff",value:p.subject,onChange:T=>d(I=>({...I,subject:T.target.value}))}),i.jsx(_d,{placeholder:"HTML Body",value:p.body_html,onChange:T=>d(I=>({...I,body_html:T.target.value})),className:"min-h-[120px]"})]}),w&&i.jsx(Q,{type:w.type==="success"?"success":"error",children:w.message}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(K,{variant:"secondary",type:"button",onClick:r,children:"Abbrechen"}),i.jsx(K,{type:"submit",disabled:j,children:j?"Speichern ...":"Speichern"})]})]})})}function Cg(){const{user:e}=yt();if((e==null?void 0:e.role_name)!=="admin")return i.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-900 rounded-lg p-4",children:"Keine Berechtigung. Nur Admins knnen die Einstellungen bearbeiten."});const t=[{key:"pdf",label:"PDF",content:i.jsx(bg,{})},{key:"mail",label:"Mail / SMTP",content:i.jsx(Tg,{})},{key:"header",label:"Rechnungskopf",content:i.jsx(zg,{})},{key:"bank",label:"Bank / Steuer",content:i.jsx(Bg,{})},{key:"datev",label:"DATEV",content:i.jsx(Fg,{})},{key:"hkforms",label:"HKForms",content:i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ag,{}),i.jsx(Rg,{})]})},{key:"network",label:"Netzwerk",content:i.jsx(Pg,{})},{key:"security",label:"Sicherheit",content:i.jsx(Lg,{})}],[n,r]=y.useState(t[0].key);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("header",{children:[i.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Einstellungen"}),i.jsx("p",{className:"text-slate-700 text-sm",children:"Einstellungen sind pro Bereich in Tabs gruppiert. nderungen gelten sofort fr neue Vorgnge."})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm",children:[i.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 px-3 py-2",children:t.map(l=>i.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium ${n===l.key?"bg-blue-50 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>r(l.key),type:"button",children:l.label},l.key))}),i.jsx("div",{className:"p-4 space-y-4",children:t.map(l=>i.jsx("div",{className:n===l.key?"block":"hidden",children:l.content},l.key))})]})]})}function bg(){const[e,t]=y.useState(!0),[n,r]=y.useState(!1),[l,s]=y.useState(!1),[a,o]=y.useState(null),[u,c]=y.useState(null),[p,d]=y.useState({storage_path:""});y.useEffect(()=>{o(null),Th().then(x=>d({storage_path:x.storage_path||"",default_path:x.default_path})).catch(x=>o({type:"error",message:x.message||"Konnte PDF-Einstellungen nicht laden."})).finally(()=>t(!1))},[]);const h=async x=>{x.preventDefault(),r(!0),o(null);try{const w=await zh({storage_path:p.storage_path});d(g=>({...g,storage_path:w.storage_path})),o({type:"success",message:"PDF-Pfad gespeichert."})}catch(w){o({type:"error",message:w.message||"Speichern fehlgeschlagen."})}finally{r(!1)}},v=async()=>{s(!0),c(null);try{const x=await Rh({path:p.storage_path});c({type:"success",message:`Pfad ist schreibbar: ${x.path}`})}catch(x){c({type:"error",message:x.message||"Pfad-Test fehlgeschlagen."})}finally{s(!1)}},j=()=>{p.default_path&&d(x=>({...x,storage_path:p.default_path||""}))};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:"PDF Speicherort"}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Pfad, in dem PDFs gespeichert werden. Bei Docker als Volume/Bind-Mount bereitstellen. Default: ",p.default_path||"/app/pdfs","."]})]}),i.jsxs("form",{className:"space-y-3",onSubmit:h,children:[i.jsxs("label",{className:"text-sm text-slate-700 block",children:[i.jsx("span",{className:"font-medium",children:"Pfad"}),i.jsx("input",{className:"input mt-1",value:p.storage_path,onChange:x=>d(w=>({...w,storage_path:x.target.value})),disabled:e})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:"btn-primary",type:"submit",disabled:n||e,children:n?"Speichere ...":"Speichern"}),i.jsx("button",{className:"btn-secondary",type:"button",onClick:v,disabled:l||e,children:l?"Testet ...":"Pfad testen"}),p.default_path&&i.jsx("button",{className:"btn-secondary",type:"button",onClick:j,disabled:e,children:"Auf Standard zurcksetzen"})]})]}),a&&i.jsx(Q,{type:a.type==="error"?"error":"success",children:a.message}),u&&i.jsx(Q,{type:u.type==="error"?"error":"success",children:u.message})]})}function Pg(){return i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Netzwerk"}),i.jsxs("ul",{className:"text-sm text-slate-700 list-disc pl-4 space-y-1",children:[i.jsx("li",{children:"Interner HTTP-Port: Container 3030, Host 192.200.255.225:3031."}),i.jsx("li",{children:"NPM Forward: https://rechnung.intern  http://192.200.255.225:3031"}),i.jsx("li",{children:"TRUST_PROXY=1, CORS_ORIGINS: https://rechnung.intern (weitere Origins per ENV)."})]})]})}function Lg(){return i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Sicherheit"}),i.jsxs("ul",{className:"text-sm text-slate-700 list-disc pl-4 space-y-1",children:[i.jsx("li",{children:"Rate Limits aktivierbar per RATE_LIMIT_ENABLED (Login-Limit strenger)."}),i.jsx("li",{children:"Cookies: HttpOnly, SameSite=Lax, Secure automatisch bei HTTPS (NPM)."}),i.jsx("li",{children:"API Keys (X-API-Key) in eigenem Tab verwalten."})]})]})}function Tg(){const{refresh:e}=yt(),[t,n]=y.useState(!0),[r,l]=y.useState(!1),[s,a]=y.useState(!1),[o,u]=y.useState(null),[c,p]=y.useState({host:"",port:"",secure:!1,user:"",password:"",from:"",reply_to:"",has_password:!1}),[d,h]=y.useState(""),[v,j]=y.useState(!1),[x,w]=y.useState(null);y.useEffect(()=>{u(null),n(!0),yh().then(f=>{p({host:f.host||"",port:f.port?String(f.port):"",secure:!!f.secure,user:f.user||"",password:"",from:f.from||"",reply_to:f.reply_to||"",has_password:!!f.has_password}),j(!1)}).catch(f=>{u({type:"error",message:f.message||"Konnte SMTP-Einstellungen nicht laden."})}).finally(()=>n(!1))},[]);const g=async f=>{f.preventDefault(),l(!0),u(null),w(null);try{const S={host:c.host||null,port:c.port?Number(c.port):null,secure:c.secure,user:c.user||null,from:c.from||null,reply_to:c.reply_to||null};c.password.trim()&&(S.password=c.password);const b=await vh(S);p(_=>({..._,has_password:!!b.has_password,password:""})),u({type:"success",message:"SMTP-Einstellungen gespeichert."}),j(!1),await e()}catch(S){const b=S;let _=b.message||"Speichern fehlgeschlagen.";b.status===401||b.status===403?_="Keine Berechtigung.":b.status===400&&(_="Ungltige SMTP Daten."),u({type:"error",message:_})}finally{l(!1)}},m=async()=>{if(!d.trim()){w({type:"error",message:"Bitte Empfnger fr Testmail angeben."});return}a(!0),w(null);try{const f=await xh(d.trim()),S=f.message||(f.dry_run?"Dry-Run erfolgreich.":"Testmail gesendet.");w({type:f.dry_run?"info":"success",message:`${S} Empfnger: ${f.to}${f.redirected?" (redirected)":""}${f.dry_run?" | Versand deaktiviert (EMAIL_SEND_DISABLED=1)":""}`})}catch(f){const S=f;let b=S.message||"Test fehlgeschlagen.";S.status===401||S.status===403?b="Keine Berechtigung.":S.status===400&&(b="Ungltige SMTP Daten."),w({type:"error",message:b})}finally{a(!1)}};return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"SMTP Einstellungen"}),t&&i.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),i.jsxs("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:g,children:[i.jsx(V,{label:"Host",children:i.jsx("input",{value:c.host,onChange:f=>p(S=>({...S,host:f.target.value})),className:"input",required:!1})}),i.jsx(V,{label:"Port",children:i.jsx("input",{value:c.port,onChange:f=>p(S=>({...S,port:f.target.value})),className:"input",inputMode:"numeric"})}),i.jsx(V,{label:"Secure (TLS)",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:c.secure,onChange:f=>p(S=>({...S,secure:f.target.checked}))}),i.jsx("span",{children:"SMTPS (Port 465) nutzen"})]})}),i.jsx("div",{className:"hidden md:block"}),i.jsx(V,{label:"Benutzer",children:i.jsx("input",{value:c.user,onChange:f=>p(S=>({...S,user:f.target.value})),className:"input"})}),i.jsxs("div",{className:"md:col-span-2 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Passwort"}),c.has_password?i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-800 border border-green-200",children:"gesetzt"}):i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-100 text-amber-800 border border-amber-200",children:"nicht gesetzt"}),i.jsx(K,{variant:"secondary",type:"button",onClick:()=>j(f=>!f),children:v?"Abbrechen":"Passwort ndern"})]}),v&&i.jsx("input",{type:"password",value:c.password,onChange:f=>p(S=>({...S,password:f.target.value})),className:"input",placeholder:"Neues Passwort eingeben"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Passwort wird nur gesendet, wenn du es hier eingibst. Nach dem Speichern wird das Feld geleert."})]}),i.jsx(V,{label:"FROM",children:i.jsx("input",{value:c.from,onChange:f=>p(S=>({...S,from:f.target.value})),className:"input",placeholder:"Name <mail@example.com>"})}),i.jsx(V,{label:"Reply-To (optional)",children:i.jsx("input",{value:c.reply_to,onChange:f=>p(S=>({...S,reply_to:f.target.value})),className:"input"})}),i.jsxs("div",{className:"md:col-span-2 flex flex-wrap gap-3 items-center mt-2",children:[i.jsx("button",{type:"submit",className:"btn-primary",disabled:r||t,children:r?"Speichern ...":"Speichern"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{className:"input",placeholder:"Test-Empfnger",value:d,onChange:f=>h(f.target.value)}),i.jsx("button",{type:"button",className:"btn-secondary",onClick:m,disabled:s||t,children:s?"Testet ...":"Testmail senden"})]})]})]}),o&&i.jsx("div",{className:`mt-4 text-sm rounded-md px-3 py-2 ${o.type==="success"?"bg-green-50 text-green-800 border border-green-100":o.type==="info"?"bg-blue-50 text-blue-800 border border-blue-100":"bg-red-50 text-red-700 border border-red-100"}`,children:o.message}),x&&i.jsx("div",{className:`mt-3 text-sm rounded-md px-3 py-2 ${x.type==="success"?"bg-green-50 text-green-800 border border-green-100":x.type==="info"?"bg-blue-50 text-blue-800 border border-blue-100":"bg-red-50 text-red-700 border border-red-100"}`,children:x.message})]})}function zg(){const[e,t]=y.useState(!0),[n,r]=y.useState(!1),[l,s]=y.useState(null),[a,o]=y.useState({company_name:"",address_line1:"",address_line2:"",zip:"",city:"",country:"",vat_id:"",bank_name:"",iban:"",bic:"",footer_text:"",logo_url:""});y.useEffect(()=>{s(null),t(!0),jh().then(c=>{o({company_name:c.company_name||"",address_line1:c.address_line1||"",address_line2:c.address_line2||"",zip:c.zip||"",city:c.city||"",country:c.country||"",vat_id:c.vat_id||"",bank_name:c.bank_name||"",iban:c.iban||"",bic:c.bic||"",footer_text:c.footer_text||"",logo_url:c.logo_url||""})}).catch(c=>s({type:"error",message:c.message||"Konnte Briefkopf nicht laden."})).finally(()=>t(!1))},[]);const u=async c=>{c.preventDefault(),r(!0),s(null);try{await Sh(a),s({type:"success",message:"Briefkopf gespeichert."})}catch(p){s({type:"error",message:p.message||"Speichern fehlgeschlagen."})}finally{r(!1)}};return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Rechnungskopf / Briefkopf"}),e&&i.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"nderungen wirken auf neu generierte PDFs. Fr bestehende Rechnungen bitte PDF neu erstellen verwenden."}),i.jsxs("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:u,children:[i.jsx(V,{label:"Firma",children:i.jsx("input",{value:a.company_name,onChange:c=>o(p=>({...p,company_name:c.target.value})),className:"input"})}),i.jsx(V,{label:"USt-IdNr.",children:i.jsx("input",{value:a.vat_id,onChange:c=>o(p=>({...p,vat_id:c.target.value})),className:"input"})}),i.jsx(V,{label:"Adresse Zeile 1",children:i.jsx("input",{value:a.address_line1,onChange:c=>o(p=>({...p,address_line1:c.target.value})),className:"input"})}),i.jsx(V,{label:"Adresse Zeile 2",children:i.jsx("input",{value:a.address_line2,onChange:c=>o(p=>({...p,address_line2:c.target.value})),className:"input"})}),i.jsx(V,{label:"PLZ",children:i.jsx("input",{value:a.zip,onChange:c=>o(p=>({...p,zip:c.target.value})),className:"input"})}),i.jsx(V,{label:"Ort",children:i.jsx("input",{value:a.city,onChange:c=>o(p=>({...p,city:c.target.value})),className:"input"})}),i.jsx(V,{label:"Land",children:i.jsx("input",{value:a.country,onChange:c=>o(p=>({...p,country:c.target.value})),className:"input"})}),i.jsx("div",{className:"hidden md:block"}),i.jsx(V,{label:"Bank",children:i.jsx("input",{value:a.bank_name,onChange:c=>o(p=>({...p,bank_name:c.target.value})),className:"input"})}),i.jsx(V,{label:"IBAN",children:i.jsx("input",{value:a.iban,onChange:c=>o(p=>({...p,iban:c.target.value})),className:"input"})}),i.jsx(V,{label:"BIC",children:i.jsx("input",{value:a.bic,onChange:c=>o(p=>({...p,bic:c.target.value})),className:"input"})}),i.jsx(V,{label:"Logo URL (optional)",children:i.jsx("input",{value:a.logo_url,onChange:c=>o(p=>({...p,logo_url:c.target.value})),className:"input"})}),i.jsx(V,{label:"Fuzeile",className:"md:col-span-2",children:i.jsx("textarea",{value:a.footer_text,onChange:c=>o(p=>({...p,footer_text:c.target.value})),className:"input min-h-[90px]"})}),i.jsx("div",{className:"md:col-span-2",children:i.jsx("button",{type:"submit",className:"btn-primary",disabled:n||e,children:n?"Speichern ...":"Speichern"})})]}),l&&i.jsx("div",{className:`mt-4 text-sm rounded-md px-3 py-2 ${l.type==="success"?"bg-green-50 text-green-800 border border-green-100":"bg-red-50 text-red-700 border border-red-100"}`,children:l.message})]})}function Rg(){const[e,t]=y.useState(!0),[n,r]=y.useState(null),[l,s]=y.useState([]),[a,o]=y.useState(!1),[u,c]=y.useState(null),[p,d]=y.useState(null),[h,v]=y.useState(null),[j,x]=y.useState(""),[w,g]=y.useState(null),m=async()=>{t(!0),r(null);try{const k=await Dh();s(k)}catch(k){r({type:"error",message:k.message||"API-Keys konnten nicht geladen werden."})}finally{t(!1)}};y.useEffect(()=>{m()},[]);const f=async()=>{o(!0),r(null);try{const k=await Oh({name:j||null});g({api_key:k.api_key,prefix:k.prefix}),x(""),await m(),r({type:"success",message:"API-Key erstellt. Kopiere ihn jetzt  spter nicht mehr sichtbar!"})}catch(k){r({type:"error",message:k.message||"API-Key konnte nicht erstellt werden."})}finally{o(!1)}},S=async k=>{c(k),r(null);try{const N=await Ih(k);g({api_key:N.api_key,prefix:N.prefix}),await m(),r({type:"success",message:"API-Key rotiert. Neuer Key wird nur einmal angezeigt!"})}catch(N){r({type:"error",message:N.message||"Rotation fehlgeschlagen."})}finally{c(null)}},b=async k=>{if(confirm("API-Key wirklich widerrufen?")){d(k),r(null);try{await Mh(k),await m(),r({type:"success",message:"API-Key widerrufen."})}catch(N){r({type:"error",message:N.message||"Widerruf fehlgeschlagen."})}finally{d(null)}}},_=async k=>{if(confirm("API-Key wirklich lschen? (Aktion kann nicht rckgngig gemacht werden)")){v(k),r(null);try{await Bh(k),await m(),r({type:"success",message:"API-Key gelscht."})}catch(N){r({type:"error",message:N.message||"Lschen fehlgeschlagen."})}finally{v(null)}}},E=async()=>{w!=null&&w.api_key&&(await navigator.clipboard.writeText(w.api_key),r({type:"success",message:"API-Key kopiert."}))};return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"API Keys"}),e&&i.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[i.jsx("input",{className:"input w-60",placeholder:"Name (optional)",value:j,onChange:k=>x(k.target.value)}),i.jsx("button",{className:"btn-primary",onClick:f,disabled:a||e,children:a?"Erstelle ...":"Neuen Key erstellen"})]}),w&&i.jsxs("div",{className:"mb-4 p-3 rounded-md border border-amber-200 bg-amber-50 text-sm text-amber-900",children:["Neuer Key (nur jetzt sichtbar):",i.jsx("br",{}),i.jsx("code",{className:"block break-all mt-1 font-mono text-xs bg-white border border-amber-200 rounded px-2 py-1",children:w.api_key}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("button",{className:"btn-secondary",onClick:E,children:"Kopieren"}),i.jsx("span",{className:"text-xs text-amber-800",children:"Speichere den Key sicher  nach dem Schlieen dieser Meldung ist er nicht mehr abrufbar."})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200",children:[i.jsx("th",{className:"py-2 pr-3",children:"Name"}),i.jsx("th",{className:"py-2 pr-3",children:"Prefix"}),i.jsx("th",{className:"py-2 pr-3",children:"Erstellt"}),i.jsx("th",{className:"py-2 pr-3",children:"Zuletzt genutzt"}),i.jsx("th",{className:"py-2 pr-3",children:"Status"}),i.jsx("th",{className:"py-2 pr-3 text-right",children:"Aktionen"})]})}),i.jsxs("tbody",{children:[l.map(k=>{const N=!!k.revoked_at;return i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-2 pr-3",children:k.name||""}),i.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:k.prefix}),i.jsx("td",{className:"py-2 pr-3",children:new Date(k.created_at).toLocaleString()}),i.jsx("td",{className:"py-2 pr-3",children:k.last_used_at?new Date(k.last_used_at).toLocaleString():""}),i.jsx("td",{className:"py-2 pr-3",children:N?i.jsx("span",{className:"text-red-600",children:"widerrufen"}):i.jsx("span",{className:"text-green-600",children:"aktiv"})}),i.jsxs("td",{className:"py-2 pr-3 text-right flex gap-2 justify-end",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>S(k.id),disabled:u===k.id,children:u===k.id?"rotiert...":"Rotieren"}),i.jsx("button",{className:"btn-secondary",onClick:()=>b(k.id),disabled:p===k.id||N,children:p===k.id?"widerrufe...":"Widerrufen"}),i.jsx("button",{className:"btn-secondary",onClick:()=>_(k.id),disabled:h===k.id,children:h===k.id?"lsche...":"Lschen"})]})]},k.id)}),!l.length&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"py-3 text-slate-500",children:"Noch keine API Keys vorhanden."})})]})]})}),n&&i.jsx("div",{className:`mt-4 text-sm rounded-md px-3 py-2 ${n.type==="success"?"bg-green-50 text-green-800 border border-green-100":"bg-red-50 text-red-700 border border-red-100"}`,children:n.message})]})}function Dg(){const{user:e}=yt(),t=(e==null?void 0:e.role_name)==="admin",[n,r]=y.useState([]),[l,s]=y.useState([]),[a,o]=y.useState(!0),[u,c]=y.useState(null),[p,d]=y.useState(null),[h,v]=y.useState(null),[j,x]=y.useState(null),w=f=>{var S;return{...f,role_name:((S=l.find(b=>b.id===f.role_id))==null?void 0:S.name)||f.role_name||null}},g=async()=>{o(!0),c(null);try{const[f,S]=await Promise.all([Nd(),Gh()]);s(f),r(S)}catch(f){c({type:"error",message:f.message||"Benutzer konnten nicht geladen werden."})}finally{o(!1)}};if(y.useEffect(()=>{t&&g()},[t]),!t)return i.jsx(Q,{type:"error",children:"Keine Berechtigung."});const m=async f=>{x(f),c(null);try{await Zh(f),r(S=>S.filter(b=>b.id!==f)),c({type:"success",message:"Benutzer gelscht."})}catch(S){c({type:"error",message:S.message||"Lschen fehlgeschlagen."})}finally{x(null),v(null)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Benutzer"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Admin-Bereich: Benutzer anlegen, Rollen zuweisen."})]}),i.jsx(K,{onClick:()=>d({mode:"create"}),children:"Neu"})]}),a&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Benutzer ..."]}),!a&&i.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[i.jsx("th",{className:"px-3 py-2",children:"Benutzername"}),i.jsx("th",{className:"px-3 py-2",children:"Rolle"}),i.jsx("th",{className:"px-3 py-2",children:"Status"}),i.jsx("th",{className:"px-3 py-2",children:"Erstellt"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Aktionen"})]})}),i.jsxs("tbody",{children:[n.map(f=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"px-3 py-2 font-medium",children:f.username}),i.jsx("td",{className:"px-3 py-2",children:f.role_name||""}),i.jsx("td",{className:"px-3 py-2",children:f.is_active?i.jsx(En,{tone:"green",children:"aktiv"}):i.jsx(En,{tone:"amber",children:"inaktiv"})}),i.jsx("td",{className:"px-3 py-2",children:f.created_at?new Date(f.created_at).toLocaleDateString():""}),i.jsxs("td",{className:"px-3 py-2 text-right flex gap-2 justify-end",children:[i.jsx(K,{variant:"secondary",onClick:()=>d({mode:"edit",user:f}),children:"Edit"}),i.jsx(K,{variant:"danger",onClick:()=>v(f.id),disabled:j===f.id,children:j===f.id?"...":"Delete"})]})]},f.id)),!n.length&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-3 py-4 text-center text-slate-500",children:"Keine Benutzer vorhanden."})})]})]})}),u&&i.jsx(Q,{type:u.type==="success"?"success":"error",children:u.message}),p&&i.jsx(Og,{mode:p.mode,user:p.user,roles:l,onClose:()=>d(null),onSaved:f=>{const S=w(f);p.mode==="edit"&&f?r(b=>b.map(_=>_.id===S.id?S:_)):f&&r(b=>[...b,S]),c({type:"success",message:"Benutzer gespeichert."})},onError:f=>c({type:"error",message:f})}),h!==null&&i.jsx(es,{title:"Benutzer lschen?",description:"Dieser Vorgang kann nicht rckgngig gemacht werden.",onConfirm:()=>m(h),onCancel:()=>v(null),busy:j===h})]})}function Og({mode:e,user:t,roles:n,onClose:r,onSaved:l,onError:s}){const[a,o]=y.useState({username:(t==null?void 0:t.username)||"",password:"",role_id:(t==null?void 0:t.role_id)||null,is_active:(t==null?void 0:t.is_active)??!0}),[u,c]=y.useState(!1),[p,d]=y.useState(null),h=async v=>{if(v.preventDefault(),d(null),!a.username.trim()){d("Benutzername ist erforderlich.");return}if(e==="create"&&!a.password.trim()){d("Passwort ist erforderlich.");return}c(!0);try{if(e==="create"){const j=await Yh({username:a.username.trim(),password:a.password,role_id:a.role_id||void 0});l(j)}else if(t){const j=await Xh(t.id,{username:a.username.trim(),role_id:a.role_id||null,is_active:a.is_active});l(j)}r()}catch(j){const x=j,w=x.status===409?"Benutzername existiert bereits.":x.message||"Speichern fehlgeschlagen.";d(w),s(w);return}finally{c(!1)}};return i.jsx(lt,{title:e==="create"?"Neuer Benutzer":"Benutzer bearbeiten",onClose:r,children:i.jsxs("form",{className:"space-y-3",onSubmit:h,children:[i.jsx(V,{label:"Benutzername",children:i.jsx(F,{value:a.username,onChange:v=>o(j=>({...j,username:v.target.value}))})}),e==="create"&&i.jsx(V,{label:"Passwort",children:i.jsx(F,{type:"password",value:a.password,onChange:v=>o(j=>({...j,password:v.target.value}))})}),i.jsx(V,{label:"Rolle",children:i.jsxs(tn,{value:a.role_id??"",onChange:v=>o(j=>({...j,role_id:v.target.value?Number(v.target.value):null})),children:[i.jsx("option",{value:"",children:" Standard "}),n.map(v=>i.jsx("option",{value:v.id,children:v.name},v.id))]})}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:a.is_active,onChange:v=>o(j=>({...j,is_active:v.target.checked}))}),i.jsx("span",{children:"Aktiv"})]}),p&&i.jsx(Q,{type:"error",children:p}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(K,{variant:"secondary",type:"button",onClick:r,children:"Abbrechen"}),i.jsx(K,{type:"submit",disabled:u,children:u?"Speichern ...":"Speichern"})]})]})})}function Ig(){const{user:e}=yt(),t=(e==null?void 0:e.role_name)==="admin",[n,r]=y.useState([]),[l,s]=y.useState(!0),[a,o]=y.useState(null),[u,c]=y.useState(null),[p,d]=y.useState(null),[h,v]=y.useState(null),j=async()=>{s(!0),o(null);try{const w=await Nd();r(w)}catch(w){o({type:"error",message:w.message||"Rollen konnten nicht geladen werden."})}finally{s(!1)}};if(y.useEffect(()=>{t&&j()},[t]),!t)return i.jsx(Q,{type:"error",children:"Keine Berechtigung."});const x=async w=>{v(w),o(null);try{await ng(w),r(g=>g.filter(m=>m.id!==w)),o({type:"success",message:"Rolle gelscht."})}catch(g){o({type:"error",message:g.message||"Lschen fehlgeschlagen."})}finally{v(null),d(null)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Rollen & Berechtigungen"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Definiere Rollen und zugehrige Rechte."})]}),i.jsx(K,{onClick:()=>c({mode:"create"}),children:"Neue Rolle"})]}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Rollen ..."]}),!l&&i.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[i.jsx("th",{className:"px-3 py-2",children:"Name"}),i.jsx("th",{className:"px-3 py-2",children:"Beschreibung"}),i.jsx("th",{className:"px-3 py-2 text-right",children:"Aktionen"})]})}),i.jsxs("tbody",{children:[n.map(w=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"px-3 py-2 font-medium",children:w.name}),i.jsx("td",{className:"px-3 py-2 text-slate-600",children:w.description||""}),i.jsxs("td",{className:"px-3 py-2 text-right flex gap-2 justify-end",children:[i.jsx(K,{variant:"secondary",onClick:()=>c({mode:"edit",role:w}),children:"Edit"}),i.jsx(K,{variant:"danger",onClick:()=>d(w.id),disabled:h===w.id,children:h===w.id?"...":"Delete"})]})]},w.id)),!n.length&&i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"px-3 py-4 text-center text-slate-500",children:"Keine Rollen vorhanden."})})]})]})}),a&&i.jsx(Q,{type:a.type==="success"?"success":"error",children:a.message}),u&&i.jsx(Mg,{mode:u.mode,role:u.role,onClose:()=>c(null),onSaved:()=>{j(),o({type:"success",message:"Rolle gespeichert."})},onError:w=>o({type:"error",message:w})}),p!==null&&i.jsx(es,{title:"Rolle lschen?",description:"Rolle wird entfernt. Prfe zugewiesene Benutzer.",onConfirm:()=>x(p),onCancel:()=>d(null),busy:h===p})]})}function Mg({mode:e,role:t,onClose:n,onSaved:r,onError:l}){const[s,a]=y.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",permissions:[]}),[o,u]=y.useState(e==="edit"),[c,p]=y.useState(!1),[d,h]=y.useState(null);y.useEffect(()=>{e==="edit"&&t&&qh(t.id).then(x=>a(w=>({...w,permissions:x}))).catch(x=>h(x.message||"Konnte Berechtigungen nicht laden.")).finally(()=>u(!1))},[e,t]);const v=x=>{a(w=>{const g=w.permissions.includes(x);return{...w,permissions:g?w.permissions.filter(m=>m!==x):[...w.permissions,x]}})},j=async x=>{if(x.preventDefault(),h(null),!s.name.trim()){h("Name ist erforderlich.");return}p(!0);try{e==="create"?await eg({name:s.name.trim(),description:s.description||null,permissions:s.permissions}):t&&await tg(t.id,{name:s.name.trim(),description:s.description||null,permissions:s.permissions}),r(),n()}catch(w){const g=w;h(g.message||"Speichern fehlgeschlagen."),l(g.message||"Speichern fehlgeschlagen.");return}finally{p(!1)}};return i.jsx(lt,{title:e==="create"?"Neue Rolle":"Rolle bearbeiten",onClose:n,children:o?i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Berechtigungen ..."]}):i.jsxs("form",{className:"space-y-3",onSubmit:j,children:[i.jsx(V,{label:"Name",children:i.jsx(F,{value:s.name,onChange:x=>a(w=>({...w,name:x.target.value}))})}),i.jsx(V,{label:"Beschreibung (optional)",children:i.jsx(F,{value:s.description,onChange:x=>a(w=>({...w,description:x.target.value}))})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Berechtigungen"}),i.jsx("div",{className:"grid md:grid-cols-2 gap-2 max-h-72 overflow-y-auto border border-slate-200 rounded-md p-3",children:pg.map(x=>i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[i.jsx("input",{type:"checkbox",checked:s.permissions.includes(x.key),onChange:()=>v(x.key)}),i.jsx("span",{children:x.label})]},x.key))})]}),d&&i.jsx(Q,{type:"error",children:d}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx(K,{variant:"secondary",type:"button",onClick:n,children:"Abbrechen"}),i.jsx(K,{type:"submit",disabled:c,children:c?"Speichern ...":"Speichern"})]})]})})}function Bg(){const[e,t]=y.useState(!0),[n,r]=y.useState(!1),[l,s]=y.useState(!1),[a,o]=y.useState(null),[u,c]=y.useState({account_holder:"",bank_name:"",iban:"",bic:""}),[p,d]=y.useState({tax_number:"",vat_id:""});y.useEffect(()=>{o(null),t(!0),Promise.all([wh(),kh()]).then(([j,x])=>{c({account_holder:j.account_holder||"",bank_name:j.bank_name||"",iban:j.iban||"",bic:j.bic||""}),d({tax_number:x.tax_number||"",vat_id:x.vat_id||""})}).catch(j=>{o({type:"error",message:j.message||"Konnte Bank-/Steuer-Daten nicht laden."})}).finally(()=>t(!1))},[]);const h=async j=>{j.preventDefault(),r(!0),o(null);try{await Nh({account_holder:u.account_holder,bank_name:u.bank_name,iban:u.iban,bic:u.bic}),o({type:"success",message:"Bankdaten gespeichert."})}catch(x){o({type:"error",message:x.message||"Bankdaten konnten nicht gespeichert werden."})}finally{r(!1)}},v=async j=>{j.preventDefault(),s(!0),o(null);try{await _h({tax_number:p.tax_number||null,vat_id:p.vat_id||null}),o({type:"success",message:"Steuerdaten gespeichert."})}catch(x){o({type:"error",message:x.message||"Steuerdaten konnten nicht gespeichert werden."})}finally{s(!1)}};return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Bank & Steuer"}),e&&i.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),i.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:h,children:[i.jsx(V,{label:"Kontoinhaber",children:i.jsx(F,{value:u.account_holder,onChange:j=>c(x=>({...x,account_holder:j.target.value})),required:!0})}),i.jsx(V,{label:"Bankname",children:i.jsx(F,{value:u.bank_name,onChange:j=>c(x=>({...x,bank_name:j.target.value})),required:!0})}),i.jsx(V,{label:"IBAN",children:i.jsx(F,{value:u.iban,onChange:j=>c(x=>({...x,iban:j.target.value})),required:!0})}),i.jsx(V,{label:"BIC",children:i.jsx(F,{value:u.bic,onChange:j=>c(x=>({...x,bic:j.target.value})),required:!0})}),i.jsx("div",{className:"md:col-span-2 flex justify-end",children:i.jsx(K,{type:"submit",disabled:n||e,children:n?"Speichert ...":"Bankdaten speichern"})})]}),i.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:v,children:[i.jsx(V,{label:"Steuernummer",children:i.jsx(F,{value:p.tax_number||"",onChange:j=>d(x=>({...x,tax_number:j.target.value}))})}),i.jsx(V,{label:"USt-IdNr.",children:i.jsx(F,{value:p.vat_id||"",onChange:j=>d(x=>({...x,vat_id:j.target.value}))})}),i.jsx("div",{className:"md:col-span-2 flex justify-end",children:i.jsx(K,{type:"submit",disabled:l||e,children:l?"Speichert ...":"Steuerdaten speichern"})})]}),a&&i.jsx(Q,{type:a.type==="success"?"success":a.type==="info"?"info":"error",children:a.message})]})}function Fg(){const[e,t]=y.useState({email:""}),[n,r]=y.useState(!0),[l,s]=y.useState(!1),[a,o]=y.useState(null);y.useEffect(()=>{r(!0),o(null),Eh().then(c=>t({email:c.email||""})).catch(c=>o({type:"error",message:c.message||"DATEV konnte nicht geladen werden."})).finally(()=>r(!1))},[]);const u=async c=>{c.preventDefault(),s(!0),o(null);try{await Ch({email:e.email||null}),o({type:"success",message:"DATEV-Einstellungen gespeichert."})}catch(p){o({type:"error",message:p.message||"DATEV-Einstellungen konnten nicht gespeichert werden."})}finally{s(!1)}};return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"DATEV"}),n&&i.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Hinterlege die DATEV-E-Mail, die fr Exporte genutzt werden soll."}),i.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:u,children:[i.jsx(V,{label:"DATEV E-Mail",children:i.jsx(F,{type:"email",value:e.email||"",onChange:c=>t({email:c.target.value}),required:!0})}),i.jsx("div",{className:"md:col-span-2 flex justify-end",children:i.jsx(K,{type:"submit",disabled:l||n,children:l?"Speichert ...":"Speichern"})})]}),a&&i.jsx(Q,{type:a.type==="success"?"success":"error",children:a.message})]})}function Ag(){const[e,t]=y.useState({base_url:"",organization:"",has_api_key:!1,api_key:""}),[n,r]=y.useState(!0),[l,s]=y.useState(!1),[a,o]=y.useState(!1),[u,c]=y.useState(null),[p,d]=y.useState(null);y.useEffect(()=>{r(!0),c(null),bh().then(j=>t({base_url:j.base_url||"",organization:j.organization||"",has_api_key:!!j.has_api_key,api_key:""})).catch(j=>c({type:"error",message:j.message||"HKForms konnte nicht geladen werden."})).finally(()=>r(!1))},[]);const h=async j=>{j.preventDefault(),s(!0),c(null),d(null);try{const x={base_url:e.base_url,organization:e.organization||null};e.api_key&&(x.api_key=e.api_key);const w=await Ph(x);t(g=>({...g,base_url:w.base_url||g.base_url,organization:w.organization||"",has_api_key:!!w.has_api_key,api_key:""})),c({type:"success",message:"HKForms-Einstellungen gespeichert."})}catch(x){c({type:"error",message:x.message||"HKForms-Einstellungen konnten nicht gespeichert werden."})}finally{s(!1)}},v=async()=>{o(!0),d(null);try{const j=await Lh({base_url:e.base_url,organization:e.organization||void 0,api_key:e.api_key||void 0});d({type:j.ok?"success":"info",message:j.message||"Test abgeschlossen."})}catch(j){d({type:"error",message:j.message||"Test fehlgeschlagen."})}finally{o(!1)}};return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"HKForms"}),n&&i.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Basis fr Status-Sync und Overdue-Job. API-Schlssel wird nur einmalig gesendet (write-only)."}),i.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:h,children:[i.jsx(V,{label:"Base URL",children:i.jsx(F,{value:e.base_url,onChange:j=>t(x=>({...x,base_url:j.target.value})),required:!0})}),i.jsx(V,{label:"Organisation (optional)",children:i.jsx(F,{value:e.organization||"",onChange:j=>t(x=>({...x,organization:j.target.value}))})}),i.jsxs("div",{className:"md:col-span-2 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"API Key"}),e.has_api_key?i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-800 border border-green-200",children:"hinterlegt"}):i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-100 text-amber-800 border border-amber-200",children:"fehlt"})]}),i.jsx(F,{type:"password",value:e.api_key||"",onChange:j=>t(x=>({...x,api_key:j.target.value})),placeholder:"Nur ausfllen, wenn du den Key setzen/ndern willst"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Der API-Key wird nicht im Klartext angezeigt. Nach dem Speichern wird das Feld geleert."})]}),i.jsxs("div",{className:"md:col-span-2 flex flex-wrap gap-3",children:[i.jsx(K,{type:"submit",disabled:l||n,children:l?"Speichert ...":"Speichern"}),i.jsx(K,{type:"button",variant:"secondary",onClick:v,disabled:a||n,children:a?"Testet ...":"Verbindung testen"})]})]}),u&&i.jsx(Q,{type:u.type==="success"?"success":"error",children:u.message}),p&&i.jsx(Q,{type:p.type==="success"?"success":p.type==="info"?"info":"error",children:p.message})]})}function Ug(){var x;const{user:e}=yt(),t=(e==null?void 0:e.role_name)==="admin"||((e==null?void 0:e.permissions)||[]).includes("stats.view"),[n,r]=y.useState(null),[l,s]=y.useState(!0),[a,o]=y.useState(null),[u,c]=y.useState(""),[p,d]=y.useState("all"),[h,v]=y.useState(0);y.useEffect(()=>{t&&(s(!0),o(null),Fh({year:u?Number(u):void 0,categories:p!=="all"?[p]:void 0}).then(w=>r(w)).catch(w=>{const g=w.status===403?"Keine Berechtigung fr Statistiken.":w.message||"Stats konnten nicht geladen werden.";o(g)}).finally(()=>s(!1)))},[t,u,p,h]);const j=y.useMemo(()=>{var g;return(g=n==null?void 0:n.byYear)!=null&&g.length?Array.from(new Set(n.byYear.map(m=>m.year))).sort((m,f)=>f-m):[]},[n]);return t?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Statistiken"}),i.jsx("p",{className:"text-slate-600 text-sm",children:"Umstze und Status gefiltert nach Jahr/Kategorie."})]}),i.jsx(K,{variant:"secondary",onClick:()=>v(w=>w+1),children:"Aktualisieren"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(tn,{value:u,onChange:w=>c(w.target.value),className:"w-40",children:[i.jsx("option",{value:"",children:"Alle Jahre"}),j.map(w=>i.jsx("option",{value:w,children:w},w))]}),i.jsxs(tn,{value:p,onChange:w=>d(w.target.value),className:"w-48",children:[i.jsx("option",{value:"all",children:"Alle Kategorien"}),(x=n==null?void 0:n.categories)==null?void 0:x.map(w=>i.jsx("option",{value:w.key,children:w.label||w.key},w.key))]})]}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Xe,{})," Lade Statistiken ..."]}),a&&i.jsx(Q,{type:"error",children:a}),!l&&n&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[i.jsx(sn,{title:"Summe (Gesamt)",value:an(n.overall.sum_total)}),i.jsx(sn,{title:"Bezahlt",value:an(n.overall.paid_sum)}),i.jsx(sn,{title:"Offen",value:an(n.overall.outstanding_sum)}),i.jsx(sn,{title:"Rechnungen gesamt",value:n.overall.count}),i.jsx(sn,{title:"Bezahlt (Anzahl)",value:n.overall.paid_count}),i.jsx(sn,{title:"Offen (Anzahl)",value:n.overall.unpaid_count})]}),i.jsx("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[i.jsx("th",{className:"px-3 py-2",children:"Jahr"}),i.jsx("th",{className:"px-3 py-2",children:"Summe"}),i.jsx("th",{className:"px-3 py-2",children:"Bezahlt"}),i.jsx("th",{className:"px-3 py-2",children:"Offen"}),i.jsx("th",{className:"px-3 py-2",children:"Anzahl"})]})}),i.jsxs("tbody",{children:[n.byYear.map(w=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"px-3 py-2 font-medium",children:w.year}),i.jsx("td",{className:"px-3 py-2",children:an(w.sum_total)}),i.jsx("td",{className:"px-3 py-2 text-green-700",children:an(w.paid_sum)}),i.jsx("td",{className:"px-3 py-2 text-amber-700",children:an(w.outstanding_sum)}),i.jsx("td",{className:"px-3 py-2",children:w.count})]},w.year)),!n.byYear.length&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-3 py-3 text-center text-slate-500",children:"Keine Daten vorhanden."})})]})]})})]})]}):i.jsx(Q,{type:"error",children:"Keine Berechtigung fr Statistiken."})}function sn({title:e,value:t}){return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm",children:[i.jsx("div",{className:"text-sm text-slate-500",children:e}),i.jsx("div",{className:"text-xl font-semibold text-slate-900 mt-1",children:t})]})}const an=e=>e==null?"":`${Number(e).toFixed(2)} `;function V({label:e,children:t,className:n=""}){return i.jsxs("label",{className:`flex flex-col gap-1 text-sm text-slate-700 ${n}`,children:[i.jsx("span",{className:"font-medium",children:e}),t]})}Ps.createRoot(document.getElementById("root")).render(i.jsx(zi.StrictMode,{children:i.jsx(hg,{})}));
