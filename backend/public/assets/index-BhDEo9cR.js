function Bd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const i=Object.getOwnPropertyDescriptor(r,l);i&&Object.defineProperty(e,l,i.get?i:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qo={exports:{}},Bl={},eu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=Symbol.for("react.element"),Ud=Symbol.for("react.portal"),$d=Symbol.for("react.fragment"),Kd=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),Hd=Symbol.for("react.context"),Qd=Symbol.for("react.forward_ref"),Jd=Symbol.for("react.suspense"),Gd=Symbol.for("react.memo"),Yd=Symbol.for("react.lazy"),Da=Symbol.iterator;function Xd(e){return e===null||typeof e!="object"?null:(e=Da&&e[Da]||e["@@iterator"],typeof e=="function"?e:null)}var tu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nu=Object.assign,ru={};function Bn(e,t,n){this.props=e,this.context=t,this.refs=ru,this.updater=n||tu}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lu(){}lu.prototype=Bn.prototype;function Di(e,t,n){this.props=e,this.context=t,this.refs=ru,this.updater=n||tu}var Ii=Di.prototype=new lu;Ii.constructor=Di;nu(Ii,Bn.prototype);Ii.isPureReactComponent=!0;var Ia=Array.isArray,su=Object.prototype.hasOwnProperty,Oi={current:null},iu={key:!0,ref:!0,__self:!0,__source:!0};function au(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)su.call(t,r)&&!iu.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Tr,type:e,key:i,ref:a,props:l,_owner:Oi.current}}function Zd(e,t){return{$$typeof:Tr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tr}function qd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oa=/\/+/g;function as(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qd(""+e.key):t.toString(36)}function tl(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tr:case Ud:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+as(a,0):r,Ia(l)?(n="",e!=null&&(n=e.replace(Oa,"$&/")+"/"),tl(l,t,n,"",function(c){return c})):l!=null&&(Mi(l)&&(l=Zd(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Oa,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Ia(e))for(var o=0;o<e.length;o++){i=e[o];var u=r+as(i,o);a+=tl(i,t,n,u,l)}else if(u=Xd(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=r+as(i,o++),a+=tl(i,t,n,u,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Mr(e,t,n){if(e==null)return e;var r=[],l=0;return tl(e,r,"","",function(i){return t.call(n,i,l++)}),r}function ef(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},nl={transition:null},tf={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:nl,ReactCurrentOwner:Oi};function ou(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Mr,forEach:function(e,t,n){Mr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mr(e,function(){t++}),t},toArray:function(e){return Mr(e,function(t){return t})||[]},only:function(e){if(!Mi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Bn;V.Fragment=$d;V.Profiler=Vd;V.PureComponent=Di;V.StrictMode=Kd;V.Suspense=Jd;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tf;V.act=ou;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nu({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Oi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)su.call(t,u)&&!iu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Tr,type:e.type,key:l,ref:i,props:r,_owner:a}};V.createContext=function(e){return e={$$typeof:Hd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wd,_context:e},e.Consumer=e};V.createElement=au;V.createFactory=function(e){var t=au.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Qd,render:e}};V.isValidElement=Mi;V.lazy=function(e){return{$$typeof:Yd,_payload:{_status:-1,_result:e},_init:ef}};V.memo=function(e,t){return{$$typeof:Gd,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=nl.transition;nl.transition={};try{e()}finally{nl.transition=t}};V.unstable_act=ou;V.useCallback=function(e,t){return Ee.current.useCallback(e,t)};V.useContext=function(e){return Ee.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};V.useEffect=function(e,t){return Ee.current.useEffect(e,t)};V.useId=function(){return Ee.current.useId()};V.useImperativeHandle=function(e,t,n){return Ee.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Ee.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Ee.current.useReducer(e,t,n)};V.useRef=function(e){return Ee.current.useRef(e)};V.useState=function(e){return Ee.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Ee.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Ee.current.useTransition()};V.version="18.3.1";eu.exports=V;var g=eu.exports;const Fi=Ad(g),nf=Bd({__proto__:null,default:Fi},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=g,lf=Symbol.for("react.element"),sf=Symbol.for("react.fragment"),af=Object.prototype.hasOwnProperty,of=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uf={key:!0,ref:!0,__self:!0,__source:!0};function uu(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)af.call(t,r)&&!uf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:lf,type:e,key:i,ref:a,props:l,_owner:of.current}}Bl.Fragment=sf;Bl.jsx=uu;Bl.jsxs=uu;qo.exports=Bl;var s=qo.exports,Is={},cu={exports:{}},Fe={},du={exports:{}},fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,z){var I=C.length;C.push(z);e:for(;0<I;){var $=I-1>>>1,ae=C[$];if(0<l(ae,z))C[$]=z,C[I]=ae,I=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var z=C[0],I=C.pop();if(I!==z){C[0]=I;e:for(var $=0,ae=C.length,un=ae>>>1;$<un;){var ct=2*($+1)-1,Vn=C[ct],dt=ct+1,cn=C[dt];if(0>l(Vn,I))dt<ae&&0>l(cn,Vn)?(C[$]=cn,C[dt]=I,$=dt):(C[$]=Vn,C[ct]=I,$=ct);else if(dt<ae&&0>l(cn,I))C[$]=cn,C[dt]=I,$=dt;else break e}}return z}function l(C,z){var I=C.sortIndex-z.sortIndex;return I!==0?I:C.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],f=1,p=null,h=3,j=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(C){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=C)r(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(c)}}function S(C){if(x=!1,d(C),!y)if(n(u)!==null)y=!0,R(k);else{var z=n(c);z!==null&&F(S,z.startTime-C)}}function k(C,z){y=!1,x&&(x=!1,v(N),N=-1),j=!0;var I=h;try{for(d(z),p=n(u);p!==null&&(!(p.expirationTime>z)||C&&!G());){var $=p.callback;if(typeof $=="function"){p.callback=null,h=p.priorityLevel;var ae=$(p.expirationTime<=z);z=e.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(u)&&r(u),d(z)}else r(u);p=n(u)}if(p!==null)var un=!0;else{var ct=n(c);ct!==null&&F(S,ct.startTime-z),un=!1}return un}finally{p=null,h=I,j=!1}}var _=!1,E=null,N=-1,b=5,T=-1;function G(){return!(e.unstable_now()-T<b)}function ne(){if(E!==null){var C=e.unstable_now();T=C;var z=!0;try{z=E(!0,C)}finally{z?O():(_=!1,E=null)}}else _=!1}var O;if(typeof m=="function")O=function(){m(ne)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=ne,O=function(){Q.postMessage(null)}}else O=function(){w(ne,0)};function R(C){E=C,_||(_=!0,O())}function F(C,z){N=w(function(){C(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||j||(y=!0,R(k))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var I=h;h=z;try{return C()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,z){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var I=h;h=C;try{return z()}finally{h=I}},e.unstable_scheduleCallback=function(C,z,I){var $=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,C){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=I+ae,C={id:f++,callback:z,priorityLevel:C,startTime:I,expirationTime:ae,sortIndex:-1},I>$?(C.sortIndex=I,t(c,C),n(u)===null&&C===n(c)&&(x?(v(N),N=-1):x=!0,F(S,I-$))):(C.sortIndex=ae,t(u,C),y||j||(y=!0,R(k))),C},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(C){var z=h;return function(){var I=h;h=z;try{return C.apply(this,arguments)}finally{h=I}}}})(fu);du.exports=fu;var cf=du.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=g,Me=cf;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pu=new Set,fr={};function an(e,t){Tn(e,t),Tn(e+"Capture",t)}function Tn(e,t){for(fr[e]=t,e=0;e<t.length;e++)pu.add(t[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=Object.prototype.hasOwnProperty,ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ma={},Fa={};function pf(e){return Os.call(Fa,e)?!0:Os.call(Ma,e)?!1:ff.test(e)?Fa[e]=!0:(Ma[e]=!0,!1)}function mf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hf(e,t,n,r){if(t===null||typeof t>"u"||mf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bi=/[\-:]([a-z])/g;function Ai(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bi,Ai);ve[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bi,Ai);ve[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bi,Ai);ve[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ui(e,t,n,r){var l=ve.hasOwnProperty(t)?ve[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hf(t,n,l,r)&&(n=null),r||l===null?pf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var St=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fr=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),$i=Symbol.for("react.strict_mode"),Ms=Symbol.for("react.profiler"),mu=Symbol.for("react.provider"),hu=Symbol.for("react.context"),Ki=Symbol.for("react.forward_ref"),Fs=Symbol.for("react.suspense"),Bs=Symbol.for("react.suspense_list"),Vi=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),gu=Symbol.for("react.offscreen"),Ba=Symbol.iterator;function Wn(e){return e===null||typeof e!="object"?null:(e=Ba&&e[Ba]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,os;function qn(e){if(os===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);os=t&&t[1]||""}return`
`+os+e}var us=!1;function cs(e,t){if(!e||us)return"";us=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,o=i.length-1;1<=a&&0<=o&&l[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==i[o]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{us=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qn(e):""}function gf(e){switch(e.tag){case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return e=cs(e.type,!1),e;case 11:return e=cs(e.type.render,!1),e;case 1:return e=cs(e.type,!0),e;default:return""}}function As(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pn:return"Fragment";case fn:return"Portal";case Ms:return"Profiler";case $i:return"StrictMode";case Fs:return"Suspense";case Bs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hu:return(e.displayName||"Context")+".Consumer";case mu:return(e._context.displayName||"Context")+".Provider";case Ki:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vi:return t=e.displayName||null,t!==null?t:As(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return As(e(t))}catch{}}return null}function vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return As(t);case 8:return t===$i?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $t(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yf(e){var t=vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Br(e){e._valueTracker||(e._valueTracker=yf(e))}function yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Us(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Aa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$t(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xu(e,t){t=t.checked,t!=null&&Ui(e,"checked",t,!1)}function $s(e,t){xu(e,t);var n=$t(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ks(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ks(e,t.type,$t(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ua(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ks(e,t,n){(t!=="number"||pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var er=Array.isArray;function kn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$t(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Vs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $a(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(er(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$t(n)}}function ju(e,t){var n=$t(t.value),r=$t(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ka(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ws(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ar,Su=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ar.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xf=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(e){xf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rr[t]=rr[e]})});function Nu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rr.hasOwnProperty(e)&&rr[e]?(""+t).trim():t+"px"}function ku(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Nu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var jf=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(e,t){if(t){if(jf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Qs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Js=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gs=null,_n=null,En=null;function Va(e){if(e=Dr(e)){if(typeof Gs!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Vl(t),Gs(e.stateNode,e.type,t))}}function _u(e){_n?En?En.push(e):En=[e]:_n=e}function Eu(){if(_n){var e=_n,t=En;if(En=_n=null,Va(e),t)for(e=0;e<t.length;e++)Va(t[e])}}function Cu(e,t){return e(t)}function bu(){}var ds=!1;function Pu(e,t,n){if(ds)return e(t,n);ds=!0;try{return Cu(e,t,n)}finally{ds=!1,(_n!==null||En!==null)&&(bu(),Eu())}}function mr(e,t){var n=e.stateNode;if(n===null)return null;var r=Vl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Ys=!1;if(vt)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Ys=!1}function wf(e,t,n,r,l,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var lr=!1,ml=null,hl=!1,Xs=null,Sf={onError:function(e){lr=!0,ml=e}};function Nf(e,t,n,r,l,i,a,o,u){lr=!1,ml=null,wf.apply(Sf,arguments)}function kf(e,t,n,r,l,i,a,o,u){if(Nf.apply(this,arguments),lr){if(lr){var c=ml;lr=!1,ml=null}else throw Error(L(198));hl||(hl=!0,Xs=c)}}function on(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wa(e){if(on(e)!==e)throw Error(L(188))}function _f(e){var t=e.alternate;if(!t){if(t=on(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Wa(l),e;if(i===r)return Wa(l),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Tu(e){return e=_f(e),e!==null?Ru(e):null}function Ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ru(e);if(t!==null)return t;e=e.sibling}return null}var zu=Me.unstable_scheduleCallback,Ha=Me.unstable_cancelCallback,Ef=Me.unstable_shouldYield,Cf=Me.unstable_requestPaint,ue=Me.unstable_now,bf=Me.unstable_getCurrentPriorityLevel,Hi=Me.unstable_ImmediatePriority,Du=Me.unstable_UserBlockingPriority,gl=Me.unstable_NormalPriority,Pf=Me.unstable_LowPriority,Iu=Me.unstable_IdlePriority,Al=null,lt=null;function Lf(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:zf,Tf=Math.log,Rf=Math.LN2;function zf(e){return e>>>=0,e===0?32:31-(Tf(e)/Rf|0)|0}var Ur=64,$r=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=tr(o):(i&=a,i!==0&&(r=tr(i)))}else a=n&~l,a!==0?r=tr(a):i!==0&&(r=tr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ye(t),l=1<<n,r|=e[n],t&=~l;return r}function Df(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function If(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ye(i),o=1<<a,u=l[a];u===-1?(!(o&n)||o&r)&&(l[a]=Df(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Zs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ou(){var e=Ur;return Ur<<=1,!(Ur&4194240)&&(Ur=64),e}function fs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=n}function Of(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ye(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Qi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ye(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Y=0;function Mu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fu,Ji,Bu,Au,Uu,qs=!1,Kr=[],zt=null,Dt=null,It=null,hr=new Map,gr=new Map,bt=[],Mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(t.pointerId)}}function Qn(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Dr(t),t!==null&&Ji(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ff(e,t,n,r,l){switch(t){case"focusin":return zt=Qn(zt,e,t,n,r,l),!0;case"dragenter":return Dt=Qn(Dt,e,t,n,r,l),!0;case"mouseover":return It=Qn(It,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return hr.set(i,Qn(hr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,gr.set(i,Qn(gr.get(i)||null,e,t,n,r,l)),!0}return!1}function $u(e){var t=Gt(e.target);if(t!==null){var n=on(t);if(n!==null){if(t=n.tag,t===13){if(t=Lu(n),t!==null){e.blockedOn=t,Uu(e.priority,function(){Bu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ei(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Js=r,n.target.dispatchEvent(r),Js=null}else return t=Dr(n),t!==null&&Ji(t),e.blockedOn=n,!1;t.shift()}return!0}function Ja(e,t,n){rl(e)&&n.delete(t)}function Bf(){qs=!1,zt!==null&&rl(zt)&&(zt=null),Dt!==null&&rl(Dt)&&(Dt=null),It!==null&&rl(It)&&(It=null),hr.forEach(Ja),gr.forEach(Ja)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,qs||(qs=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Bf)))}function vr(e){function t(l){return Jn(l,e)}if(0<Kr.length){Jn(Kr[0],e);for(var n=1;n<Kr.length;n++){var r=Kr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zt!==null&&Jn(zt,e),Dt!==null&&Jn(Dt,e),It!==null&&Jn(It,e),hr.forEach(t),gr.forEach(t),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)$u(n),n.blockedOn===null&&bt.shift()}var Cn=St.ReactCurrentBatchConfig,yl=!0;function Af(e,t,n,r){var l=Y,i=Cn.transition;Cn.transition=null;try{Y=1,Gi(e,t,n,r)}finally{Y=l,Cn.transition=i}}function Uf(e,t,n,r){var l=Y,i=Cn.transition;Cn.transition=null;try{Y=4,Gi(e,t,n,r)}finally{Y=l,Cn.transition=i}}function Gi(e,t,n,r){if(yl){var l=ei(e,t,n,r);if(l===null)Ss(e,t,r,xl,n),Qa(e,r);else if(Ff(l,e,t,n,r))r.stopPropagation();else if(Qa(e,r),t&4&&-1<Mf.indexOf(e)){for(;l!==null;){var i=Dr(l);if(i!==null&&Fu(i),i=ei(e,t,n,r),i===null&&Ss(e,t,r,xl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Ss(e,t,r,null,n)}}var xl=null;function ei(e,t,n,r){if(xl=null,e=Wi(r),e=Gt(e),e!==null)if(t=on(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xl=e,null}function Ku(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bf()){case Hi:return 1;case Du:return 4;case gl:case Pf:return 16;case Iu:return 536870912;default:return 16}default:return 16}}var Lt=null,Yi=null,ll=null;function Vu(){if(ll)return ll;var e,t=Yi,n=t.length,r,l="value"in Lt?Lt.value:Lt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return ll=l.slice(e,1<r?1-r:void 0)}function sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function Ga(){return!1}function Be(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vr:Ga,this.isPropagationStopped=Ga,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=Be(An),zr=ie({},An,{view:0,detail:0}),$f=Be(zr),ps,ms,Gn,Ul=ie({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(ps=e.screenX-Gn.screenX,ms=e.screenY-Gn.screenY):ms=ps=0,Gn=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),Ya=Be(Ul),Kf=ie({},Ul,{dataTransfer:0}),Vf=Be(Kf),Wf=ie({},zr,{relatedTarget:0}),hs=Be(Wf),Hf=ie({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=Be(Hf),Jf=ie({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gf=Be(Jf),Yf=ie({},An,{data:0}),Xa=Be(Yf),Xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qf[e])?!!t[e]:!1}function Zi(){return ep}var tp=ie({},zr,{key:function(e){if(e.key){var t=Xf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),np=Be(tp),rp=ie({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=Be(rp),lp=ie({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),sp=Be(lp),ip=ie({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=Be(ip),op=ie({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),up=Be(op),cp=[9,13,27,32],qi=vt&&"CompositionEvent"in window,sr=null;vt&&"documentMode"in document&&(sr=document.documentMode);var dp=vt&&"TextEvent"in window&&!sr,Wu=vt&&(!qi||sr&&8<sr&&11>=sr),qa=" ",eo=!1;function Hu(e,t){switch(e){case"keyup":return cp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function fp(e,t){switch(e){case"compositionend":return Qu(t);case"keypress":return t.which!==32?null:(eo=!0,qa);case"textInput":return e=t.data,e===qa&&eo?null:e;default:return null}}function pp(e,t){if(mn)return e==="compositionend"||!qi&&Hu(e,t)?(e=Vu(),ll=Yi=Lt=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wu&&t.locale!=="ko"?null:t.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mp[e.type]:t==="textarea"}function Ju(e,t,n,r){_u(r),t=jl(t,"onChange"),0<t.length&&(n=new Xi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ir=null,yr=null;function hp(e){sc(e,0)}function $l(e){var t=vn(e);if(yu(t))return e}function gp(e,t){if(e==="change")return t}var Gu=!1;if(vt){var gs;if(vt){var vs="oninput"in document;if(!vs){var no=document.createElement("div");no.setAttribute("oninput","return;"),vs=typeof no.oninput=="function"}gs=vs}else gs=!1;Gu=gs&&(!document.documentMode||9<document.documentMode)}function ro(){ir&&(ir.detachEvent("onpropertychange",Yu),yr=ir=null)}function Yu(e){if(e.propertyName==="value"&&$l(yr)){var t=[];Ju(t,yr,e,Wi(e)),Pu(hp,t)}}function vp(e,t,n){e==="focusin"?(ro(),ir=t,yr=n,ir.attachEvent("onpropertychange",Yu)):e==="focusout"&&ro()}function yp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(yr)}function xp(e,t){if(e==="click")return $l(t)}function jp(e,t){if(e==="input"||e==="change")return $l(t)}function wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ze=typeof Object.is=="function"?Object.is:wp;function xr(e,t){if(Ze(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Os.call(t,l)||!Ze(e[l],t[l]))return!1}return!0}function lo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function so(e,t){var n=lo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lo(n)}}function Xu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zu(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sp(e){var t=Zu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xu(n.ownerDocument.documentElement,n)){if(r!==null&&ea(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=so(n,i);var a=so(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=vt&&"documentMode"in document&&11>=document.documentMode,hn=null,ti=null,ar=null,ni=!1;function io(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ni||hn==null||hn!==pl(r)||(r=hn,"selectionStart"in r&&ea(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ar&&xr(ar,r)||(ar=r,r=jl(ti,"onSelect"),0<r.length&&(t=new Xi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hn)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gn={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},ys={},qu={};vt&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function Kl(e){if(ys[e])return ys[e];if(!gn[e])return e;var t=gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qu)return ys[e]=t[n];return e}var ec=Kl("animationend"),tc=Kl("animationiteration"),nc=Kl("animationstart"),rc=Kl("transitionend"),lc=new Map,ao="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){lc.set(e,t),an(t,[e])}for(var xs=0;xs<ao.length;xs++){var js=ao[xs],kp=js.toLowerCase(),_p=js[0].toUpperCase()+js.slice(1);Vt(kp,"on"+_p)}Vt(ec,"onAnimationEnd");Vt(tc,"onAnimationIteration");Vt(nc,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(rc,"onTransitionEnd");Tn("onMouseEnter",["mouseout","mouseover"]);Tn("onMouseLeave",["mouseout","mouseover"]);Tn("onPointerEnter",["pointerout","pointerover"]);Tn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function oo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kf(r,t,void 0,e),e.currentTarget=null}function sc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&l.isPropagationStopped())break e;oo(l,o,c),i=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&l.isPropagationStopped())break e;oo(l,o,c),i=u}}}if(hl)throw e=Xs,hl=!1,Xs=null,e}function q(e,t){var n=t[ai];n===void 0&&(n=t[ai]=new Set);var r=e+"__bubble";n.has(r)||(ic(t,e,2,!1),n.add(r))}function ws(e,t,n){var r=0;t&&(r|=4),ic(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Hr]){e[Hr]=!0,pu.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||ws(n,!1,e),ws(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hr]||(t[Hr]=!0,ws("selectionchange",!1,t))}}function ic(e,t,n,r){switch(Ku(t)){case 1:var l=Af;break;case 4:l=Uf;break;default:l=Gi}n=l.bind(null,t,n,e),l=void 0,!Ys||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ss(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;o!==null;){if(a=Gt(o),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Pu(function(){var c=i,f=Wi(n),p=[];e:{var h=lc.get(e);if(h!==void 0){var j=Xi,y=e;switch(e){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":j=np;break;case"focusin":y="focus",j=hs;break;case"focusout":y="blur",j=hs;break;case"beforeblur":case"afterblur":j=hs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=sp;break;case ec:case tc:case nc:j=Qf;break;case rc:j=ap;break;case"scroll":j=$f;break;case"wheel":j=up;break;case"copy":case"cut":case"paste":j=Gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Za}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var m=c,d;m!==null;){d=m;var S=d.stateNode;if(d.tag===5&&S!==null&&(d=S,v!==null&&(S=mr(m,v),S!=null&&x.push(wr(m,S,d)))),w)break;m=m.return}0<x.length&&(h=new j(h,y,null,n,f),p.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",h&&n!==Js&&(y=n.relatedTarget||n.fromElement)&&(Gt(y)||y[yt]))break e;if((j||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,j?(y=n.relatedTarget||n.toElement,j=c,y=y?Gt(y):null,y!==null&&(w=on(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(j=null,y=c),j!==y)){if(x=Ya,S="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Za,S="onPointerLeave",v="onPointerEnter",m="pointer"),w=j==null?h:vn(j),d=y==null?h:vn(y),h=new x(S,m+"leave",j,n,f),h.target=w,h.relatedTarget=d,S=null,Gt(f)===c&&(x=new x(v,m+"enter",y,n,f),x.target=d,x.relatedTarget=w,S=x),w=S,j&&y)t:{for(x=j,v=y,m=0,d=x;d;d=dn(d))m++;for(d=0,S=v;S;S=dn(S))d++;for(;0<m-d;)x=dn(x),m--;for(;0<d-m;)v=dn(v),d--;for(;m--;){if(x===v||v!==null&&x===v.alternate)break t;x=dn(x),v=dn(v)}x=null}else x=null;j!==null&&uo(p,h,j,x,!1),y!==null&&w!==null&&uo(p,w,y,x,!0)}}e:{if(h=c?vn(c):window,j=h.nodeName&&h.nodeName.toLowerCase(),j==="select"||j==="input"&&h.type==="file")var k=gp;else if(to(h))if(Gu)k=jp;else{k=yp;var _=vp}else(j=h.nodeName)&&j.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=xp);if(k&&(k=k(e,c))){Ju(p,k,n,f);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Ks(h,"number",h.value)}switch(_=c?vn(c):window,e){case"focusin":(to(_)||_.contentEditable==="true")&&(hn=_,ti=c,ar=null);break;case"focusout":ar=ti=hn=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":ni=!1,io(p,n,f);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":io(p,n,f)}var E;if(qi)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else mn?Hu(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Wu&&n.locale!=="ko"&&(mn||N!=="onCompositionStart"?N==="onCompositionEnd"&&mn&&(E=Vu()):(Lt=f,Yi="value"in Lt?Lt.value:Lt.textContent,mn=!0)),_=jl(c,N),0<_.length&&(N=new Xa(N,e,null,n,f),p.push({event:N,listeners:_}),E?N.data=E:(E=Qu(n),E!==null&&(N.data=E)))),(E=dp?fp(e,n):pp(e,n))&&(c=jl(c,"onBeforeInput"),0<c.length&&(f=new Xa("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=E))}sc(p,t)})}function wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=mr(e,n),i!=null&&r.unshift(wr(e,i,l)),i=mr(e,t),i!=null&&r.push(wr(e,i,l))),e=e.return}return r}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uo(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,l?(u=mr(n,i),u!=null&&a.unshift(wr(n,u,o))):l||(u=mr(n,i),u!=null&&a.push(wr(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Cp=/\r\n?/g,bp=/\u0000|\uFFFD/g;function co(e){return(typeof e=="string"?e:""+e).replace(Cp,`
`).replace(bp,"")}function Qr(e,t,n){if(t=co(t),co(e)!==t&&n)throw Error(L(425))}function wl(){}var ri=null,li=null;function si(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ii=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,fo=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof fo<"u"?function(e){return fo.resolve(null).then(e).catch(Tp)}:ii;function Tp(e){setTimeout(function(){throw e})}function Ns(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),vr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);vr(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function po(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),rt="__reactFiber$"+Un,Sr="__reactProps$"+Un,yt="__reactContainer$"+Un,ai="__reactEvents$"+Un,Rp="__reactListeners$"+Un,zp="__reactHandles$"+Un;function Gt(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=po(e);e!==null;){if(n=e[rt])return n;e=po(e)}return t}e=n,n=e.parentNode}return null}function Dr(e){return e=e[rt]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Vl(e){return e[Sr]||null}var oi=[],yn=-1;function Wt(e){return{current:e}}function ee(e){0>yn||(e.current=oi[yn],oi[yn]=null,yn--)}function Z(e,t){yn++,oi[yn]=e.current,e.current=t}var Kt={},Se=Wt(Kt),Le=Wt(!1),en=Kt;function Rn(e,t){var n=e.type.contextTypes;if(!n)return Kt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Te(e){return e=e.childContextTypes,e!=null}function Sl(){ee(Le),ee(Se)}function mo(e,t,n){if(Se.current!==Kt)throw Error(L(168));Z(Se,t),Z(Le,n)}function ac(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(L(108,vf(e)||"Unknown",l));return ie({},n,r)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,en=Se.current,Z(Se,e),Z(Le,Le.current),!0}function ho(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=ac(e,t,en),r.__reactInternalMemoizedMergedChildContext=e,ee(Le),ee(Se),Z(Se,e)):ee(Le),Z(Le,n)}var pt=null,Wl=!1,ks=!1;function oc(e){pt===null?pt=[e]:pt.push(e)}function Dp(e){Wl=!0,oc(e)}function Ht(){if(!ks&&pt!==null){ks=!0;var e=0,t=Y;try{var n=pt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pt=null,Wl=!1}catch(l){throw pt!==null&&(pt=pt.slice(e+1)),zu(Hi,Ht),l}finally{Y=t,ks=!1}}return null}var xn=[],jn=0,kl=null,_l=0,Ae=[],Ue=0,tn=null,mt=1,ht="";function Qt(e,t){xn[jn++]=_l,xn[jn++]=kl,kl=e,_l=t}function uc(e,t,n){Ae[Ue++]=mt,Ae[Ue++]=ht,Ae[Ue++]=tn,tn=e;var r=mt;e=ht;var l=32-Ye(r)-1;r&=~(1<<l),n+=1;var i=32-Ye(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,mt=1<<32-Ye(t)+l|n<<l|r,ht=i+e}else mt=1<<i|n<<l|r,ht=e}function ta(e){e.return!==null&&(Qt(e,1),uc(e,1,0))}function na(e){for(;e===kl;)kl=xn[--jn],xn[jn]=null,_l=xn[--jn],xn[jn]=null;for(;e===tn;)tn=Ae[--Ue],Ae[Ue]=null,ht=Ae[--Ue],Ae[Ue]=null,mt=Ae[--Ue],Ae[Ue]=null}var Oe=null,Ie=null,te=!1,Ge=null;function cc(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function go(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,Ie=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tn!==null?{id:mt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oe=e,Ie=null,!0):!1;default:return!1}}function ui(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ci(e){if(te){var t=Ie;if(t){var n=t;if(!go(e,t)){if(ui(e))throw Error(L(418));t=Ot(n.nextSibling);var r=Oe;t&&go(e,t)?cc(r,n):(e.flags=e.flags&-4097|2,te=!1,Oe=e)}}else{if(ui(e))throw Error(L(418));e.flags=e.flags&-4097|2,te=!1,Oe=e}}}function vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function Jr(e){if(e!==Oe)return!1;if(!te)return vo(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!si(e.type,e.memoizedProps)),t&&(t=Ie)){if(ui(e))throw dc(),Error(L(418));for(;t;)cc(e,t),t=Ot(t.nextSibling)}if(vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Ot(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Oe?Ot(e.stateNode.nextSibling):null;return!0}function dc(){for(var e=Ie;e;)e=Ot(e.nextSibling)}function zn(){Ie=Oe=null,te=!1}function ra(e){Ge===null?Ge=[e]:Ge.push(e)}var Ip=St.ReactCurrentBatchConfig;function Yn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=l.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Gr(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){var t=e._init;return t(e._payload)}function fc(e){function t(v,m){if(e){var d=v.deletions;d===null?(v.deletions=[m],v.flags|=16):d.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function l(v,m){return v=At(v,m),v.index=0,v.sibling=null,v}function i(v,m,d){return v.index=d,e?(d=v.alternate,d!==null?(d=d.index,d<m?(v.flags|=2,m):d):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,m,d,S){return m===null||m.tag!==6?(m=Ts(d,v.mode,S),m.return=v,m):(m=l(m,d),m.return=v,m)}function u(v,m,d,S){var k=d.type;return k===pn?f(v,m,d.props.children,S,d.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Et&&yo(k)===m.type)?(S=l(m,d.props),S.ref=Yn(v,m,d),S.return=v,S):(S=fl(d.type,d.key,d.props,null,v.mode,S),S.ref=Yn(v,m,d),S.return=v,S)}function c(v,m,d,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==d.containerInfo||m.stateNode.implementation!==d.implementation?(m=Rs(d,v.mode,S),m.return=v,m):(m=l(m,d.children||[]),m.return=v,m)}function f(v,m,d,S,k){return m===null||m.tag!==7?(m=qt(d,v.mode,S,k),m.return=v,m):(m=l(m,d),m.return=v,m)}function p(v,m,d){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ts(""+m,v.mode,d),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fr:return d=fl(m.type,m.key,m.props,null,v.mode,d),d.ref=Yn(v,null,m),d.return=v,d;case fn:return m=Rs(m,v.mode,d),m.return=v,m;case Et:var S=m._init;return p(v,S(m._payload),d)}if(er(m)||Wn(m))return m=qt(m,v.mode,d,null),m.return=v,m;Gr(v,m)}return null}function h(v,m,d,S){var k=m!==null?m.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return k!==null?null:o(v,m,""+d,S);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Fr:return d.key===k?u(v,m,d,S):null;case fn:return d.key===k?c(v,m,d,S):null;case Et:return k=d._init,h(v,m,k(d._payload),S)}if(er(d)||Wn(d))return k!==null?null:f(v,m,d,S,null);Gr(v,d)}return null}function j(v,m,d,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(d)||null,o(m,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fr:return v=v.get(S.key===null?d:S.key)||null,u(m,v,S,k);case fn:return v=v.get(S.key===null?d:S.key)||null,c(m,v,S,k);case Et:var _=S._init;return j(v,m,d,_(S._payload),k)}if(er(S)||Wn(S))return v=v.get(d)||null,f(m,v,S,k,null);Gr(m,S)}return null}function y(v,m,d,S){for(var k=null,_=null,E=m,N=m=0,b=null;E!==null&&N<d.length;N++){E.index>N?(b=E,E=null):b=E.sibling;var T=h(v,E,d[N],S);if(T===null){E===null&&(E=b);break}e&&E&&T.alternate===null&&t(v,E),m=i(T,m,N),_===null?k=T:_.sibling=T,_=T,E=b}if(N===d.length)return n(v,E),te&&Qt(v,N),k;if(E===null){for(;N<d.length;N++)E=p(v,d[N],S),E!==null&&(m=i(E,m,N),_===null?k=E:_.sibling=E,_=E);return te&&Qt(v,N),k}for(E=r(v,E);N<d.length;N++)b=j(E,v,N,d[N],S),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?N:b.key),m=i(b,m,N),_===null?k=b:_.sibling=b,_=b);return e&&E.forEach(function(G){return t(v,G)}),te&&Qt(v,N),k}function x(v,m,d,S){var k=Wn(d);if(typeof k!="function")throw Error(L(150));if(d=k.call(d),d==null)throw Error(L(151));for(var _=k=null,E=m,N=m=0,b=null,T=d.next();E!==null&&!T.done;N++,T=d.next()){E.index>N?(b=E,E=null):b=E.sibling;var G=h(v,E,T.value,S);if(G===null){E===null&&(E=b);break}e&&E&&G.alternate===null&&t(v,E),m=i(G,m,N),_===null?k=G:_.sibling=G,_=G,E=b}if(T.done)return n(v,E),te&&Qt(v,N),k;if(E===null){for(;!T.done;N++,T=d.next())T=p(v,T.value,S),T!==null&&(m=i(T,m,N),_===null?k=T:_.sibling=T,_=T);return te&&Qt(v,N),k}for(E=r(v,E);!T.done;N++,T=d.next())T=j(E,v,N,T.value,S),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?N:T.key),m=i(T,m,N),_===null?k=T:_.sibling=T,_=T);return e&&E.forEach(function(ne){return t(v,ne)}),te&&Qt(v,N),k}function w(v,m,d,S){if(typeof d=="object"&&d!==null&&d.type===pn&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Fr:e:{for(var k=d.key,_=m;_!==null;){if(_.key===k){if(k=d.type,k===pn){if(_.tag===7){n(v,_.sibling),m=l(_,d.props.children),m.return=v,v=m;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Et&&yo(k)===_.type){n(v,_.sibling),m=l(_,d.props),m.ref=Yn(v,_,d),m.return=v,v=m;break e}n(v,_);break}else t(v,_);_=_.sibling}d.type===pn?(m=qt(d.props.children,v.mode,S,d.key),m.return=v,v=m):(S=fl(d.type,d.key,d.props,null,v.mode,S),S.ref=Yn(v,m,d),S.return=v,v=S)}return a(v);case fn:e:{for(_=d.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===d.containerInfo&&m.stateNode.implementation===d.implementation){n(v,m.sibling),m=l(m,d.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Rs(d,v.mode,S),m.return=v,v=m}return a(v);case Et:return _=d._init,w(v,m,_(d._payload),S)}if(er(d))return y(v,m,d,S);if(Wn(d))return x(v,m,d,S);Gr(v,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,m!==null&&m.tag===6?(n(v,m.sibling),m=l(m,d),m.return=v,v=m):(n(v,m),m=Ts(d,v.mode,S),m.return=v,v=m),a(v)):n(v,m)}return w}var Dn=fc(!0),pc=fc(!1),El=Wt(null),Cl=null,wn=null,la=null;function sa(){la=wn=Cl=null}function ia(e){var t=El.current;ee(El),e._currentValue=t}function di(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bn(e,t){Cl=e,la=wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(la!==e)if(e={context:e,memoizedValue:t,next:null},wn===null){if(Cl===null)throw Error(L(308));wn=e,Cl.dependencies={lanes:0,firstContext:e}}else wn=wn.next=e;return t}var Yt=null;function aa(e){Yt===null?Yt=[e]:Yt.push(e)}function mc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,aa(t)):(n.next=l.next,l.next=n),t.interleaved=n,xt(e,r)}function xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ct=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,xt(e,n)}return l=r.interleaved,l===null?(t.next=t,aa(r)):(t.next=l.next,l.next=t),r.interleaved=t,xt(e,n)}function il(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qi(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bl(e,t,n,r){var l=e.updateQueue;Ct=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(i!==null){var p=l.baseState;a=0,f=c=u=null,o=i;do{var h=o.lane,j=o.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,x=o;switch(h=t,j=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){p=y.call(j,p,h);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(j,p,h):y,h==null)break e;p=ie({},p,h);break e;case 2:Ct=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[o]:h.push(o))}else j={eventTime:j,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=j,u=p):f=f.next=j,a|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;h=o,o=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(f===null&&(u=p),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);rn|=a,e.lanes=a,e.memoizedState=p}}function jo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(L(191,l));l.call(r)}}}var Ir={},st=Wt(Ir),Nr=Wt(Ir),kr=Wt(Ir);function Xt(e){if(e===Ir)throw Error(L(174));return e}function ua(e,t){switch(Z(kr,t),Z(Nr,e),Z(st,Ir),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ws(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ws(t,e)}ee(st),Z(st,t)}function In(){ee(st),ee(Nr),ee(kr)}function gc(e){Xt(kr.current);var t=Xt(st.current),n=Ws(t,e.type);t!==n&&(Z(Nr,e),Z(st,n))}function ca(e){Nr.current===e&&(ee(st),ee(Nr))}var re=Wt(0);function Pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _s=[];function da(){for(var e=0;e<_s.length;e++)_s[e]._workInProgressVersionPrimary=null;_s.length=0}var al=St.ReactCurrentDispatcher,Es=St.ReactCurrentBatchConfig,nn=0,le=null,de=null,pe=null,Ll=!1,or=!1,_r=0,Op=0;function ye(){throw Error(L(321))}function fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ze(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,l,i){if(nn=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=e===null||e.memoizedState===null?Ap:Up,e=n(r,l),or){i=0;do{if(or=!1,_r=0,25<=i)throw Error(L(301));i+=1,pe=de=null,t.updateQueue=null,al.current=$p,e=n(r,l)}while(or)}if(al.current=Tl,t=de!==null&&de.next!==null,nn=0,pe=de=le=null,Ll=!1,t)throw Error(L(300));return e}function ma(){var e=_r!==0;return _r=0,e}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?le.memoizedState=pe=e:pe=pe.next=e,pe}function We(){if(de===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=pe===null?le.memoizedState:pe.next;if(t!==null)pe=t,de=e;else{if(e===null)throw Error(L(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?le.memoizedState=pe=e:pe=pe.next=e}return pe}function Er(e,t){return typeof t=="function"?t(e):t}function Cs(e){var t=We(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=de,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var o=a=null,u=null,c=i;do{var f=c.lane;if((nn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=p,a=r):u=u.next=p,le.lanes|=f,rn|=f}c=c.next}while(c!==null&&c!==i);u===null?a=r:u.next=o,Ze(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,le.lanes|=i,rn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bs(e){var t=We(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);Ze(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function vc(){}function yc(e,t){var n=le,r=We(),l=t(),i=!Ze(r.memoizedState,l);if(i&&(r.memoizedState=l,Pe=!0),r=r.queue,ha(wc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,Cr(9,jc.bind(null,n,r,l,t),void 0,null),me===null)throw Error(L(349));nn&30||xc(n,t,l)}return l}function xc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jc(e,t,n,r){t.value=n,t.getSnapshot=r,Sc(t)&&Nc(e)}function wc(e,t,n){return n(function(){Sc(t)&&Nc(e)})}function Sc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ze(e,n)}catch{return!0}}function Nc(e){var t=xt(e,1);t!==null&&Xe(t,e,1,-1)}function wo(e){var t=nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},t.queue=e,e=e.dispatch=Bp.bind(null,le,e),[t.memoizedState,e]}function Cr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kc(){return We().memoizedState}function ol(e,t,n,r){var l=nt();le.flags|=e,l.memoizedState=Cr(1|t,n,void 0,r===void 0?null:r)}function Hl(e,t,n,r){var l=We();r=r===void 0?null:r;var i=void 0;if(de!==null){var a=de.memoizedState;if(i=a.destroy,r!==null&&fa(r,a.deps)){l.memoizedState=Cr(t,n,i,r);return}}le.flags|=e,l.memoizedState=Cr(1|t,n,i,r)}function So(e,t){return ol(8390656,8,e,t)}function ha(e,t){return Hl(2048,8,e,t)}function _c(e,t){return Hl(4,2,e,t)}function Ec(e,t){return Hl(4,4,e,t)}function Cc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bc(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4,4,Cc.bind(null,t,e),n)}function ga(){}function Pc(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lc(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tc(e,t,n){return nn&21?(Ze(n,t)||(n=Ou(),le.lanes|=n,rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function Mp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Es.transition;Es.transition={};try{e(!1),t()}finally{Y=n,Es.transition=r}}function Rc(){return We().memoizedState}function Fp(e,t,n){var r=Bt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zc(e))Dc(t,n);else if(n=mc(e,t,n,r),n!==null){var l=_e();Xe(n,e,r,l),Ic(n,t,r)}}function Bp(e,t,n){var r=Bt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zc(e))Dc(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(l.hasEagerState=!0,l.eagerState=o,Ze(o,a)){var u=t.interleaved;u===null?(l.next=l,aa(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=mc(e,t,l,r),n!==null&&(l=_e(),Xe(n,e,r,l),Ic(n,t,r))}}function zc(e){var t=e.alternate;return e===le||t!==null&&t===le}function Dc(e,t){or=Ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ic(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qi(e,n)}}var Tl={readContext:Ve,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Ap={readContext:Ve,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:So,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ol(4194308,4,Cc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return ol(4,2,e,t)},useMemo:function(e,t){var n=nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fp.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:wo,useDebugValue:ga,useDeferredValue:function(e){return nt().memoizedState=e},useTransition:function(){var e=wo(!1),t=e[0];return e=Mp.bind(null,e[1]),nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,l=nt();if(te){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),me===null)throw Error(L(349));nn&30||xc(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,So(wc.bind(null,r,i,e),[e]),r.flags|=2048,Cr(9,jc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=nt(),t=me.identifierPrefix;if(te){var n=ht,r=mt;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_r++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Op++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Up={readContext:Ve,useCallback:Pc,useContext:Ve,useEffect:ha,useImperativeHandle:bc,useInsertionEffect:_c,useLayoutEffect:Ec,useMemo:Lc,useReducer:Cs,useRef:kc,useState:function(){return Cs(Er)},useDebugValue:ga,useDeferredValue:function(e){var t=We();return Tc(t,de.memoizedState,e)},useTransition:function(){var e=Cs(Er)[0],t=We().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:yc,useId:Rc,unstable_isNewReconciler:!1},$p={readContext:Ve,useCallback:Pc,useContext:Ve,useEffect:ha,useImperativeHandle:bc,useInsertionEffect:_c,useLayoutEffect:Ec,useMemo:Lc,useReducer:bs,useRef:kc,useState:function(){return bs(Er)},useDebugValue:ga,useDeferredValue:function(e){var t=We();return de===null?t.memoizedState=e:Tc(t,de.memoizedState,e)},useTransition:function(){var e=bs(Er)[0],t=We().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:yc,useId:Rc,unstable_isNewReconciler:!1};function Qe(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ql={isMounted:function(e){return(e=e._reactInternals)?on(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_e(),l=Bt(e),i=gt(r,l);i.payload=t,n!=null&&(i.callback=n),t=Mt(e,i,l),t!==null&&(Xe(t,e,l,r),il(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_e(),l=Bt(e),i=gt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Mt(e,i,l),t!==null&&(Xe(t,e,l,r),il(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_e(),r=Bt(e),l=gt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Mt(e,l,r),t!==null&&(Xe(t,e,r,n),il(t,e,r))}};function No(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!xr(n,r)||!xr(l,i):!0}function Oc(e,t,n){var r=!1,l=Kt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(l=Te(t)?en:Se.current,r=t.contextTypes,i=(r=r!=null)?Rn(e,l):Kt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ql,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function ko(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ql.enqueueReplaceState(t,t.state,null)}function pi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},oa(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ve(i):(i=Te(t)?en:Se.current,l.context=Rn(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fi(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ql.enqueueReplaceState(l,l.state,null),bl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function On(e,t){try{var n="",r=t;do n+=gf(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Ps(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function Mc(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,ki=r),mi(e,t)},n}function Fc(e,t,n){n=gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){mi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mi(e,t),typeof r!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function _o(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=rm.bind(null,e,t,n),t.then(e,e))}function Eo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Co(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,Mt(n,t,1))),n.lanes|=1),e)}var Vp=St.ReactCurrentOwner,Pe=!1;function ke(e,t,n,r){t.child=e===null?pc(t,null,n,r):Dn(t,e.child,n,r)}function bo(e,t,n,r,l){n=n.render;var i=t.ref;return bn(t,l),r=pa(e,t,n,r,i,l),n=ma(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,jt(e,t,l)):(te&&n&&ta(t),t.flags|=1,ke(e,t,r,l),t.child)}function Po(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!ka(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Bc(e,t,i,r,l)):(e=fl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(a,r)&&e.ref===t.ref)return jt(e,t,l)}return t.flags|=1,e=At(i,r),e.ref=t.ref,e.return=t,t.child=e}function Bc(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(xr(i,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,jt(e,t,l)}return hi(e,t,n,r,l)}function Ac(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Nn,De),De|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Nn,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Nn,De),De|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Z(Nn,De),De|=r;return ke(e,t,l,n),t.child}function Uc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hi(e,t,n,r,l){var i=Te(n)?en:Se.current;return i=Rn(t,i),bn(t,l),n=pa(e,t,n,r,i,l),r=ma(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,jt(e,t,l)):(te&&r&&ta(t),t.flags|=1,ke(e,t,n,l),t.child)}function Lo(e,t,n,r,l){if(Te(n)){var i=!0;Nl(t)}else i=!1;if(bn(t,l),t.stateNode===null)ul(e,t),Oc(t,n,r),pi(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ve(c):(c=Te(n)?en:Se.current,c=Rn(t,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==c)&&ko(t,a,r,c),Ct=!1;var h=t.memoizedState;a.state=h,bl(t,r,a,l),u=t.memoizedState,o!==r||h!==u||Le.current||Ct?(typeof f=="function"&&(fi(t,n,f,r),u=t.memoizedState),(o=Ct||No(t,n,o,r,h,u,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,hc(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Qe(t.type,o),a.props=c,p=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ve(u):(u=Te(n)?en:Se.current,u=Rn(t,u));var j=n.getDerivedStateFromProps;(f=typeof j=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||h!==u)&&ko(t,a,r,u),Ct=!1,h=t.memoizedState,a.state=h,bl(t,r,a,l);var y=t.memoizedState;o!==p||h!==y||Le.current||Ct?(typeof j=="function"&&(fi(t,n,j,r),y=t.memoizedState),(c=Ct||No(t,n,c,r,h,y,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return gi(e,t,n,r,i,l)}function gi(e,t,n,r,l,i){Uc(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&ho(t,n,!1),jt(e,t,i);r=t.stateNode,Vp.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Dn(t,e.child,null,i),t.child=Dn(t,null,o,i)):ke(e,t,o,i),t.memoizedState=r.state,l&&ho(t,n,!0),t.child}function $c(e){var t=e.stateNode;t.pendingContext?mo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mo(e,t.context,!1),ua(e,t.containerInfo)}function To(e,t,n,r,l){return zn(),ra(l),t.flags|=256,ke(e,t,n,r),t.child}var vi={dehydrated:null,treeContext:null,retryLane:0};function yi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kc(e,t,n){var r=t.pendingProps,l=re.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Z(re,l&1),e===null)return ci(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Yl(a,r,0,null),e=qt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yi(n),t.memoizedState=vi,e):va(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Wp(e,t,a,r,o,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,o=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=At(l,u),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=At(o,i):(i=qt(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?yi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=vi,r}return i=e.child,e=i.sibling,r=At(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function va(e,t){return t=Yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yr(e,t,n,r){return r!==null&&ra(r),Dn(t,e.child,null,n),e=va(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wp(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Ps(Error(L(422))),Yr(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Yl({mode:"visible",children:r.children},l,0,null),i=qt(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dn(t,e.child,null,a),t.child.memoizedState=yi(a),t.memoizedState=vi,i);if(!(t.mode&1))return Yr(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(L(419)),r=Ps(i,r,void 0),Yr(e,t,a,r)}if(o=(a&e.childLanes)!==0,Pe||o){if(r=me,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,xt(e,l),Xe(r,e,l,-1))}return Na(),r=Ps(Error(L(421))),Yr(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=lm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Ie=Ot(l.nextSibling),Oe=t,te=!0,Ge=null,e!==null&&(Ae[Ue++]=mt,Ae[Ue++]=ht,Ae[Ue++]=tn,mt=e.id,ht=e.overflow,tn=t),t=va(t,r.children),t.flags|=4096,t)}function Ro(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),di(e.return,t,n)}function Ls(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Vc(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(ke(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ro(e,n,t);else if(e.tag===19)Ro(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(re,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Pl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ls(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Pl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ls(t,!0,n,null,i);break;case"together":Ls(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=At(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=At(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Hp(e,t,n){switch(t.tag){case 3:$c(t),zn();break;case 5:gc(t);break;case 1:Te(t.type)&&Nl(t);break;case 4:ua(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Z(El,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Kc(e,t,n):(Z(re,re.current&1),e=jt(e,t,n),e!==null?e.sibling:null);Z(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,Ac(e,t,n)}return jt(e,t,n)}var Wc,xi,Hc,Qc;Wc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xi=function(){};Hc=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Xt(st.current);var i=null;switch(n){case"input":l=Us(e,l),r=Us(e,r),i=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":l=Vs(e,l),r=Vs(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wl)}Hs(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var o=l[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(o=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&q("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Qc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xn(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qp(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Te(t.type)&&Sl(),xe(t),null;case 3:return r=t.stateNode,In(),ee(Le),ee(Se),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ge!==null&&(Ci(Ge),Ge=null))),xi(e,t),xe(t),null;case 5:ca(t);var l=Xt(kr.current);if(n=t.type,e!==null&&t.stateNode!=null)Hc(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return xe(t),null}if(e=Xt(st.current),Jr(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[rt]=t,r[Sr]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(l=0;l<nr.length;l++)q(nr[l],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":Aa(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":$a(r,i),q("invalid",r)}Hs(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Qr(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Qr(r.textContent,o,e),l=["children",""+o]):fr.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&q("scroll",r)}switch(n){case"input":Br(r),Ua(r,i,!0);break;case"textarea":Br(r),Ka(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[rt]=t,e[Sr]=r,Wc(e,t,!1,!1),t.stateNode=e;e:{switch(a=Qs(n,r),n){case"dialog":q("cancel",e),q("close",e),l=r;break;case"iframe":case"object":case"embed":q("load",e),l=r;break;case"video":case"audio":for(l=0;l<nr.length;l++)q(nr[l],e);l=r;break;case"source":q("error",e),l=r;break;case"img":case"image":case"link":q("error",e),q("load",e),l=r;break;case"details":q("toggle",e),l=r;break;case"input":Aa(e,r),l=Us(e,r),q("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),q("invalid",e);break;case"textarea":$a(e,r),l=Vs(e,r),q("invalid",e);break;default:l=r}Hs(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?ku(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Su(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pr(e,u):typeof u=="number"&&pr(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&q("scroll",e):u!=null&&Ui(e,i,u,a))}switch(n){case"input":Br(e),Ua(e,r,!1);break;case"textarea":Br(e),Ka(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$t(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?kn(e,!!r.multiple,i,!1):r.defaultValue!=null&&kn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)Qc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Xt(kr.current),Xt(st.current),Jr(t)){if(r=t.stateNode,n=t.memoizedProps,r[rt]=t,(i=r.nodeValue!==n)&&(e=Oe,e!==null))switch(e.tag){case 3:Qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rt]=t,t.stateNode=r}return xe(t),null;case 13:if(ee(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Ie!==null&&t.mode&1&&!(t.flags&128))dc(),zn(),t.flags|=98560,i=!1;else if(i=Jr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[rt]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else Ge!==null&&(Ci(Ge),Ge=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?fe===0&&(fe=3):Na())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return In(),xi(e,t),e===null&&jr(t.stateNode.containerInfo),xe(t),null;case 10:return ia(t.type._context),xe(t),null;case 17:return Te(t.type)&&Sl(),xe(t),null;case 19:if(ee(re),i=t.memoizedState,i===null)return xe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Xn(i,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Pl(e),a!==null){for(t.flags|=128,Xn(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>Mn&&(t.flags|=128,r=!0,Xn(i,!1),t.lanes=4194304)}else{if(!r)if(e=Pl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!te)return xe(t),null}else 2*ue()-i.renderingStartTime>Mn&&n!==1073741824&&(t.flags|=128,r=!0,Xn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=re.current,Z(re,r?n&1|2:n&1),t):(xe(t),null);case 22:case 23:return Sa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?De&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Jp(e,t){switch(na(t),t.tag){case 1:return Te(t.type)&&Sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(),ee(Le),ee(Se),da(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ca(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return In(),null;case 10:return ia(t.type._context),null;case 22:case 23:return Sa(),null;case 24:return null;default:return null}}var Xr=!1,we=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,D=null;function Sn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function ji(e,t,n){try{n()}catch(r){oe(e,t,r)}}var zo=!1;function Yp(e,t){if(ri=yl,e=Zu(),ea(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,f=0,p=e,h=null;t:for(;;){for(var j;p!==n||l!==0&&p.nodeType!==3||(o=a+l),p!==i||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(j=p.firstChild)!==null;)h=p,p=j;for(;;){if(p===e)break t;if(h===n&&++c===l&&(o=a),h===i&&++f===r&&(u=a),(j=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=j}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(li={focusedElem:e,selectionRange:n},yl=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Qe(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){oe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return y=zo,zo=!1,y}function ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&ji(t,n,i)}l=l.next}while(l!==r)}}function Jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jc(e){var t=e.alternate;t!==null&&(e.alternate=null,Jc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rt],delete t[Sr],delete t[ai],delete t[Rp],delete t[zp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gc(e){return e.tag===5||e.tag===3||e.tag===4}function Do(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Si(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wl));else if(r!==4&&(e=e.child,e!==null))for(Si(e,t,n),e=e.sibling;e!==null;)Si(e,t,n),e=e.sibling}function Ni(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ni(e,t,n),e=e.sibling;e!==null;)Ni(e,t,n),e=e.sibling}var he=null,Je=!1;function kt(e,t,n){for(n=n.child;n!==null;)Yc(e,t,n),n=n.sibling}function Yc(e,t,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:we||Sn(n,t);case 6:var r=he,l=Je;he=null,kt(e,t,n),he=r,Je=l,he!==null&&(Je?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Je?(e=he,n=n.stateNode,e.nodeType===8?Ns(e.parentNode,n):e.nodeType===1&&Ns(e,n),vr(e)):Ns(he,n.stateNode));break;case 4:r=he,l=Je,he=n.stateNode.containerInfo,Je=!0,kt(e,t,n),he=r,Je=l;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ji(n,t,a),l=l.next}while(l!==r)}kt(e,t,n);break;case 1:if(!we&&(Sn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){oe(n,t,o)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,kt(e,t,n),we=r):kt(e,t,n);break;default:kt(e,t,n)}}function Io(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gp),t.forEach(function(r){var l=sm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function He(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:he=o.stateNode,Je=!1;break e;case 3:he=o.stateNode.containerInfo,Je=!0;break e;case 4:he=o.stateNode.containerInfo,Je=!0;break e}o=o.return}if(he===null)throw Error(L(160));Yc(i,a,l),he=null,Je=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){oe(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xc(t,e),t=t.sibling}function Xc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(He(t,e),tt(e),r&4){try{ur(3,e,e.return),Jl(3,e)}catch(x){oe(e,e.return,x)}try{ur(5,e,e.return)}catch(x){oe(e,e.return,x)}}break;case 1:He(t,e),tt(e),r&512&&n!==null&&Sn(n,n.return);break;case 5:if(He(t,e),tt(e),r&512&&n!==null&&Sn(n,n.return),e.flags&32){var l=e.stateNode;try{pr(l,"")}catch(x){oe(e,e.return,x)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&xu(l,i),Qs(o,a);var c=Qs(o,i);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?ku(l,p):f==="dangerouslySetInnerHTML"?Su(l,p):f==="children"?pr(l,p):Ui(l,f,p,c)}switch(o){case"input":$s(l,i);break;case"textarea":ju(l,i);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?kn(l,!!i.multiple,j,!1):h!==!!i.multiple&&(i.defaultValue!=null?kn(l,!!i.multiple,i.defaultValue,!0):kn(l,!!i.multiple,i.multiple?[]:"",!1))}l[Sr]=i}catch(x){oe(e,e.return,x)}}break;case 6:if(He(t,e),tt(e),r&4){if(e.stateNode===null)throw Error(L(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(x){oe(e,e.return,x)}}break;case 3:if(He(t,e),tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vr(t.containerInfo)}catch(x){oe(e,e.return,x)}break;case 4:He(t,e),tt(e);break;case 13:He(t,e),tt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(ja=ue())),r&4&&Io(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(we=(c=we)||f,He(t,e),we=c):He(t,e),tt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(D=e,f=e.child;f!==null;){for(p=D=f;D!==null;){switch(h=D,j=h.child,h.tag){case 0:case 11:case 14:case 15:ur(4,h,h.return);break;case 1:Sn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){oe(r,n,x)}}break;case 5:Sn(h,h.return);break;case 22:if(h.memoizedState!==null){Mo(p);continue}}j!==null?(j.return=h,D=j):Mo(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{l=p.stateNode,c?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Nu("display",a))}catch(x){oe(e,e.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){oe(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:He(t,e),tt(e),r&4&&Io(e);break;case 21:break;default:He(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gc(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(pr(l,""),r.flags&=-33);var i=Do(e);Ni(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Do(e);Si(e,o,a);break;default:throw Error(L(161))}}catch(u){oe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xp(e,t,n){D=e,Zc(e)}function Zc(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var l=D,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Xr;if(!a){var o=l.alternate,u=o!==null&&o.memoizedState!==null||we;o=Xr;var c=we;if(Xr=a,(we=u)&&!c)for(D=l;D!==null;)a=D,u=a.child,a.tag===22&&a.memoizedState!==null?Fo(l):u!==null?(u.return=a,D=u):Fo(l);for(;i!==null;)D=i,Zc(i),i=i.sibling;D=l,Xr=o,we=c}Oo(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,D=i):Oo(e)}}function Oo(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||Jl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!we)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Qe(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jo(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jo(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&vr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}we||t.flags&512&&wi(t)}catch(h){oe(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Mo(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Fo(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jl(4,t)}catch(u){oe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){oe(t,l,u)}}var i=t.return;try{wi(t)}catch(u){oe(t,i,u)}break;case 5:var a=t.return;try{wi(t)}catch(u){oe(t,a,u)}}}catch(u){oe(t,t.return,u)}if(t===e){D=null;break}var o=t.sibling;if(o!==null){o.return=t.return,D=o;break}D=t.return}}var Zp=Math.ceil,Rl=St.ReactCurrentDispatcher,ya=St.ReactCurrentOwner,Ke=St.ReactCurrentBatchConfig,J=0,me=null,ce=null,ge=0,De=0,Nn=Wt(0),fe=0,br=null,rn=0,Gl=0,xa=0,cr=null,be=null,ja=0,Mn=1/0,ft=null,zl=!1,ki=null,Ft=null,Zr=!1,Tt=null,Dl=0,dr=0,_i=null,cl=-1,dl=0;function _e(){return J&6?ue():cl!==-1?cl:cl=ue()}function Bt(e){return e.mode&1?J&2&&ge!==0?ge&-ge:Ip.transition!==null?(dl===0&&(dl=Ou()),dl):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Ku(e.type)),e):1}function Xe(e,t,n,r){if(50<dr)throw dr=0,_i=null,Error(L(185));Rr(e,n,r),(!(J&2)||e!==me)&&(e===me&&(!(J&2)&&(Gl|=n),fe===4&&Pt(e,ge)),Re(e,r),n===1&&J===0&&!(t.mode&1)&&(Mn=ue()+500,Wl&&Ht()))}function Re(e,t){var n=e.callbackNode;If(e,t);var r=vl(e,e===me?ge:0);if(r===0)n!==null&&Ha(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ha(n),t===1)e.tag===0?Dp(Bo.bind(null,e)):oc(Bo.bind(null,e)),Lp(function(){!(J&6)&&Ht()}),n=null;else{switch(Mu(r)){case 1:n=Hi;break;case 4:n=Du;break;case 16:n=gl;break;case 536870912:n=Iu;break;default:n=gl}n=id(n,qc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qc(e,t){if(cl=-1,dl=0,J&6)throw Error(L(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var r=vl(e,e===me?ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Il(e,r);else{t=r;var l=J;J|=2;var i=td();(me!==e||ge!==t)&&(ft=null,Mn=ue()+500,Zt(e,t));do try{tm();break}catch(o){ed(e,o)}while(!0);sa(),Rl.current=i,J=l,ce!==null?t=0:(me=null,ge=0,t=fe)}if(t!==0){if(t===2&&(l=Zs(e),l!==0&&(r=l,t=Ei(e,l))),t===1)throw n=br,Zt(e,0),Pt(e,r),Re(e,ue()),n;if(t===6)Pt(e,r);else{if(l=e.current.alternate,!(r&30)&&!qp(l)&&(t=Il(e,r),t===2&&(i=Zs(e),i!==0&&(r=i,t=Ei(e,i))),t===1))throw n=br,Zt(e,0),Pt(e,r),Re(e,ue()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Jt(e,be,ft);break;case 3:if(Pt(e,r),(r&130023424)===r&&(t=ja+500-ue(),10<t)){if(vl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){_e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ii(Jt.bind(null,e,be,ft),t);break}Jt(e,be,ft);break;case 4:if(Pt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Ye(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zp(r/1960))-r,10<r){e.timeoutHandle=ii(Jt.bind(null,e,be,ft),r);break}Jt(e,be,ft);break;case 5:Jt(e,be,ft);break;default:throw Error(L(329))}}}return Re(e,ue()),e.callbackNode===n?qc.bind(null,e):null}function Ei(e,t){var n=cr;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=Il(e,t),e!==2&&(t=be,be=n,t!==null&&Ci(t)),e}function Ci(e){be===null?be=e:be.push.apply(be,e)}function qp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Ze(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~xa,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ye(t),r=1<<n;e[n]=-1,t&=~r}}function Bo(e){if(J&6)throw Error(L(327));Pn();var t=vl(e,0);if(!(t&1))return Re(e,ue()),null;var n=Il(e,t);if(e.tag!==0&&n===2){var r=Zs(e);r!==0&&(t=r,n=Ei(e,r))}if(n===1)throw n=br,Zt(e,0),Pt(e,t),Re(e,ue()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jt(e,be,ft),Re(e,ue()),null}function wa(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Mn=ue()+500,Wl&&Ht())}}function ln(e){Tt!==null&&Tt.tag===0&&!(J&6)&&Pn();var t=J;J|=1;var n=Ke.transition,r=Y;try{if(Ke.transition=null,Y=1,e)return e()}finally{Y=r,Ke.transition=n,J=t,!(J&6)&&Ht()}}function Sa(){De=Nn.current,ee(Nn)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pp(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(na(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sl();break;case 3:In(),ee(Le),ee(Se),da();break;case 5:ca(r);break;case 4:In();break;case 13:ee(re);break;case 19:ee(re);break;case 10:ia(r.type._context);break;case 22:case 23:Sa()}n=n.return}if(me=e,ce=e=At(e.current,null),ge=De=t,fe=0,br=null,xa=Gl=rn=0,be=cr=null,Yt!==null){for(t=0;t<Yt.length;t++)if(n=Yt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}Yt=null}return e}function ed(e,t){do{var n=ce;try{if(sa(),al.current=Tl,Ll){for(var r=le.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ll=!1}if(nn=0,pe=de=le=null,or=!1,_r=0,ya.current=null,n===null||n.return===null){fe=1,br=t,ce=null;break}e:{var i=e,a=n.return,o=n,u=t;if(t=ge,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var j=Eo(a);if(j!==null){j.flags&=-257,Co(j,a,o,i,t),j.mode&1&&_o(i,c,t),t=j,u=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(u),t.updateQueue=x}else y.add(u);break e}else{if(!(t&1)){_o(i,c,t),Na();break e}u=Error(L(426))}}else if(te&&o.mode&1){var w=Eo(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Co(w,a,o,i,t),ra(On(u,o));break e}}i=u=On(u,o),fe!==4&&(fe=2),cr===null?cr=[i]:cr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Mc(i,u,t);xo(i,v);break e;case 1:o=u;var m=i.type,d=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ft===null||!Ft.has(d)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Fc(i,o,t);xo(i,S);break e}}i=i.return}while(i!==null)}rd(n)}catch(k){t=k,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function td(){var e=Rl.current;return Rl.current=Tl,e===null?Tl:e}function Na(){(fe===0||fe===3||fe===2)&&(fe=4),me===null||!(rn&268435455)&&!(Gl&268435455)||Pt(me,ge)}function Il(e,t){var n=J;J|=2;var r=td();(me!==e||ge!==t)&&(ft=null,Zt(e,t));do try{em();break}catch(l){ed(e,l)}while(!0);if(sa(),J=n,Rl.current=r,ce!==null)throw Error(L(261));return me=null,ge=0,fe}function em(){for(;ce!==null;)nd(ce)}function tm(){for(;ce!==null&&!Ef();)nd(ce)}function nd(e){var t=sd(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?rd(e):ce=t,ya.current=null}function rd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jp(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ce=null;return}}else if(n=Qp(n,t,De),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);fe===0&&(fe=5)}function Jt(e,t,n){var r=Y,l=Ke.transition;try{Ke.transition=null,Y=1,nm(e,t,n,r)}finally{Ke.transition=l,Y=r}return null}function nm(e,t,n,r){do Pn();while(Tt!==null);if(J&6)throw Error(L(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Of(e,i),e===me&&(ce=me=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zr||(Zr=!0,id(gl,function(){return Pn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var a=Y;Y=1;var o=J;J|=4,ya.current=null,Yp(e,n),Xc(n,e),Sp(li),yl=!!ri,li=ri=null,e.current=n,Xp(n),Cf(),J=o,Y=a,Ke.transition=i}else e.current=n;if(Zr&&(Zr=!1,Tt=e,Dl=l),i=e.pendingLanes,i===0&&(Ft=null),Lf(n.stateNode),Re(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(zl)throw zl=!1,e=ki,ki=null,e;return Dl&1&&e.tag!==0&&Pn(),i=e.pendingLanes,i&1?e===_i?dr++:(dr=0,_i=e):dr=0,Ht(),null}function Pn(){if(Tt!==null){var e=Mu(Dl),t=Ke.transition,n=Y;try{if(Ke.transition=null,Y=16>e?16:e,Tt===null)var r=!1;else{if(e=Tt,Tt=null,Dl=0,J&6)throw Error(L(331));var l=J;for(J|=4,D=e.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(D=c;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:ur(8,f,i)}var p=f.child;if(p!==null)p.return=f,D=p;else for(;D!==null;){f=D;var h=f.sibling,j=f.return;if(Jc(f),f===c){D=null;break}if(h!==null){h.return=j,D=h;break}D=j}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ur(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,D=v;break e}D=i.return}}var m=e.current;for(D=m;D!==null;){a=D;var d=a.child;if(a.subtreeFlags&2064&&d!==null)d.return=a,D=d;else e:for(a=m;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Jl(9,o)}}catch(k){oe(o,o.return,k)}if(o===a){D=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,D=S;break e}D=o.return}}if(J=l,Ht(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Al,e)}catch{}r=!0}return r}finally{Y=n,Ke.transition=t}}return!1}function Ao(e,t,n){t=On(n,t),t=Mc(e,t,1),e=Mt(e,t,1),t=_e(),e!==null&&(Rr(e,1,t),Re(e,t))}function oe(e,t,n){if(e.tag===3)Ao(e,e,n);else for(;t!==null;){if(t.tag===3){Ao(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ft===null||!Ft.has(r))){e=On(n,e),e=Fc(t,e,1),t=Mt(t,e,1),e=_e(),t!==null&&(Rr(t,1,e),Re(t,e));break}}t=t.return}}function rm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&n,me===e&&(ge&n)===n&&(fe===4||fe===3&&(ge&130023424)===ge&&500>ue()-ja?Zt(e,0):xa|=n),Re(e,t)}function ld(e,t){t===0&&(e.mode&1?(t=$r,$r<<=1,!($r&130023424)&&($r=4194304)):t=1);var n=_e();e=xt(e,t),e!==null&&(Rr(e,t,n),Re(e,n))}function lm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ld(e,n)}function sm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),ld(e,n)}var sd;sd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,Hp(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,te&&t.flags&1048576&&uc(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ul(e,t),e=t.pendingProps;var l=Rn(t,Se.current);bn(t,n),l=pa(null,t,r,e,l,n);var i=ma();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(r)?(i=!0,Nl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,oa(t),l.updater=Ql,t.stateNode=l,l._reactInternals=t,pi(t,r,e,n),t=gi(null,t,r,!0,i,n)):(t.tag=0,te&&i&&ta(t),ke(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=am(r),e=Qe(r,e),l){case 0:t=hi(null,t,r,e,n);break e;case 1:t=Lo(null,t,r,e,n);break e;case 11:t=bo(null,t,r,e,n);break e;case 14:t=Po(null,t,r,Qe(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qe(r,l),hi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qe(r,l),Lo(e,t,r,l,n);case 3:e:{if($c(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,l=i.element,hc(e,t),bl(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=On(Error(L(423)),t),t=To(e,t,r,n,l);break e}else if(r!==l){l=On(Error(L(424)),t),t=To(e,t,r,n,l);break e}else for(Ie=Ot(t.stateNode.containerInfo.firstChild),Oe=t,te=!0,Ge=null,n=pc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===l){t=jt(e,t,n);break e}ke(e,t,r,n)}t=t.child}return t;case 5:return gc(t),e===null&&ci(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,si(r,l)?a=null:i!==null&&si(r,i)&&(t.flags|=32),Uc(e,t),ke(e,t,a,n),t.child;case 6:return e===null&&ci(t),null;case 13:return Kc(e,t,n);case 4:return ua(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,n):ke(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qe(r,l),bo(e,t,r,l,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,Z(El,r._currentValue),r._currentValue=a,i!==null)if(Ze(i.value,a)){if(i.children===l.children&&!Le.current){t=jt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=gt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),di(i.return,n,t),o.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(L(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),di(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ke(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,bn(t,n),l=Ve(l),r=r(l),t.flags|=1,ke(e,t,r,n),t.child;case 14:return r=t.type,l=Qe(r,t.pendingProps),l=Qe(r.type,l),Po(e,t,r,l,n);case 15:return Bc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Qe(r,l),ul(e,t),t.tag=1,Te(r)?(e=!0,Nl(t)):e=!1,bn(t,n),Oc(t,r,l),pi(t,r,l,n),gi(null,t,r,!0,e,n);case 19:return Vc(e,t,n);case 22:return Ac(e,t,n)}throw Error(L(156,t.tag))};function id(e,t){return zu(e,t)}function im(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,r){return new im(e,t,n,r)}function ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function am(e){if(typeof e=="function")return ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ki)return 11;if(e===Vi)return 14}return 2}function At(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fl(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")ka(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case pn:return qt(n.children,l,i,t);case $i:a=8,l|=8;break;case Ms:return e=$e(12,n,t,l|2),e.elementType=Ms,e.lanes=i,e;case Fs:return e=$e(13,n,t,l),e.elementType=Fs,e.lanes=i,e;case Bs:return e=$e(19,n,t,l),e.elementType=Bs,e.lanes=i,e;case gu:return Yl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mu:a=10;break e;case hu:a=9;break e;case Ki:a=11;break e;case Vi:a=14;break e;case Et:a=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=$e(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function qt(e,t,n,r){return e=$e(7,e,r,t),e.lanes=n,e}function Yl(e,t,n,r){return e=$e(22,e,r,t),e.elementType=gu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ts(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function Rs(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function om(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _a(e,t,n,r,l,i,a,o,u){return e=new om(e,t,n,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$e(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oa(i),e}function um(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ad(e){if(!e)return Kt;e=e._reactInternals;e:{if(on(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Te(n))return ac(e,n,t)}return t}function od(e,t,n,r,l,i,a,o,u){return e=_a(n,r,!0,e,l,i,a,o,u),e.context=ad(null),n=e.current,r=_e(),l=Bt(n),i=gt(r,l),i.callback=t??null,Mt(n,i,l),e.current.lanes=l,Rr(e,l,r),Re(e,r),e}function Xl(e,t,n,r){var l=t.current,i=_e(),a=Bt(l);return n=ad(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mt(l,t,a),e!==null&&(Xe(e,l,a,i),il(e,l,a)),a}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ea(e,t){Uo(e,t),(e=e.alternate)&&Uo(e,t)}function cm(){return null}var ud=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ca(e){this._internalRoot=e}Zl.prototype.render=Ca.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Xl(e,t,null,null)};Zl.prototype.unmount=Ca.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){Xl(null,e,null,null)}),t[yt]=null}};function Zl(e){this._internalRoot=e}Zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Au();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bt.length&&t!==0&&t<bt[n].priority;n++);bt.splice(n,0,e),n===0&&$u(e)}};function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $o(){}function dm(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var c=Ol(a);i.call(c)}}var a=od(t,r,e,0,null,!1,!1,"",$o);return e._reactRootContainer=a,e[yt]=a.current,jr(e.nodeType===8?e.parentNode:e),ln(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var c=Ol(u);o.call(c)}}var u=_a(e,0,!1,null,null,!1,!1,"",$o);return e._reactRootContainer=u,e[yt]=u.current,jr(e.nodeType===8?e.parentNode:e),ln(function(){Xl(t,u,n,r)}),u}function es(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var o=l;l=function(){var u=Ol(a);o.call(u)}}Xl(t,a,e,l)}else a=dm(n,t,e,l,r);return Ol(a)}Fu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);n!==0&&(Qi(t,n|1),Re(t,ue()),!(J&6)&&(Mn=ue()+500,Ht()))}break;case 13:ln(function(){var r=xt(e,1);if(r!==null){var l=_e();Xe(r,e,1,l)}}),Ea(e,1)}};Ji=function(e){if(e.tag===13){var t=xt(e,134217728);if(t!==null){var n=_e();Xe(t,e,134217728,n)}Ea(e,134217728)}};Bu=function(e){if(e.tag===13){var t=Bt(e),n=xt(e,t);if(n!==null){var r=_e();Xe(n,e,t,r)}Ea(e,t)}};Au=function(){return Y};Uu=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Gs=function(e,t,n){switch(t){case"input":if($s(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Vl(r);if(!l)throw Error(L(90));yu(r),$s(r,l)}}}break;case"textarea":ju(e,n);break;case"select":t=n.value,t!=null&&kn(e,!!n.multiple,t,!1)}};Cu=wa;bu=ln;var fm={usingClientEntryPoint:!1,Events:[Dr,vn,Vl,_u,Eu,wa]},Zn={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:Zn.bundleType,version:Zn.version,rendererPackageName:Zn.rendererPackageName,rendererConfig:Zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tu(e),e===null?null:e.stateNode},findFiberByHostInstance:Zn.findFiberByHostInstance||cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qr.isDisabled&&qr.supportsFiber)try{Al=qr.inject(pm),lt=qr}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm;Fe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ba(t))throw Error(L(200));return um(e,t,null,n)};Fe.createRoot=function(e,t){if(!ba(e))throw Error(L(299));var n=!1,r="",l=ud;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=_a(e,1,!1,null,null,n,!1,r,l),e[yt]=t.current,jr(e.nodeType===8?e.parentNode:e),new Ca(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Tu(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return ln(e)};Fe.hydrate=function(e,t,n){if(!ql(t))throw Error(L(200));return es(null,e,t,!0,n)};Fe.hydrateRoot=function(e,t,n){if(!ba(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=ud;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=od(t,null,e,1,n??null,l,!1,i,a),e[yt]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Zl(t)};Fe.render=function(e,t,n){if(!ql(t))throw Error(L(200));return es(null,e,t,!1,n)};Fe.unmountComponentAtNode=function(e){if(!ql(e))throw Error(L(40));return e._reactRootContainer?(ln(function(){es(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};Fe.unstable_batchedUpdates=wa;Fe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ql(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return es(e,t,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function cd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cd)}catch(e){console.error(e)}}cd(),cu.exports=Fe;var mm=cu.exports,Ko=mm;Is.createRoot=Ko.createRoot,Is.hydrateRoot=Ko.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(this,arguments)}var Rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rt||(Rt={}));const Vo="popstate";function hm(e){e===void 0&&(e={});function t(r,l){let{pathname:i,search:a,hash:o}=r.location;return bi("",{pathname:i,search:a,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Ml(l)}return vm(t,n,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gm(){return Math.random().toString(36).substr(2,8)}function Wo(e,t){return{usr:e.state,key:e.key,idx:t}}function bi(e,t,n,r){return n===void 0&&(n=null),Pr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$n(t):t,{state:n,key:t&&t.key||r||gm()})}function Ml(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $n(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vm(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:i=!1}=r,a=l.history,o=Rt.Pop,u=null,c=f();c==null&&(c=0,a.replaceState(Pr({},a.state,{idx:c}),""));function f(){return(a.state||{idx:null}).idx}function p(){o=Rt.Pop;let w=f(),v=w==null?null:w-c;c=w,u&&u({action:o,location:x.location,delta:v})}function h(w,v){o=Rt.Push;let m=bi(x.location,w,v);c=f()+1;let d=Wo(m,c),S=x.createHref(m);try{a.pushState(d,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(S)}i&&u&&u({action:o,location:x.location,delta:1})}function j(w,v){o=Rt.Replace;let m=bi(x.location,w,v);c=f();let d=Wo(m,c),S=x.createHref(m);a.replaceState(d,"",S),i&&u&&u({action:o,location:x.location,delta:0})}function y(w){let v=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof w=="string"?w:Ml(w);return m=m.replace(/ $/,"%20"),se(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let x={get action(){return o},get location(){return e(l,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(Vo,p),u=w,()=>{l.removeEventListener(Vo,p),u=null}},createHref(w){return t(l,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:j,go(w){return a.go(w)}};return x}var Ho;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ho||(Ho={}));function ym(e,t,n){return n===void 0&&(n="/"),xm(e,t,n)}function xm(e,t,n,r){let l=typeof t=="string"?$n(t):t,i=Fn(l.pathname||"/",n);if(i==null)return null;let a=dd(e);jm(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=Tm(i);o=Pm(a[u],c)}return o}function dd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(se(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ut([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dd(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Cm(c,i.index),routesMeta:f})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))l(i,a);else for(let u of fd(i.path))l(i,a,u)}),t}function fd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return l?[i,""]:[i];let a=fd(r.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),l&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function jm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bm(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wm=/^:[\w-]+$/,Sm=3,Nm=2,km=1,_m=10,Em=-2,Qo=e=>e==="*";function Cm(e,t){let n=e.split("/"),r=n.length;return n.some(Qo)&&(r+=Em),t&&(r+=Nm),n.filter(l=>!Qo(l)).reduce((l,i)=>l+(wm.test(i)?Sm:i===""?km:_m),r)}function bm(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Pm(e,t,n){let{routesMeta:r}=e,l={},i="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=Pi({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),h=u.route;if(!p)return null;Object.assign(l,p.params),a.push({params:l,pathname:Ut([i,p.pathname]),pathnameBase:Om(Ut([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=Ut([i,p.pathnameBase]))}return a}function Pi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lm(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let i=l[0],a=i.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:h,isOptional:j}=f;if(h==="*"){let x=o[p]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[p];return j&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function Lm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Tm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Rm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zm=e=>Rm.test(e);function Dm(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?$n(e):e,i;if(n)if(zm(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Pa(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Jo(n.substring(1),"/"):i=Jo(n,t)}else i=t;return{pathname:i,search:Mm(r),hash:Fm(l)}}function Jo(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function zs(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Im(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function La(e,t){let n=Im(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ta(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=$n(e):(l=Pr({},e),se(!l.pathname||!l.pathname.includes("?"),zs("?","pathname","search",l)),se(!l.pathname||!l.pathname.includes("#"),zs("#","pathname","hash",l)),se(!l.search||!l.search.includes("#"),zs("#","search","hash",l)));let i=e===""||l.pathname==="",a=i?"/":l.pathname,o;if(a==null)o=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),p-=1;l.pathname=h.join("/")}o=p>=0?t[p]:"/"}let u=Dm(l,o),c=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Ut=e=>e.join("/").replace(/\/\/+/g,"/"),Om=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pd=["post","put","patch","delete"];new Set(pd);const Am=["get",...pd];new Set(Am);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lr.apply(this,arguments)}const ts=g.createContext(null),md=g.createContext(null),Nt=g.createContext(null),ns=g.createContext(null),at=g.createContext({outlet:null,matches:[],isDataRoute:!1}),hd=g.createContext(null);function Um(e,t){let{relative:n}=t===void 0?{}:t;Kn()||se(!1);let{basename:r,navigator:l}=g.useContext(Nt),{hash:i,pathname:a,search:o}=rs(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Ut([r,a])),l.createHref({pathname:u,search:o,hash:i})}function Kn(){return g.useContext(ns)!=null}function ot(){return Kn()||se(!1),g.useContext(ns).location}function gd(e){g.useContext(Nt).static||g.useLayoutEffect(e)}function ut(){let{isDataRoute:e}=g.useContext(at);return e?rh():$m()}function $m(){Kn()||se(!1);let e=g.useContext(ts),{basename:t,future:n,navigator:r}=g.useContext(Nt),{matches:l}=g.useContext(at),{pathname:i}=ot(),a=JSON.stringify(La(l,n.v7_relativeSplatPath)),o=g.useRef(!1);return gd(()=>{o.current=!0}),g.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let p=Ta(c,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ut([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,a,i,e])}const Km=g.createContext(null);function Vm(e){let t=g.useContext(at).outlet;return t&&g.createElement(Km.Provider,{value:e},t)}function Wm(){let{matches:e}=g.useContext(at),t=e[e.length-1];return t?t.params:{}}function rs(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(Nt),{matches:l}=g.useContext(at),{pathname:i}=ot(),a=JSON.stringify(La(l,r.v7_relativeSplatPath));return g.useMemo(()=>Ta(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Hm(e,t){return Qm(e,t)}function Qm(e,t,n,r){Kn()||se(!1);let{navigator:l}=g.useContext(Nt),{matches:i}=g.useContext(at),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=ot(),f;if(t){var p;let w=typeof t=="string"?$n(t):t;u==="/"||(p=w.pathname)!=null&&p.startsWith(u)||se(!1),f=w}else f=c;let h=f.pathname||"/",j=h;if(u!=="/"){let w=u.replace(/^\//,"").split("/");j="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=ym(e,{pathname:j}),x=Zm(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ut([u,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Ut([u,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&x?g.createElement(ns.Provider,{value:{location:Lr({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Rt.Pop}},x):x}function Jm(){let e=nh(),t=Bm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:l},n):null,null)}const Gm=g.createElement(Jm,null);class Ym extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(at.Provider,{value:this.props.routeContext},g.createElement(hd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xm(e){let{routeContext:t,match:n,children:r}=e,l=g.useContext(ts);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(at.Provider,{value:t},r)}function Zm(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);f>=0||se(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:h,errors:j}=n,y=p.route.loader&&h[p.route.id]===void 0&&(!j||j[p.route.id]===void 0);if(p.route.lazy||y){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,p,h)=>{let j,y=!1,x=null,w=null;n&&(j=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||Gm,u&&(c<0&&h===0?(lh("route-fallback"),y=!0,w=null):c===h&&(y=!0,w=p.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),m=()=>{let d;return j?d=x:y?d=w:p.route.Component?d=g.createElement(p.route.Component,null):p.route.element?d=p.route.element:d=f,g.createElement(Xm,{match:p,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:d})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?g.createElement(Ym,{location:n.location,revalidation:n.revalidation,component:x,error:j,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var vd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vd||{}),yd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yd||{});function qm(e){let t=g.useContext(ts);return t||se(!1),t}function eh(e){let t=g.useContext(md);return t||se(!1),t}function th(e){let t=g.useContext(at);return t||se(!1),t}function xd(e){let t=th(),n=t.matches[t.matches.length-1];return n.route.id||se(!1),n.route.id}function nh(){var e;let t=g.useContext(hd),n=eh(),r=xd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function rh(){let{router:e}=qm(vd.UseNavigateStable),t=xd(yd.UseNavigateStable),n=g.useRef(!1);return gd(()=>{n.current=!0}),g.useCallback(function(l,i){i===void 0&&(i={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Lr({fromRouteId:t},i)))},[e,t])}const Go={};function lh(e,t,n){Go[e]||(Go[e]=!0)}function sh(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Li(e){let{to:t,replace:n,state:r,relative:l}=e;Kn()||se(!1);let{future:i,static:a}=g.useContext(Nt),{matches:o}=g.useContext(at),{pathname:u}=ot(),c=ut(),f=Ta(t,La(o,i.v7_relativeSplatPath),u,l==="path"),p=JSON.stringify(f);return g.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:l}),[c,p,l,n,r]),null}function jd(e){return Vm(e.context)}function je(e){se(!1)}function ih(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Rt.Pop,navigator:i,static:a=!1,future:o}=e;Kn()&&se(!1);let u=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:u,navigator:i,static:a,future:Lr({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof r=="string"&&(r=$n(r));let{pathname:f="/",search:p="",hash:h="",state:j=null,key:y="default"}=r,x=g.useMemo(()=>{let w=Fn(f,u);return w==null?null:{location:{pathname:w,search:p,hash:h,state:j,key:y},navigationType:l}},[u,f,p,h,j,y,l]);return x==null?null:g.createElement(Nt.Provider,{value:c},g.createElement(ns.Provider,{children:n,value:x}))}function ah(e){let{children:t,location:n}=e;return Hm(Ti(t),n)}new Promise(()=>{});function Ti(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,l)=>{if(!g.isValidElement(r))return;let i=[...t,l];if(r.type===g.Fragment){n.push.apply(n,Ti(r.props.children,i));return}r.type!==je&&se(!1),!r.props.index||!r.props.children||se(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ti(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fl.apply(this,arguments)}function wd(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,i;for(i=0;i<r.length;i++)l=r[i],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function oh(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uh(e,t){return e.button===0&&(!t||t==="_self")&&!oh(e)}const ch=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dh=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fh="6";try{window.__reactRouterVersion=fh}catch{}const ph=g.createContext({isTransitioning:!1}),mh="startTransition",Yo=nf[mh];function hh(e){let{basename:t,children:n,future:r,window:l}=e,i=g.useRef();i.current==null&&(i.current=hm({window:l,v5Compat:!0}));let a=i.current,[o,u]=g.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},f=g.useCallback(p=>{c&&Yo?Yo(()=>u(p)):u(p)},[u,c]);return g.useLayoutEffect(()=>a.listen(f),[a,f]),g.useEffect(()=>sh(r),[r]),g.createElement(ih,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const gh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sd=g.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:f,viewTransition:p}=t,h=wd(t,ch),{basename:j}=g.useContext(Nt),y,x=!1;if(typeof c=="string"&&vh.test(c)&&(y=c,gh))try{let d=new URL(window.location.href),S=c.startsWith("//")?new URL(d.protocol+c):new URL(c),k=Fn(S.pathname,j);S.origin===d.origin&&k!=null?c=k+S.search+S.hash:x=!0}catch{}let w=Um(c,{relative:l}),v=jh(c,{replace:a,state:o,target:u,preventScrollReset:f,relative:l,viewTransition:p});function m(d){r&&r(d),d.defaultPrevented||v(d)}return g.createElement("a",Fl({},h,{href:y||w,onClick:x||i?r:m,ref:n,target:u}))}),yh=g.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:c,children:f}=t,p=wd(t,dh),h=rs(u,{relative:p.relative}),j=ot(),y=g.useContext(md),{navigator:x,basename:w}=g.useContext(Nt),v=y!=null&&wh(h)&&c===!0,m=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,d=j.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;l||(d=d.toLowerCase(),S=S?S.toLowerCase():null,m=m.toLowerCase()),S&&w&&(S=Fn(S,w)||S);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let _=d===m||!a&&d.startsWith(m)&&d.charAt(k)==="/",E=S!=null&&(S===m||!a&&S.startsWith(m)&&S.charAt(m.length)==="/"),N={isActive:_,isPending:E,isTransitioning:v},b=_?r:void 0,T;typeof i=="function"?T=i(N):T=[i,_?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(N):o;return g.createElement(Sd,Fl({},p,{"aria-current":b,className:T,ref:n,style:G,to:u,viewTransition:c}),typeof f=="function"?f(N):f)});var Ri;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ri||(Ri={}));var Xo;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xo||(Xo={}));function xh(e){let t=g.useContext(ts);return t||se(!1),t}function jh(e,t){let{target:n,replace:r,state:l,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=ut(),c=ot(),f=rs(e,{relative:a});return g.useCallback(p=>{if(uh(p,n)){p.preventDefault();let h=r!==void 0?r:Ml(c)===Ml(f);u(e,{replace:h,state:l,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,f,r,l,n,e,i,a,o])}function wh(e,t){t===void 0&&(t={});let n=g.useContext(ph);n==null&&se(!1);let{basename:r}=xh(Ri.useViewTransitionState),l=rs(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Fn(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pi(l.pathname,a)!=null||Pi(l.pathname,i)!=null}const Sh="/api";async function Nh(e){try{return await e.json()}catch{return null}}async function M(e,t={}){const n=await fetch(`${Sh}${e}`,{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});if(!n.ok){const r=await Nh(n),l=(r==null?void 0:r.message)||(r==null?void 0:r.error)||(typeof r=="string"?r:"")||await n.text(),i=new Error(l||`Request failed with ${n.status}`);if(i.status=n.status,i.data=r,n.status===401)try{window.dispatchEvent(new CustomEvent("auth-unauthorized"))}catch{}throw i}return n.json()}async function kh(e,t){return M("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})})}async function _h(){return M("/auth/logout",{method:"POST"})}async function Ds(){return M("/auth/me")}async function Eh(){return M("/settings/smtp")}async function Ch(e){return M("/settings/smtp",{method:"PUT",body:JSON.stringify(e)})}async function bh(e){return M("/settings/smtp/test",{method:"POST",body:JSON.stringify({to:e})})}async function Ph(){return M("/settings/invoice-header")}async function Lh(e){return M("/settings/invoice-header",{method:"PUT",body:JSON.stringify(e)})}async function Th(){return M("/settings/bank")}async function Rh(e){return M("/settings/bank",{method:"PUT",body:JSON.stringify(e)})}async function zh(){return M("/settings/tax")}async function Dh(e){return M("/settings/tax",{method:"PUT",body:JSON.stringify(e)})}async function Ih(){return M("/settings/datev")}async function Oh(e){return M("/settings/datev",{method:"PUT",body:JSON.stringify(e)})}async function Mh(){return M("/settings/hkforms")}async function Fh(e){return M("/settings/hkforms",{method:"PUT",body:JSON.stringify(e)})}async function Bh(e){return M("/settings/hkforms/test",{method:"POST",body:JSON.stringify(e)})}async function Ah(){return M("/settings/pdf")}async function Uh(e){return M("/settings/pdf",{method:"PUT",body:JSON.stringify(e)})}async function $h(e){return M("/settings/pdf/test-path",{method:"POST",body:JSON.stringify(e)})}async function Ra(e){return M(`/invoices/${e}/pdf/regenerate`,{method:"POST"})}async function Kh(){return M("/settings/api-keys")}async function Vh(e){return M("/settings/api-keys",{method:"POST",body:JSON.stringify(e)})}async function Wh(e){return M(`/settings/api-keys/${e}/rotate`,{method:"POST"})}async function Hh(e){return M(`/settings/api-keys/${e}/revoke`,{method:"POST"})}async function Qh(e){return M(`/settings/api-keys/${e}`,{method:"DELETE"})}async function Jh(e){var r;const t=[];e!=null&&e.year&&t.push(`year=${encodeURIComponent(e.year)}`),(r=e==null?void 0:e.categories)!=null&&r.length&&t.push(`category=${encodeURIComponent(e.categories.join(","))}`);const n=t.length?`?${t.join("&")}`:"";return M(`/stats/invoices${n}`)}async function Nd(){return M("/customers")}async function Gh(e){return M("/customers",{method:"POST",body:JSON.stringify(e)})}async function Yh(e,t){return M(`/customers/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Xh(e){return M(`/customers/${e}`,{method:"DELETE"})}async function Zh(e){var r;const t=[];e!=null&&e.from&&t.push(`from=${encodeURIComponent(e.from)}`),e!=null&&e.to&&t.push(`to=${encodeURIComponent(e.to)}`),e!=null&&e.customer&&t.push(`customer=${encodeURIComponent(e.customer)}`),(r=e==null?void 0:e.status)!=null&&r.length&&t.push(`status=${encodeURIComponent(e.status.join(","))}`),e!=null&&e.category&&t.push(`category=${encodeURIComponent(e.category)}`),e!=null&&e.limit&&t.push(`limit=${encodeURIComponent(String(e.limit))}`);const n=t.length?`?${t.join("&")}`:"";return M(`/invoices${n}`)}async function qh(e=10){const t=e?`?limit=${encodeURIComponent(e)}`:"";return M(`/invoices/recent${t}`)}async function kd(e){return M(`/invoices/${e}`)}async function Zo(){return M("/invoices/next-number")}async function eg(e){return M("/invoices",{method:"POST",body:JSON.stringify(e)})}async function tg(e,t){return M(`/invoices/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function ng(e){return M(`/invoices/${e}`,{method:"DELETE"})}async function _d(e){return M(`/invoices/${e}/status/sent`,{method:"POST"})}async function Ed(e){return M(`/invoices/${e}/status/paid`,{method:"POST"})}async function Cd(e){return M(`/invoices/${e}/email-preview`)}async function bd(e,t){return M(`/invoices/${e}/send-email`,{method:"POST",body:JSON.stringify(t)})}async function Pd(e){return M(`/invoices/${e}/datev-export`,{method:"POST"})}async function rg(){return M("/users")}async function lg(e){return M("/users",{method:"POST",body:JSON.stringify(e)})}async function sg(e,t){return M(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function ig(e){return M(`/users/${e}`,{method:"DELETE"})}async function Ld(){return M("/roles")}async function ag(e){return M(`/roles/${e}/permissions`)}async function og(e){return M("/roles",{method:"POST",body:JSON.stringify(e)})}async function ug(e,t){return M(`/roles/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function cg(e){return M(`/roles/${e}`,{method:"DELETE"})}async function za(){return M("/categories")}async function zi(){return M("/categories/logos")}async function dg(e,t){return M("/categories/logo",{method:"POST",body:JSON.stringify({filename:e,dataUrl:t})})}async function fg(e){return M("/categories",{method:"POST",body:JSON.stringify(e)})}async function pg(e,t){return M(`/categories/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function mg(e){return M(`/categories/${e}`,{method:"DELETE"})}async function hg(e){return M(`/categories/${e}/template`)}async function gg(e,t){return M(`/categories/${e}/template`,{method:"POST",body:JSON.stringify(t)})}async function vg(e){return M(`/categories/${e}/email`)}async function yg(e,t){return M(`/categories/${e}/email`,{method:"POST",body:JSON.stringify(t)})}const Td=g.createContext(void 0);function xg({children:e}){const[t,n]=g.useState(null),[r,l]=g.useState(!0),[i,a]=g.useState(null);g.useEffect(()=>{Ds().then(p=>n(p)).catch(()=>n(null)).finally(()=>l(!1))},[]);const o=async(p,h)=>{a(null),await kh(p,h);const j=await Ds();return n(j),j},u=async()=>{try{await _h()}finally{n(null)}},c=async()=>{try{const p=await Ds();return n(p),p}catch(p){return p.status===401&&n(null),null}},f=g.useMemo(()=>({user:t,loading:r,login:o,logout:u,refresh:c,error:i,setError:a}),[t,r,i]);return s.jsx(Td.Provider,{value:f,children:e})}function et(){const e=g.useContext(Td);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function K({variant:e="primary",className:t="",...n}){const r="inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-semibold transition",l={primary:"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-70",secondary:"bg-white text-slate-900 border border-slate-200 hover:bg-slate-50 disabled:opacity-70",ghost:"bg-transparent text-slate-700 hover:bg-slate-100",danger:"bg-red-600 text-white hover:bg-red-700 disabled:opacity-70"};return s.jsx("button",{className:`${r} ${l[e]} ${t}`,...n})}function U(e){return s.jsx("input",{...e,className:`input ${e.className??""}`})}function Rd(e){return s.jsx("textarea",{...e,className:`input ${e.className??""}`})}function sn(e){return s.jsx("select",{...e,className:`input ${e.className??""}`})}function X({type:e="info",children:t}){const n={success:"bg-green-50 text-green-800 border border-green-100",error:"bg-red-50 text-red-700 border border-red-100",info:"bg-blue-50 text-blue-800 border border-blue-100"};return s.jsx("div",{className:`rounded-md px-3 py-2 text-sm ${n[e]}`,children:t})}function qe(){return s.jsx("div",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-blue-600"})}function ls({title:e,description:t}){return s.jsxs("div",{className:"border border-dashed border-slate-200 rounded-lg p-6 text-center text-slate-600",children:[s.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:e}),t&&s.jsx("div",{className:"text-sm",children:t})]})}function jg({to:e,label:t,icon:n,onClick:r}){return s.jsxs(yh,{to:e,onClick:r,className:({isActive:l})=>`flex items-center gap-2 px-3 py-2 rounded-md text-sm ${l?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-100"}`,children:[n,s.jsx("span",{children:t})]})}function it({title:e,children:t,onClose:n}){return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 px-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-xl border border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),s.jsx("button",{onClick:n,className:"text-slate-500 hover:text-slate-700",children:""})]}),s.jsx("div",{className:"p-4",children:t})]})})}function ss({title:e,description:t,onConfirm:n,onCancel:r,busy:l}){return s.jsxs(it,{title:e,onClose:r,children:[t&&s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:t}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(K,{variant:"secondary",onClick:r,children:"Abbrechen"}),s.jsx(K,{variant:"danger",onClick:n,disabled:l,children:l?"Bitte warten...":"Lschen"})]})]})}function Ln({children:e,tone:t="gray"}){const n={gray:"bg-slate-100 text-slate-700",green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",amber:"bg-amber-100 text-amber-800"};return s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${n[t]}`,children:e})}function wt({items:e,align:t="right"}){const n=r=>{const l=r==null?void 0:r.closest("details");l&&(l.open=!1)};return s.jsxs("details",{className:"relative inline-block",children:[s.jsx("summary",{className:"btn-secondary px-2 py-1 cursor-pointer list-none select-none",role:"button","aria-label":"Weitere Aktionen",onKeyDown:r=>{if(r.key==="Enter"||r.key===" "){r.preventDefault();const l=r.currentTarget.closest("details");l&&(l.open=!l.open)}},children:""}),s.jsx("div",{className:`absolute ${t==="right"?"right-0":"left-0"} mt-2 min-w-[160px] bg-white border border-slate-200 rounded shadow z-20 p-1 text-sm space-y-1`,children:e.map((r,l)=>s.jsxs("button",{className:`w-full inline-flex items-center gap-2 text-left px-2 py-1 rounded hover:bg-slate-100 ${r.danger?"text-red-600":""} ${r.disabled?"opacity-60 cursor-not-allowed":""}`,onClick:i=>{i.preventDefault(),i.stopPropagation(),!r.disabled&&(n(i.currentTarget),r.onClick())},disabled:r.disabled,children:[r.icon,s.jsx("span",{children:r.label})]},l))})]})}const wg=[{key:"invoices.read",label:"Rechnungen lesen"},{key:"invoices.create",label:"Rechnungen erstellen"},{key:"invoices.update",label:"Rechnungen bearbeiten"},{key:"invoices.export",label:"Rechnungen exportieren"},{key:"invoices.delete",label:"Rechnungen lschen"},{key:"stats.view",label:"Statistiken ansehen"},{key:"customers.read",label:"Kunden lesen"},{key:"customers.create",label:"Kunden anlegen"},{key:"customers.update",label:"Kunden bearbeiten"},{key:"customers.delete",label:"Kunden lschen"},{key:"users.read",label:"Benutzer lesen"},{key:"users.create",label:"Benutzer anlegen"},{key:"users.update",label:"Benutzer bearbeiten"},{key:"users.delete",label:"Benutzer lschen"},{key:"users.resetPassword",label:"Benutzer-Passwort zurcksetzen"},{key:"roles.read",label:"Rollen lesen"},{key:"roles.create",label:"Rollen anlegen"},{key:"roles.update",label:"Rollen bearbeiten"},{key:"roles.delete",label:"Rollen lschen"},{key:"settings.general",label:"Einstellungen ndern"},{key:"categories.read",label:"Kategorien lesen"},{key:"categories.write",label:"Kategorien bearbeiten"},{key:"categories.delete",label:"Kategorien lschen"}];class Sg extends Fi.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t){console.error("UI ErrorBoundary caught",t)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4",children:s.jsxs("div",{className:"bg-white border border-red-200 text-red-700 rounded-lg shadow p-6 max-w-lg text-center",children:[s.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Es ist ein Fehler aufgetreten."}),s.jsx("p",{className:"text-sm",children:"Bitte laden Sie die Seite neu. Sollte der Fehler bleiben, wenden Sie sich an den Admin."})]})}):this.props.children}}function Ng(){return s.jsx(hh,{children:s.jsx(Sg,{children:s.jsx(xg,{children:s.jsxs(ah,{children:[s.jsx(je,{path:"/login",element:s.jsx(kg,{})}),s.jsx(je,{element:s.jsx(Cg,{}),children:s.jsxs(je,{element:s.jsx(bg,{}),children:[s.jsx(je,{path:"/dashboard",element:s.jsx(Pg,{})}),s.jsx(je,{path:"/customers",element:s.jsx(Lg,{})}),s.jsx(je,{path:"/invoices",element:s.jsx(Rg,{})}),s.jsx(je,{path:"/invoices/new",element:s.jsx(zg,{})}),s.jsx(je,{path:"/stats",element:s.jsx(Xg,{})}),s.jsx(je,{path:"/categories",element:s.jsx(Tg,{})}),s.jsx(je,{path:"/settings",element:s.jsx(Mg,{})}),s.jsx(je,{path:"/admin/users",element:s.jsx(Vg,{})}),s.jsx(je,{path:"/admin/roles",element:s.jsx(Hg,{})}),s.jsx(je,{path:"/invoices/:id",element:s.jsx(Ig,{})}),s.jsx(je,{path:"/",element:s.jsx(Li,{to:"/dashboard",replace:!0})})]})}),s.jsx(je,{path:"*",element:s.jsx(Li,{to:"/",replace:!0})})]})})})})}function kg(){const{user:e,login:t,error:n,setError:r}=et(),[l,i]=g.useState("admin"),[a,o]=g.useState(""),[u,c]=g.useState(!1),f=ut(),p=ot();g.useEffect(()=>{new URLSearchParams(p.search).get("reason")==="idle"&&r("Wegen Inaktivitt abgemeldet.")},[p.search,r]),g.useEffect(()=>{e&&f("/dashboard",{replace:!0})},[e,f]);const h=async j=>{var y;j.preventDefault(),c(!0),r(null);try{await t(l,a);const v=new URLSearchParams(p.search).get("returnTo")||((y=p.state)==null?void 0:y.from)||"/dashboard";f(v,{replace:!0})}catch(x){const w=x;w.status===429?r("Zu viele Login-Versuche. Bitte kurz warten und erneut versuchen."):w.status===401?r("Login fehlgeschlagen. Bitte Zugangsdaten prfen."):r(w.message||"Login fehlgeschlagen.")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-slate-50",children:s.jsxs("div",{className:"card w-full max-w-md p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-slate-900",children:"RechnungsAPP  Login"}),s.jsxs("form",{className:"space-y-4",onSubmit:h,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Benutzername"}),s.jsx("input",{className:"w-full rounded-md border border-slate-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:j=>i(j.target.value),autoComplete:"username"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Passwort"}),s.jsx("input",{type:"password",className:"w-full rounded-md border border-slate-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:j=>o(j.target.value),autoComplete:"current-password"})]}),s.jsx("button",{type:"submit",className:"w-full rounded-md bg-blue-600 text-white py-2 font-semibold hover:bg-blue-700 transition disabled:opacity-70",disabled:u,children:u?"Anmelden ...":"Einloggen"})]}),n&&s.jsx("p",{className:"mt-4 text-sm text-red-600",children:n})]})})}function _g(){const{user:e,logout:t,setError:n}=et(),r=ut(),l=ot(),i=g.useRef(null),a=g.useRef(0),o=5*60*1e3,u=1e3;return g.useEffect(()=>{const c=()=>{const p=Date.now();p-a.current<u||(a.current=p,i.current&&clearTimeout(i.current),!(!e||l.pathname==="/login")&&(i.current=setTimeout(async()=>{n("Wegen Inaktivitt abgemeldet.");try{await t()}catch{}finally{const h=encodeURIComponent(l.pathname);r(`/login?reason=idle&returnTo=${h}`,{replace:!0})}},o)))},f=["mousemove","mousedown","keydown","touchstart","scroll","visibilitychange"];return f.forEach(p=>window.addEventListener(p,c,{passive:!0})),c(),()=>{f.forEach(p=>window.removeEventListener(p,c)),i.current&&clearTimeout(i.current)}},[e,l.pathname,t,r,n]),null}function Eg(){const{setError:e,logout:t,user:n}=et(),r=ut(),l=ot();return g.useEffect(()=>{const i=async()=>{if(!n)return;try{await t()}catch{}e("Session abgelaufen. Bitte erneut anmelden.");const a=encodeURIComponent(`${l.pathname}${l.search}${l.hash}`);r(`/login?reason=expired&returnTo=${a}`,{replace:!0})};return window.addEventListener("auth-unauthorized",i),()=>window.removeEventListener("auth-unauthorized",i)},[t,r,l.pathname,l.search,l.hash,e,n]),null}function Cg(){const{user:e,loading:t}=et(),n=ot();ut();const r=`${n.pathname}${n.search}${n.hash}`;if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-slate-700",children:"Lade Session ..."})});if(!e&&n.pathname!=="/login"){const l=new URLSearchParams;return l.set("returnTo",r),l.set("reason","expired"),s.jsx(Li,{to:`/login?${l.toString()}`,replace:!0})}return s.jsxs(s.Fragment,{children:[s.jsx(_g,{}),s.jsx(Eg,{}),s.jsx(jd,{})]})}function bg(){const{user:e,logout:t}=et(),n=(e==null?void 0:e.role_name)==="admin",r=n||((e==null?void 0:e.permissions)||[]).includes("stats.view"),[l,i]=g.useState(!1),a={paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},o=[{to:"/dashboard",label:"Dashboard"},{to:"/customers",label:"Kunden"},{to:"/invoices",label:"Rechnungen"},...r?[{to:"/stats",label:"Statistiken"}]:[],...n?[{to:"/categories",label:"Kategorien"},{to:"/settings",label:"Einstellungen"},{to:"/admin/users",label:"Admin: Benutzer"},{to:"/admin/roles",label:"Admin: Rollen & Rechte"}]:[]];return s.jsxs("div",{className:"bg-slate-50 text-slate-900 min-h-[100dvh] h-[100dvh] flex flex-col",style:a,children:[s.jsx("header",{className:"bg-white border-b border-slate-200 shadow-sm flex-none",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"md:hidden rounded-md border border-slate-200 px-2 py-1",onClick:()=>i(u=>!u),children:""}),s.jsx("div",{className:"font-semibold",children:"RechnungsAPP"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-slate-600 hidden md:inline",children:["Eingeloggt als ",e==null?void 0:e.username," ",n?"(Admin)":""]}),s.jsx(K,{variant:"secondary",onClick:t,children:"Logout"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[l&&s.jsx("div",{className:"fixed inset-0 z-30 bg-black/30 md:hidden",onClick:()=>i(!1),"aria-label":"Sidebar schlieen"}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 h-full flex gap-4",children:[s.jsx("aside",{className:`z-40 md:z-auto w-64 shrink-0 bg-white border border-slate-200 rounded-lg shadow-sm p-3 ${l?"fixed inset-y-0 left-0 m-4 md:static":"hidden md:block"} overflow-y-auto`,style:{maxHeight:"calc(100dvh - 2rem)",WebkitOverflowScrolling:"touch"},children:s.jsx("nav",{className:"flex flex-col gap-1",children:o.map(u=>s.jsx(jg,{to:u.to,label:u.label,onClick:()=>i(!1)},u.to))})}),s.jsx("main",{className:"flex-1 min-w-0 h-full overflow-y-auto",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},children:s.jsx(jd,{})})]})]})]})}function Pg(){const{user:e}=et(),t=ut(),r=(e==null?void 0:e.role_name)==="admin"||((e==null?void 0:e.permissions)||[]).includes("stats.view"),l=g.useMemo(()=>["Rechnungen","Kunden",...r?["Statistiken"]:[],"Einstellungen"],[r]),[i,a]=g.useState([]),[o,u]=g.useState(null),[c,f]=g.useState(!0);g.useEffect(()=>{u(null),f(!0),qh(10).then(a).catch(j=>u({type:"error",message:j.message||"Rechnungen konnten nicht geladen werden."})).finally(()=>f(!1))},[]);const p=j=>j.status_paid_at?{text:"bezahlt",tone:"green"}:j.status_sent?{text:"gesendet",tone:"blue"}:{text:"offen",tone:"amber"},h=j=>s.jsx(wt,{items:[{label:"ffnen",onClick:()=>t(`/invoices/${j.id}`)},{label:"PDF ffnen",onClick:()=>window.open(`/api/invoices/${j.id}/pdf?mode=inline`,"_blank")},...(e==null?void 0:e.role_name)==="admin"?[{label:"PDF neu erstellen",onClick:async()=>{try{await Ra(j.id),window.open(`/api/invoices/${j.id}/pdf?mode=inline`,"_blank")}catch(y){alert((y==null?void 0:y.message)||"PDF konnte nicht neu erstellt werden.")}}}]:[]]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-slate-700",children:"Schnelle Navigation zu den wichtigsten Bereichen."})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:l.map(j=>s.jsxs(Sd,{to:j==="Rechnungen"?"/invoices":j==="Kunden"?"/customers":j==="Statistiken"?"/stats":"/settings",className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm hover:border-blue-300 transition",children:[s.jsx("div",{className:"font-semibold mb-1",children:j}),s.jsx("div",{className:"text-sm text-slate-600",children:"ffnen"})]},j))}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Letzte Rechnungen"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Die 10 aktuellsten Rechnungen mit Status."})]}),c&&s.jsx("span",{className:"text-xs text-slate-500",children:"Lade ..."})]}),o&&s.jsx(X,{type:o.type==="error"?"error":"success",children:o.message}),!c&&!i.length&&!o&&s.jsx(ls,{title:"Noch keine Rechnungen",description:"Lege eine neue Rechnung an, um zu starten."}),!c&&i.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[s.jsx("th",{className:"px-3 py-2",children:"Nr"}),s.jsx("th",{className:"px-3 py-2",children:"Kunde"}),s.jsx("th",{className:"px-3 py-2",children:"Kategorie"}),s.jsx("th",{className:"px-3 py-2",children:"Datum"}),s.jsx("th",{className:"px-3 py-2",children:"Status"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Betrag"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Aktion"})]})}),s.jsx("tbody",{children:i.map(j=>{const y=p(j);return s.jsxs("tr",{className:"border-b border-slate-100",children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:j.invoice_number}),s.jsx("td",{className:"px-3 py-2 text-slate-700",children:j.recipient_name||""}),s.jsx("td",{className:"px-3 py-2 text-slate-700",children:j.category_label||""}),s.jsx("td",{className:"px-3 py-2 text-slate-600",children:j.date?new Date(j.date).toLocaleDateString():""}),s.jsx("td",{className:"px-3 py-2",children:s.jsx(Ln,{tone:y.tone,children:y.text})}),s.jsx("td",{className:"px-3 py-2 text-right",children:j.gross_total!=null?j.gross_total.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}):""}),s.jsx("td",{className:"px-3 py-2 text-right",children:h(j)})]},j.id)})})]})})]})]})}function Lg(){const[e,t]=g.useState([]),[n,r]=g.useState([]),[l,i]=g.useState([]),[a,o]=g.useState(""),[u,c]=g.useState(!0),[f,p]=g.useState(null),[h,j]=g.useState(null),[y,x]=g.useState(null),[w,v]=g.useState(!1),[m,d]=g.useState(null),S=(E,N)=>{const b=N.toLowerCase();return b?E.filter(T=>[T.name,T.email,T.city,T.zip].some(G=>(G||"").toLowerCase().includes(b))):E},k=async()=>{c(!0),p(null);try{const E=await Nd();t(E),i(S(E,a))}catch(E){p(E.message||"Kunden konnten nicht geladen werden.")}finally{c(!1)}};g.useEffect(()=>{k()},[]),g.useEffect(()=>{i(S(e,a))},[e,a]);const _=async E=>{var N;v(!0),d(null);try{await Xh(E),t(b=>b.filter(T=>T.id!==E)),d({type:"success",message:"Kunde gelscht."})}catch(b){const T=b,G=(N=T==null?void 0:T.message)!=null&&N.includes("existieren noch Rechnungen")?"Lschen nicht mglich: Es existieren noch Rechnungen fr diesen Kunden.":T.message||"Kunde konnte nicht gelscht werden.";d({type:"error",message:G})}finally{v(!1),x(null)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Kunden"}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Empfnger verwalten (Name erforderlich, sonst optional)."})]}),s.jsx(K,{onClick:()=>j({mode:"create"}),children:"Neu"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsx(U,{placeholder:"Suchen...",value:a,onChange:E=>o(E.target.value),className:"w-64"}),s.jsx(wt,{items:[{label:"Aktualisieren",onClick:k}]})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Kunden ..."]}),f&&s.jsx(X,{type:"error",children:f}),!u&&!l.length&&!f&&s.jsx(ls,{title:"Keine Kunden gefunden",description:"Lege einen neuen Kunden an, um zu starten."}),!u&&l.length>0&&s.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[s.jsx("th",{className:"px-3 py-2",children:"Name"}),s.jsx("th",{className:"px-3 py-2",children:"Email"}),s.jsx("th",{className:"px-3 py-2",children:"Ort"}),s.jsx("th",{className:"px-3 py-2 w-32 text-right",children:"Aktionen"})]})}),s.jsx("tbody",{children:l.map(E=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:E.name}),s.jsx("td",{className:"px-3 py-2 text-slate-600",children:E.email||""}),s.jsx("td",{className:"px-3 py-2 text-slate-600",children:[E.zip,E.city].filter(Boolean).join(" ")||""}),s.jsx("td",{className:"px-3 py-2 text-right",children:s.jsx(wt,{items:[{label:"Bearbeiten",onClick:()=>j({mode:"edit",customer:E})},{label:"Lschen",danger:!0,onClick:()=>x(E.id)}]})})]},E.id))})]})}),m&&s.jsx(X,{type:m.type==="success"?"success":"error",children:m.message}),h&&s.jsx(Dg,{mode:h.mode,customer:h.customer,onClose:()=>j(null),onSaved:E=>{j(null),h.mode==="edit"&&E?t(N=>N.map(b=>b.id===E.id?E:b)):E&&t(N=>[...N,E]),d({type:"success",message:"Kunde gespeichert."})},onError:E=>d({type:"error",message:E})}),y!==null&&s.jsx(ss,{title:"Kunde lschen?",description:"Wenn zu diesem Kunden Rechnungen existieren, kann er nicht gelscht werden.",onConfirm:()=>_(y),onCancel:()=>x(null),busy:w})]})}function Tg(){const[e,t]=g.useState([]),[n,r]=g.useState([]),[l,i]=g.useState(""),[a,o]=g.useState(!0),[u,c]=g.useState(null),[f,p]=g.useState(null),[h,j]=g.useState(null),[y,x]=g.useState(null),[w,v]=g.useState(!1),m=(_,E)=>{const N=E.toLowerCase();return N?_.filter(b=>(b.label||"").toLowerCase().includes(N)||(b.key||"").toLowerCase().includes(N)):_},d=async()=>{o(!0),c(null);try{const[_,E]=await Promise.all([za(),zi().catch(()=>[])]);t(_),r(E)}catch(_){c(_.message||"Kategorien konnten nicht geladen werden.")}finally{o(!1)}};g.useEffect(()=>{d()},[]);const S=m(e,l),k=async _=>{v(!0),p(null);try{await mg(_),t(E=>E.filter(N=>N.id!==_)),p({type:"success",message:"Kategorie gelscht."})}catch(E){p({type:"error",message:E.message||"Kategorie konnte nicht gelscht werden."})}finally{v(!1),x(null)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Kategorien"}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Logos, Templates und SMTP pro Kategorie verwalten."})]}),s.jsx(K,{onClick:()=>j({mode:"create"}),children:"Neu"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsx(U,{placeholder:"Suche nach Label/Key",value:l,onChange:_=>i(_.target.value),className:"w-64"}),s.jsx(wt,{items:[{label:"Aktualisieren",onClick:d}]})]}),a&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Kategorien ..."]}),u&&s.jsx(X,{type:"error",children:u}),!a&&!S.length&&!u&&s.jsx(ls,{title:"Keine Kategorien",description:"Lege eine neue Kategorie mit Logo an."}),!a&&S.length>0&&s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:S.map(_=>s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-white shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[_.logo_file?s.jsx("img",{src:`/logos/${_.logo_file}`,alt:"Logo",className:"w-12 h-12 object-contain border border-slate-200 rounded"}):s.jsx("div",{className:"w-12 h-12 border border-dashed border-slate-200 rounded flex items-center justify-center text-xs text-slate-500",children:"Logo"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.label}),s.jsx("div",{className:"text-xs text-slate-500",children:_.key})]})]}),s.jsx(wt,{items:[{label:"Bearbeiten",onClick:()=>j({mode:"edit",category:_})},{label:"Lschen",danger:!0,onClick:()=>x(_.id)}]})]}),_.template&&s.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[s.jsx("div",{className:"font-semibold",children:"Template:"}),s.jsx("div",{children:_.template.subject})]}),_.email_account&&s.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[s.jsx("div",{className:"font-semibold",children:"SMTP:"}),s.jsx("div",{children:_.email_account.email_address})]})]},_.id))}),f&&s.jsx(X,{type:f.type==="success"?"success":"error",children:f.message}),h&&s.jsx(Og,{mode:h.mode,category:h.category,logos:n,onClose:()=>j(null),onSaved:_=>{j(null),h.mode==="edit"?t(E=>E.map(N=>N.id===_.id?_:N)):t(E=>[...E,_]),p({type:"success",message:"Kategorie gespeichert."})},onError:_=>p({type:"error",message:_})}),y!==null&&s.jsx(ss,{title:"Kategorie lschen?",description:"Kategorie wird entfernt. Stelle sicher, dass keine Rechnungen sie bentigen.",onConfirm:()=>k(y),onCancel:()=>x(null),busy:w})]})}function Rg(){const e=ut(),[t,n]=g.useState([]),[r,l]=g.useState([]),[i,a]=g.useState(""),[o,u]=g.useState("all"),[c,f]=g.useState("all"),[p,h]=g.useState(""),[j,y]=g.useState(""),[x,w]=g.useState(""),[v,m]=g.useState([]),[d,S]=g.useState(!0),[k,_]=g.useState(null),[E,N]=g.useState(null),[b,T]=g.useState(null),[G,ne]=g.useState(null),[O,B]=g.useState({loading:!1,data:null,error:null}),[Q,R]=g.useState({open:!1}),F=P=>P.status_paid_at?"paid":P.status_sent?"sent":"open",C=P=>{const A=P.datev_export_status;return A==="SUCCESS"||A==="SENT"?{text:P.datev_exported_at?` ${new Date(P.datev_exported_at).toLocaleDateString()}`:""}:A==="FAILED"?{text:"",error:P.datev_export_error}:A==="SKIPPED"?{text:"",error:P.datev_export_error}:{text:""}},z=(P,A,W,ze)=>{const is=A.toLowerCase();return P.filter(Or=>{const Id=!is||Or.invoice_number.toLowerCase().includes(is)||(Or.recipient_name||"").toLowerCase().includes(is),Od=F(Or),Md=W==="all"||Od===W,Fd=ze==="all"||Or.category_label===ze;return Id&&Md&&Fd})},I=async()=>{S(!0),_(null);try{const[P,A]=await Promise.all([Zh({from:p||void 0,to:j||void 0,customer:x||void 0,status:o==="all"?void 0:[o],category:c==="all"?void 0:c}),za().catch(()=>[])]);n(P),m(A),l(z(P,i,o,c))}catch(P){_(P.message||"Rechnungen konnten nicht geladen werden.")}finally{S(!1)}};g.useEffect(()=>{I()},[]),g.useEffect(()=>{l(z(t,i,o,c))},[t,i,o,c]);const $=async P=>{B({loading:!0,data:null,error:null});try{const A=await Cd(P);B({loading:!1,data:A,error:null})}catch(A){const W=A;let ze=W.message||"Vorschau konnte nicht geladen werden.";(W.status===401||W.status===403)&&(ze="Keine Berechtigung."),B({loading:!1,data:null,error:ze})}},ae=(P,A)=>{R({open:!0,id:P,to:A||""})},un=async P=>{ne(P),T(null);try{const A=await Ra(P);T({type:"success",message:`PDF neu erstellt (${A.filename})${A.size?`, ${A.size} Bytes`:""}.`}),window.open(`/api/invoices/${P}/pdf?mode=inline`,"_blank")}catch(A){T({type:"error",message:A.message||"PDF konnte nicht neu erstellt werden."})}finally{ne(null)}},ct=async()=>{if(Q.id){if(!Q.to||!Q.to.trim()){T({type:"error",message:"Bitte Empfnger-E-Mail angeben."});return}ne(Q.id),T(null);try{const P=await bd(Q.id,{to:Q.to.trim(),subject:Q.subject||void 0,message:Q.message||void 0,include_datev:Q.includeDatev});T({type:"success",message:P.message||"E-Mail gesendet."}),R({open:!1})}catch(P){const A=P;let W=A.message||"E-Mail konnte nicht gesendet werden.";(A.status===401||A.status===403)&&(W="Keine Berechtigung."),T({type:"error",message:W})}finally{ne(null)}}},Vn=async P=>{ne(P),T(null);try{const A=await Pd(P);T({type:"success",message:A.message||"DATEV Export gestartet."})}catch(A){const ze=A.message||"DATEV Export fehlgeschlagen.";T({type:"error",message:ze})}finally{ne(null)}},dt=async P=>{ne(P),T(null);try{await ng(P),n(A=>A.filter(W=>W.id!==P)),T({type:"success",message:"Rechnung gelscht."})}catch(A){const ze=A.message||"Rechnung konnte nicht gelscht werden.";T({type:"error",message:ze})}finally{ne(null)}},cn=async P=>{ne(P),T(null);try{await _d(P),n(A=>A.map(W=>W.id===P?{...W,status_sent:!0,status_sent_at:new Date().toISOString()}:W)),T({type:"success",message:"Als gesendet markiert."})}catch(A){const W=A,ze=W.status===401||W.status===403?"Keine Berechtigung.":W.status===429?"Zu viele Versuche. Bitte kurz warten.":W.message||"Konnte nicht markieren.";T({type:"error",message:ze})}finally{ne(null)}},Dd=async P=>{ne(P),T(null);try{await Ed(P),n(A=>A.map(W=>W.id===P?{...W,status_paid_at:new Date().toISOString()}:W)),T({type:"success",message:"Als bezahlt markiert."})}catch(A){const W=A,ze=W.status===401||W.status===403?"Keine Berechtigung.":W.status===429?"Zu viele Versuche. Bitte kurz warten.":W.message||"Konnte nicht markieren.";T({type:"error",message:ze})}finally{ne(null)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Rechnungen"}),s.jsx("p",{className:"text-slate-600 text-sm",children:"PDF-Aktionen direkt an der Rechnung."})]}),s.jsx(K,{onClick:()=>e("/invoices/new"),children:"Neu"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsx(U,{placeholder:"Suche nach Nummer oder Kunde",value:i,onChange:P=>a(P.target.value),className:"w-64"}),s.jsx(U,{type:"date",value:p,onChange:P=>h(P.target.value),className:"w-44",placeholder:"Von"}),s.jsx(U,{type:"date",value:j,onChange:P=>y(P.target.value),className:"w-44",placeholder:"Bis"}),s.jsx(U,{placeholder:"Kunde (Filter)",value:x,onChange:P=>w(P.target.value),className:"w-48"}),s.jsxs(sn,{value:o,onChange:P=>u(P.target.value),className:"w-40",children:[s.jsx("option",{value:"all",children:"Alle Status"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"sent",children:"Gesendet"}),s.jsx("option",{value:"paid",children:"Bezahlt"})]}),s.jsxs(sn,{value:c,onChange:P=>f(P.target.value),className:"w-48",children:[s.jsx("option",{value:"all",children:"Alle Kategorien"}),v.map(P=>s.jsx("option",{value:P.label,children:P.label},P.id))]}),s.jsx(wt,{items:[{label:"Aktualisieren",onClick:I}]})]}),d&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Rechnungen ..."]}),k&&s.jsx(X,{type:"error",children:k}),!d&&!r.length&&!k&&s.jsx(ls,{title:"Keine Rechnungen",description:"Lege eine neue Rechnung an."}),!d&&r.length>0&&s.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[s.jsx("th",{className:"px-3 py-2",children:"Nr."}),s.jsx("th",{className:"px-3 py-2",children:"Datum"}),s.jsx("th",{className:"px-3 py-2",children:"Kunde"}),s.jsx("th",{className:"px-3 py-2",children:"Kategorie"}),s.jsx("th",{className:"px-3 py-2",children:"Betrag"}),s.jsx("th",{className:"px-3 py-2",children:"Status"}),s.jsx("th",{className:"px-3 py-2",children:"DATEV"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Aktionen"})]})}),s.jsx("tbody",{children:r.map(P=>{const A=F(P),W=C(P);return s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"px-3 py-2 font-semibold",children:P.invoice_number}),s.jsx("td",{className:"px-3 py-2 text-slate-600",children:P.date?new Date(P.date).toLocaleDateString():""}),s.jsx("td",{className:"px-3 py-2 text-slate-700",children:P.recipient_name||""}),s.jsx("td",{className:"px-3 py-2 text-slate-600",children:P.category_label||""}),s.jsx("td",{className:"px-3 py-2 text-slate-700",children:P.gross_total!=null?`${P.gross_total.toFixed(2)} `:""}),s.jsx("td",{className:"px-3 py-2",children:A==="paid"?s.jsx("span",{className:"text-green-700",children:"Bezahlt"}):A==="sent"?s.jsx("span",{className:"text-blue-700",children:"Gesendet"}):s.jsx("span",{className:"text-amber-700",children:"Offen"})}),s.jsxs("td",{className:"px-3 py-2 text-slate-700",children:[W.text,W.error&&s.jsx("div",{className:"text-xs text-amber-700",children:W.error})]}),s.jsx("td",{className:"px-3 py-2 text-right",children:s.jsx(wt,{items:[{label:"ffnen",onClick:()=>e(`/invoices/${P.id}`)},{label:"Bearbeiten",onClick:()=>N({mode:"edit",id:P.id})},{label:"PDF ffnen",onClick:()=>window.open(`/api/invoices/${P.id}/pdf?mode=inline`,"_blank")},{label:G===P.id?"PDF ":"PDF neu erstellen",onClick:()=>un(P.id)},{label:"E-Mail Vorschau",onClick:()=>$(P.id)},{label:"E-Mail senden",onClick:()=>ae(P.id,P.recipient_email||"")},{label:"DATEV Export",onClick:()=>Vn(P.id)},{label:"Als gesendet markieren",onClick:()=>cn(P.id)},{label:"Als bezahlt markieren",onClick:()=>Dd(P.id)},{label:"Lschen",danger:!0,onClick:()=>dt(P.id)}]})})]},P.id)})})]})}),b&&s.jsx(X,{type:b.type==="success"?"success":"error",children:b.message}),E&&s.jsx(zd,{mode:E.mode,id:E.id,onClose:()=>N(null),onSaved:(P,A)=>{T({type:"success",message:`Rechnung ${A} gespeichert.`}),e(`/invoices/${P}`),I()},onError:P=>T({type:"error",message:P})}),(O.loading||O.data||O.error)&&s.jsxs(it,{title:"E-Mail Vorschau",onClose:()=>B({loading:!1,data:null,error:null}),children:[O.loading&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Vorschau ..."]}),O.error&&s.jsx(X,{type:"error",children:O.error}),O.data&&s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Betreff"}),s.jsx("div",{children:O.data.subject})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"HTML"}),s.jsx("div",{className:"border border-slate-200 rounded p-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:O.data.body_html||"<em>(leer)</em>"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Text"}),s.jsx("pre",{className:"border border-slate-200 rounded p-3 whitespace-pre-wrap",children:O.data.body_text})]}),s.jsxs("div",{className:"text-xs text-slate-600",children:["Von: ",O.data.from||"n/a"," | SMTP: ",O.data.smtp_ready?"konfiguriert":"fehlt"]})]})]}),Q.open&&s.jsx(it,{title:"Rechnung per E-Mail senden",onClose:()=>R({open:!1}),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Empfnger"}),s.jsx(U,{value:Q.to||"",onChange:P=>R(A=>({...A,to:P.target.value})),placeholder:"kunde@example.com"})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Betreff (optional)"}),s.jsx(U,{value:Q.subject||"",onChange:P=>R(A=>({...A,subject:P.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Nachricht (optional)"}),s.jsx(Rd,{value:Q.message||"",onChange:P=>R(A=>({...A,message:P.target.value})),className:"min-h-[100px]"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:Q.includeDatev||!1,onChange:P=>R(A=>({...A,includeDatev:P.target.checked}))}),s.jsx("span",{children:"DATEV-Adresse (falls hinterlegt) einbeziehen"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(K,{variant:"secondary",onClick:()=>R({open:!1}),children:"Abbrechen"}),s.jsx(K,{onClick:ct,disabled:G===Q.id,children:G===Q.id?"Sendet...":"Senden"})]})]})})]})}function zg(){const e=ut(),[t,n]=g.useState(null);return s.jsxs("div",{className:"space-y-4",children:[t&&s.jsx(X,{type:t.type==="error"?"error":"success",children:t.message}),s.jsx(zd,{asPage:!0,mode:"create",titleOverride:"Neue Rechnung",onClose:()=>e("/invoices"),onCancel:()=>e("/invoices"),onSaved:(r,l)=>{n({type:"success",message:`Rechnung ${l} erstellt.`}),e(`/invoices/${r}`)},onError:r=>n({type:"error",message:r})})]})}function Dg({mode:e,customer:t,onClose:n,onSaved:r,onError:l}){const[i,a]=g.useState({name:(t==null?void 0:t.name)||"",street:(t==null?void 0:t.street)||"",zip:(t==null?void 0:t.zip)||"",city:(t==null?void 0:t.city)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[o,u]=g.useState(!1),[c,f]=g.useState(null),p=async h=>{if(h.preventDefault(),f(null),!i.name.trim()){f("Name ist erforderlich.");return}u(!0);try{const j={name:i.name.trim(),street:i.street.trim()||null,zip:i.zip.trim()||null,city:i.city.trim()||null,email:i.email.trim()||null,phone:i.phone.trim()||null};if(e==="create"){const y=await Gh(j);r({id:y.id,...j})}else t&&(await Yh(t.id,j),r({id:t.id,...j}))}catch(j){const x=j.message||"Speichern fehlgeschlagen.";f(x),l(x);return}finally{u(!1)}};return s.jsx(it,{title:e==="create"?"Neuer Kunde":"Kunde bearbeiten",onClose:n,children:s.jsxs("form",{className:"space-y-3",onSubmit:p,children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Name *"}),s.jsx(U,{value:i.name,onChange:h=>a(j=>({...j,name:h.target.value})),required:!0})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"E-Mail"}),s.jsx(U,{type:"email",value:i.email,onChange:h=>a(j=>({...j,email:h.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Strae"}),s.jsx(U,{value:i.street,onChange:h=>a(j=>({...j,street:h.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"PLZ"}),s.jsx(U,{value:i.zip,onChange:h=>a(j=>({...j,zip:h.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Ort"}),s.jsx(U,{value:i.city,onChange:h=>a(j=>({...j,city:h.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Telefon"}),s.jsx(U,{value:i.phone,onChange:h=>a(j=>({...j,phone:h.target.value}))})]})]}),c&&s.jsx(X,{type:"error",children:c}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(K,{variant:"secondary",onClick:n,type:"button",children:"Abbrechen"}),s.jsx(K,{type:"submit",disabled:o,children:o?"Speichern ...":"Speichern"})]})]})})}function zd({mode:e,id:t,onClose:n,onSaved:r,onError:l,asPage:i=!1,titleOverride:a,onCancel:o}){const[u,c]=g.useState([]),[f,p]=g.useState([]),[h,j]=g.useState([{description:"",quantity:1,unit_price_gross:0,vat_key:1}]),[y,x]=g.useState({recipient_id:"",name:"",street:"",zip:"",city:"",email:"",invoice_number:"",date:new Date().toISOString().slice(0,10),b2b:!1,ust_id:"",category_key:"",reservation_request_id:""}),[w,v]=g.useState(!0),[m,d]=g.useState(!1),[S,k]=g.useState(null),_=n||(()=>{}),E=()=>{o?o():_()},N=async()=>{var R;v(!0),k(null);try{const[F,C,z]=await Promise.all([Nd(),za().catch(()=>[]),e==="create"?Zo():Promise.resolve({next_number:""})]);if(c(F),p(C),e==="create"){const I=z.next||z.next_number||"";x($=>({...$,invoice_number:I||$.invoice_number}))}if(e==="edit"&&t){const I=await kd(t);x({recipient_id:I.invoice.recipient.id?String(I.invoice.recipient.id):"",name:I.invoice.recipient.name||"",street:I.invoice.recipient.street||"",zip:I.invoice.recipient.zip||"",city:I.invoice.recipient.city||"",email:I.invoice.recipient.email||"",invoice_number:I.invoice.invoice_number,date:((R=I.invoice.date)==null?void 0:R.slice(0,10))||"",b2b:I.invoice.b2b===!0,ust_id:I.invoice.ust_id||"",category_key:I.invoice.category||"",reservation_request_id:I.invoice.reservation_request_id||""}),j(I.items.map($=>({id:$.id,description:$.description,quantity:Number($.quantity),unit_price_gross:Number($.unit_price_gross),vat_key:Number($.vat_key)})))}}catch(F){const z=F.message||"Daten konnten nicht geladen werden.";k(z)}finally{v(!1)}};g.useEffect(()=>{N()},[]);const b=async()=>{k(null);try{const R=await Zo(),F=R.next||R.next_number||"";F&&x(C=>({...C,invoice_number:F}))}catch(R){k(R.message||"Rechnungsnummer konnte nicht ermittelt werden.")}},T=R=>{x(z=>({...z,recipient_id:R}));const F=Number(R),C=u.find(z=>z.id===F);C&&x(z=>({...z,name:C.name||"",street:C.street||"",zip:C.zip||"",city:C.city||"",email:C.email||""}))},G=(R,F,C)=>{j(z=>z.map((I,$)=>$===R?{...I,[F]:C}:I))},ne=()=>j(R=>[...R,{description:"",quantity:1,unit_price_gross:0,vat_key:1}]),O=R=>j(F=>F.filter((C,z)=>z!==R)),B=async R=>{var F;if(R.preventDefault(),k(null),!y.name.trim()){k("Empfngername ist erforderlich.");return}if(e==="edit"&&!y.invoice_number.trim()){k("Rechnungsnummer fehlt.");return}if(!y.date){k("Rechnungsdatum fehlt.");return}if(!h.length){k("Mindestens eine Position ist erforderlich.");return}if(h.some(C=>!C.description.trim()||Number(C.quantity)<=0||Number(C.unit_price_gross)<=0)){k("Bitte alle Positionen ausfllen (Beschreibung, Menge > 0, Preis > 0).");return}if(y.b2b&&!y.ust_id.trim()){k("Fr B2B ist eine USt-ID erforderlich.");return}d(!0);try{const C={recipient:{name:y.name.trim(),street:y.street.trim(),zip:y.zip.trim(),city:y.city.trim(),email:y.email.trim()||null},invoice:{invoice_number:y.invoice_number.trim(),date:y.date,b2b:y.b2b,ust_id:y.ust_id.trim()||null,category:y.category_key||null,reservation_request_id:y.reservation_request_id.trim()||null},items:h.map(z=>({description:z.description.trim(),quantity:Number(z.quantity),unit_price_gross:Number(z.unit_price_gross),vat_key:Number(z.vat_key)}))};if(e==="create"){const z=await eg(C);r(z.invoice_id,C.invoice.invoice_number),i||j([{description:"",quantity:1,unit_price_gross:0,vat_key:1}])}else t&&(await tg(t,C),r(t,C.invoice.invoice_number));i||_()}catch(C){const z=C,I=z.message||"Rechnung konnte nicht gespeichert werden.";k(I),l&&l(I);const $=(F=C==null?void 0:C.data)==null?void 0:F.suggested_next_number;z.status===409&&$&&x(ae=>({...ae,invoice_number:$}));return}finally{d(!1)}},Q=w?s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Daten ..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Empfnger auswhlen"}),s.jsxs(sn,{value:y.recipient_id,onChange:R=>T(R.target.value),children:[s.jsx("option",{value:"",children:" Manuell erfassen "}),u.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsxs("span",{className:"font-medium flex items-center justify-between gap-2",children:[s.jsx("span",{children:"Rechnungsnummer"}),e==="create"&&s.jsx("button",{type:"button",className:"text-xs text-blue-600 hover:underline",onClick:b,children:"Neu berechnen"})]}),s.jsx(U,{value:y.invoice_number,onChange:R=>x(F=>({...F,invoice_number:R.target.value})),required:!0})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Kategorie"}),s.jsxs(sn,{value:y.category_key,onChange:R=>x(F=>({...F,category_key:R.target.value})),children:[s.jsx("option",{value:"",children:" Keine "}),f.map(R=>s.jsx("option",{value:R.key,children:R.label},R.id))]})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"HK-Forms-ID (optional)"}),s.jsx(U,{value:y.reservation_request_id,onChange:R=>x(F=>({...F,reservation_request_id:R.target.value})),placeholder:"Reservation Request ID"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Fr HKForms Sync / Reservation Request."})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Datum"}),s.jsx(U,{type:"date",value:y.date,onChange:R=>x(F=>({...F,date:R.target.value})),required:!0})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 mt-6",children:[s.jsx("input",{type:"checkbox",checked:y.b2b,onChange:R=>x(F=>({...F,b2b:R.target.checked}))}),s.jsx("span",{children:"B2B (USt-ID Pflicht)"})]}),y.b2b&&s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"USt-ID"}),s.jsx(U,{value:y.ust_id,onChange:R=>x(F=>({...F,ust_id:R.target.value}))})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Name *"}),s.jsx(U,{value:y.name,onChange:R=>x(F=>({...F,name:R.target.value})),required:!0})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"E-Mail"}),s.jsx(U,{value:y.email,onChange:R=>x(F=>({...F,email:R.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Strae *"}),s.jsx(U,{value:y.street,onChange:R=>x(F=>({...F,street:R.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"PLZ *"}),s.jsx(U,{value:y.zip,onChange:R=>x(F=>({...F,zip:R.target.value}))})]}),s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Ort *"}),s.jsx(U,{value:y.city,onChange:R=>x(F=>({...F,city:R.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold",children:"Positionen"}),s.jsx(K,{variant:"secondary",type:"button",onClick:ne,children:"Position hinzufgen"})]}),s.jsx("div",{className:"space-y-2",children:h.map((R,F)=>s.jsxs("div",{className:"grid md:grid-cols-4 gap-2 items-center border border-slate-200 rounded-md p-3",children:[s.jsx("input",{className:"input md:col-span-2",placeholder:"Beschreibung",value:R.description,onChange:C=>G(F,"description",C.target.value)}),s.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",value:R.quantity,onChange:C=>G(F,"quantity",Number(C.target.value))}),s.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",value:R.unit_price_gross,onChange:C=>G(F,"unit_price_gross",Number(C.target.value))}),s.jsxs("select",{className:"input",value:R.vat_key,onChange:C=>G(F,"vat_key",Number(C.target.value)),children:[s.jsx("option",{value:1,children:"19% MwSt"}),s.jsx("option",{value:2,children:"7% MwSt"})]}),s.jsx("div",{className:"flex justify-end",children:h.length>1&&s.jsx(K,{variant:"ghost",type:"button",onClick:()=>O(F),children:"Entfernen"})})]},F))})]}),S&&s.jsx(X,{type:"error",children:S}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(K,{variant:"secondary",type:"button",onClick:E,children:"Abbrechen"}),s.jsx(K,{type:"submit",disabled:m,children:m?"Speichern ...":"Speichern"})]})]});return i?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:a||(e==="create"?"Neue Rechnung":"Rechnung bearbeiten")}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Stammdaten und Positionen erfassen."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(K,{variant:"secondary",type:"button",onClick:E,children:"Abbrechen"}),!w&&s.jsx(K,{type:"submit",form:"invoice-form-main",disabled:m,children:m?"Speichern ...":"Speichern"})]})]}),s.jsx("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4",children:w?Q:s.jsx("form",{id:"invoice-form-main",className:"space-y-3",onSubmit:B,children:Q})})]}):s.jsx(it,{title:a||(e==="create"?"Neue Rechnung":"Rechnung bearbeiten"),onClose:_,children:w?Q:s.jsx("form",{className:"space-y-3",onSubmit:B,children:Q})})}function Ig(){const{id:e}=Wm(),t=ut(),[n,r]=g.useState(null),[l,i]=g.useState(!0),[a,o]=g.useState(null),[u,c]=g.useState(null),[f,p]=g.useState(!1),[h,j]=g.useState({loading:!1,data:null,error:null}),[y,x]=g.useState({open:!1}),w=async()=>{if(e){i(!0),o(null);try{const b=await kd(Number(e));r(b)}catch(b){o(b.message||"Rechnung konnte nicht geladen werden.")}finally{i(!1)}}};g.useEffect(()=>{w()},[e]);const v=()=>n?n.invoice.status_paid_at?s.jsx(Ln,{tone:"green",children:"Bezahlt"}):n.invoice.status_sent?s.jsx(Ln,{tone:"blue",children:"Gesendet"}):s.jsx(Ln,{tone:"amber",children:"Offen"}):null,m=async()=>{if(n){p(!0),c(null);try{await Ra(n.invoice.id),window.open(`/api/invoices/${n.invoice.id}/pdf?mode=inline`,"_blank"),c({type:"success",message:"PDF neu erstellt."})}catch(b){c({type:"error",message:b.message||"PDF konnte nicht neu erstellt werden."})}finally{p(!1)}}},d=async()=>{if(n){p(!0),c(null);try{await _d(n.invoice.id),r(b=>b&&{...b,invoice:{...b.invoice,status_sent:!0,status_sent_at:new Date().toISOString()}}),c({type:"success",message:"Als gesendet markiert."})}catch(b){c({type:"error",message:b.message||"Konnte nicht markieren."})}finally{p(!1)}}},S=async()=>{if(n){p(!0),c(null);try{await Ed(n.invoice.id),r(b=>b&&{...b,invoice:{...b.invoice,status_paid_at:new Date().toISOString()}}),c({type:"success",message:"Als bezahlt markiert."})}catch(b){c({type:"error",message:b.message||"Konnte nicht markieren."})}finally{p(!1)}}},k=async()=>{if(n){j({loading:!0,data:null,error:null});try{const b=await Cd(n.invoice.id);j({loading:!1,data:b,error:null})}catch(b){j({loading:!1,data:null,error:b.message||"Vorschau konnte nicht geladen werden."})}}},_=async()=>{if(n){if(!y.to||!y.to.trim()){c({type:"error",message:"Bitte Empfnger-E-Mail angeben."});return}p(!0),c(null);try{const b=await bd(n.invoice.id,{to:y.to.trim()});c({type:"success",message:b.message||"E-Mail gesendet."}),x({open:!1})}catch(b){c({type:"error",message:b.message||"E-Mail konnte nicht gesendet werden."})}finally{p(!1)}}},E=async()=>{if(n){p(!0),c(null);try{const b=await Pd(n.invoice.id);c({type:"success",message:b.message||"DATEV Export gestartet."})}catch(b){c({type:"error",message:b.message||"DATEV Export fehlgeschlagen."})}finally{p(!1)}}};if(l)return s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Rechnung ..."]});if(a||!n)return s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{type:"error",children:a||"Rechnung nicht gefunden."}),s.jsx(K,{variant:"secondary",onClick:()=>t("/invoices"),children:"Zurck zur bersicht"})]});const N=n.invoice;return s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Rechnung ",N.invoice_number]}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Details und Aktionen"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[v(),s.jsx(wt,{items:[{label:"PDF ffnen",onClick:()=>window.open(`/api/invoices/${N.id}/pdf?mode=inline`,"_blank")},{label:f?"PDF ":"PDF neu erstellen",onClick:m},{label:"E-Mail Vorschau",onClick:k},{label:"E-Mail senden",onClick:()=>x({open:!0,to:N.recipient.email||""})},{label:"DATEV Export",onClick:E},{label:"Als gesendet markieren",onClick:d},{label:"Als bezahlt markieren",onClick:S}]})]})]}),u&&s.jsx(X,{type:u.type==="success"?"success":"error",children:u.message}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-3 lg:col-span-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Datum: ",N.date?new Date(N.date).toLocaleDateString():""]}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Kategorie: ",N.category||""]}),s.jsxs("div",{className:"text-sm text-slate-600",children:["HK-Forms-ID: ",N.reservation_request_id?s.jsx("code",{className:"text-xs",children:N.reservation_request_id}):""]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:["Gesamt:"," ",N.gross_total!=null?N.gross_total.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})+" ":""]}),s.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[s.jsxs("div",{children:["B2B: ",N.b2b?"Ja":"Nein"]}),N.ust_id&&s.jsxs("div",{children:["USt-ID: ",N.ust_id]})]})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-2",children:[s.jsx("div",{className:"font-semibold",children:"Empfnger"}),s.jsx("div",{className:"text-slate-700",children:N.recipient.name}),s.jsx("div",{className:"text-slate-600 text-sm",children:[N.recipient.street,`${N.recipient.zip||""} ${N.recipient.city||""}`.trim()].filter(Boolean).join(", ")}),s.jsx("div",{className:"text-slate-600 text-sm",children:N.recipient.email||""}),s.jsx("div",{className:"text-slate-600 text-sm",children:N.recipient.phone||""})]})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Positionen"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[s.jsx("th",{className:"px-3 py-2",children:"Beschreibung"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Menge"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Preis (brutto)"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"MwSt"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Summe"})]})}),s.jsx("tbody",{children:n.items.map(b=>s.jsxs("tr",{className:"border-b border-slate-100",children:[s.jsx("td",{className:"px-3 py-2 text-slate-700",children:b.description||""}),s.jsx("td",{className:"px-3 py-2 text-right",children:Number(b.quantity).toLocaleString("de-DE")}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[Number(b.unit_price_gross).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})," "]}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[b.vat_key,"%"]}),s.jsxs("td",{className:"px-3 py-2 text-right",children:[Number(b.line_total_gross??b.unit_price_gross).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]},b.id))})]})})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-4 space-y-1 text-sm text-slate-700",children:[s.jsx("div",{className:"font-semibold",children:"Verlauf"}),s.jsxs("div",{children:["Gesendet: ",N.status_sent_at?new Date(N.status_sent_at).toLocaleString():""]}),s.jsxs("div",{children:["Bezahlt: ",N.status_paid_at?new Date(N.status_paid_at).toLocaleString():""]}),s.jsxs("div",{children:["DATEV:"," ",N.datev_export_status?N.datev_export_status==="SUCCESS"?` ${N.datev_exported_at?new Date(N.datev_exported_at).toLocaleString():""}`.trim():N.datev_export_status==="FAILED"?` ${N.datev_export_error||""}`.trim():N.datev_export_status==="SKIPPED"?` ${N.datev_export_error||""}`.trim():N.datev_export_status:""]})]}),(h.loading||h.data||h.error)&&s.jsxs(it,{title:"E-Mail Vorschau",onClose:()=>j({loading:!1,data:null,error:null}),children:[h.loading&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Vorschau ..."]}),h.error&&s.jsx(X,{type:"error",children:h.error}),h.data&&s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Betreff"}),s.jsx("div",{children:h.data.subject})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"HTML"}),s.jsx("div",{className:"border border-slate-200 rounded p-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:h.data.body_html||"<em>(leer)</em>"}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Text"}),s.jsx("pre",{className:"border border-slate-200 rounded p-3 whitespace-pre-wrap",children:h.data.body_text})]})]})]}),y.open&&s.jsx(it,{title:"Rechnung per E-Mail senden",onClose:()=>x({open:!1}),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-sm text-slate-700",children:[s.jsx("span",{className:"font-medium",children:"Empfnger"}),s.jsx(U,{value:y.to||"",onChange:b=>x(T=>({...T,to:b.target.value})),placeholder:"kunde@example.com"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(K,{variant:"secondary",onClick:()=>x({open:!1}),children:"Abbrechen"}),s.jsx(K,{onClick:_,disabled:f,children:f?"Sendet...":"Senden"})]})]})})]})}function Og({mode:e,category:t,logos:n,onClose:r,onSaved:l,onError:i}){var S,k,_,E,N,b,T,G,ne;const[a,o]=g.useState({key:(t==null?void 0:t.key)||"",label:(t==null?void 0:t.label)||"",logo_file:(t==null?void 0:t.logo_file)||""}),[u,c]=g.useState(n||[]),[f,p]=g.useState({subject:((S=t==null?void 0:t.template)==null?void 0:S.subject)||"",body_html:((k=t==null?void 0:t.template)==null?void 0:k.body_html)||""}),[h,j]=g.useState({email_address:((_=t==null?void 0:t.email_account)==null?void 0:_.email_address)||"",display_name:((E=t==null?void 0:t.email_account)==null?void 0:E.display_name)||"",smtp_host:((N=t==null?void 0:t.email_account)==null?void 0:N.smtp_host)||"",smtp_port:(b=t==null?void 0:t.email_account)!=null&&b.smtp_port?String((T=t==null?void 0:t.email_account)==null?void 0:T.smtp_port):"",smtp_secure:((G=t==null?void 0:t.email_account)==null?void 0:G.smtp_secure)??!0,smtp_user:((ne=t==null?void 0:t.email_account)==null?void 0:ne.smtp_user)||"",smtp_pass:""}),[y,x]=g.useState(!1),[w,v]=g.useState(null);g.useEffect(()=>{e==="edit"&&t?Promise.all([hg(t.id).catch(()=>null),vg(t.id).catch(()=>null),zi().catch(()=>[])]).then(([O,B,Q])=>{O&&p({subject:O.subject||"",body_html:O.body_html||""}),B&&j({email_address:B.email_address||"",display_name:B.display_name||"",smtp_host:B.smtp_host||"",smtp_port:B.smtp_port?String(B.smtp_port):"",smtp_secure:B.smtp_secure??!0,smtp_user:B.smtp_user||"",smtp_pass:""}),Q!=null&&Q.length&&c(Q)}):zi().then(O=>c(O)).catch(()=>{})},[]);const m=async O=>{if(!O)return;if(!/\.(png|jpg|jpeg|svg)$/i.test(O.name)){v({type:"error",message:"Nur PNG/JPG/SVG erlaubt."});return}if(O.size>1.5*1024*1024){v({type:"error",message:"Datei zu gro (max 1.5 MB)."});return}const Q=new FileReader;Q.onload=async()=>{const R=Q.result;try{const F=await dg(O.name,R);o(C=>({...C,logo_file:F.filename})),u.includes(F.filename)||c(C=>[...C,F.filename]),v({type:"success",message:"Logo hochgeladen."})}catch(F){v({type:"error",message:F.message||"Upload fehlgeschlagen."})}},Q.readAsDataURL(O)},d=async O=>{if(O.preventDefault(),v(null),!a.key.trim()||!a.label.trim()||!a.logo_file){v({type:"error",message:"Key, Label und Logo sind erforderlich."});return}x(!0);try{let B;if(e==="create")B=await fg({key:a.key.trim(),label:a.label.trim(),logo_file:a.logo_file});else if(t)B=await pg(t.id,{key:a.key.trim(),label:a.label.trim(),logo_file:a.logo_file});else throw new Error("Ungltiger Zustand");f.subject&&f.body_html&&await gg(B.id,f),(h.email_address||h.smtp_host||h.smtp_user||h.smtp_pass)&&await yg(B.id,{display_name:h.display_name||null,email_address:h.email_address||null,smtp_host:h.smtp_host||null,smtp_port:h.smtp_port?Number(h.smtp_port):null,smtp_secure:h.smtp_secure,smtp_user:h.smtp_user||null,smtp_pass:h.smtp_pass||void 0}),l({...B})}catch(B){const R=B.message||"Kategorie konnte nicht gespeichert werden.";v({type:"error",message:R}),i(R);return}finally{x(!1)}};return s.jsx(it,{title:e==="create"?"Neue Kategorie":"Kategorie bearbeiten",onClose:r,children:s.jsxs("form",{className:"space-y-3",onSubmit:d,children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsx(H,{label:"Key",children:s.jsx(U,{value:a.key,onChange:O=>o(B=>({...B,key:O.target.value})),required:!0})}),s.jsx(H,{label:"Label",children:s.jsx(U,{value:a.label,onChange:O=>o(B=>({...B,label:O.target.value})),required:!0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm text-slate-700 font-medium",children:"Logo"}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs("select",{className:"input w-48",value:a.logo_file,onChange:O=>o(B=>({...B,logo_file:O.target.value})),children:[s.jsx("option",{value:"",children:" Logo whlen "}),u.map(O=>s.jsx("option",{value:O,children:O},O))]}),s.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.svg",onChange:O=>{var B;return m((B=O.target.files)==null?void 0:B[0])}}),a.logo_file&&s.jsx("img",{src:`/logos/${a.logo_file}`,alt:"Logo",className:"w-12 h-12 object-contain border border-slate-200 rounded"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"PNG/JPG/SVG, max 1.5 MB."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold text-sm",children:"E-Mail/SMTP (optional)"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-2",children:[s.jsx(U,{placeholder:"Absender-Name",value:h.display_name,onChange:O=>j(B=>({...B,display_name:O.target.value}))}),s.jsx(U,{placeholder:"Absender-E-Mail",value:h.email_address,onChange:O=>j(B=>({...B,email_address:O.target.value}))}),s.jsx(U,{placeholder:"SMTP Host",value:h.smtp_host||"",onChange:O=>j(B=>({...B,smtp_host:O.target.value}))}),s.jsx(U,{placeholder:"SMTP Port",value:h.smtp_port,onChange:O=>j(B=>({...B,smtp_port:O.target.value}))}),s.jsxs("label",{className:"text-sm text-slate-700 flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:h.smtp_secure,onChange:O=>j(B=>({...B,smtp_secure:O.target.checked}))}),s.jsx("span",{children:"SMTP Secure"})]}),s.jsx(U,{placeholder:"SMTP User",value:h.smtp_user||"",onChange:O=>j(B=>({...B,smtp_user:O.target.value}))}),s.jsx(U,{placeholder:"SMTP Passwort (write-only)",type:"password",value:h.smtp_pass,onChange:O=>j(B=>({...B,smtp_pass:O.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Template (optional)"}),s.jsx(U,{placeholder:"Betreff",value:f.subject,onChange:O=>p(B=>({...B,subject:O.target.value}))}),s.jsx(Rd,{placeholder:"HTML Body",value:f.body_html,onChange:O=>p(B=>({...B,body_html:O.target.value})),className:"min-h-[120px]"})]}),w&&s.jsx(X,{type:w.type==="success"?"success":"error",children:w.message}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(K,{variant:"secondary",type:"button",onClick:r,children:"Abbrechen"}),s.jsx(K,{type:"submit",disabled:y,children:y?"Speichern ...":"Speichern"})]})]})})}function Mg(){const{user:e}=et();if((e==null?void 0:e.role_name)!=="admin")return s.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-900 rounded-lg p-4",children:"Keine Berechtigung. Nur Admins knnen die Einstellungen bearbeiten."});const t=[{key:"pdf",label:"PDF",content:s.jsx(Fg,{})},{key:"mail",label:"Mail / SMTP",content:s.jsx(Ug,{})},{key:"header",label:"Rechnungskopf",content:s.jsx($g,{})},{key:"bank",label:"Bank / Steuer",content:s.jsx(Jg,{})},{key:"datev",label:"DATEV",content:s.jsx(Gg,{})},{key:"hkforms",label:"HKForms",content:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Yg,{}),s.jsx(Kg,{})]})},{key:"network",label:"Netzwerk",content:s.jsx(Bg,{})},{key:"security",label:"Sicherheit",content:s.jsx(Ag,{})}],[n,r]=g.useState(t[0].key);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Einstellungen"}),s.jsx("p",{className:"text-slate-700 text-sm",children:"Einstellungen sind pro Bereich in Tabs gruppiert. nderungen gelten sofort fr neue Vorgnge."})]}),s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm",children:[s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 px-3 py-2",children:t.map(l=>s.jsx("button",{className:`px-3 py-1.5 rounded-md text-sm font-medium ${n===l.key?"bg-blue-50 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>r(l.key),type:"button",children:l.label},l.key))}),s.jsx("div",{className:"p-4 space-y-4",children:t.map(l=>s.jsx("div",{className:n===l.key?"block":"hidden",children:l.content},l.key))})]})]})}function Fg(){const[e,t]=g.useState(!0),[n,r]=g.useState(!1),[l,i]=g.useState(!1),[a,o]=g.useState(null),[u,c]=g.useState(null),[f,p]=g.useState({storage_path:""});g.useEffect(()=>{o(null),Ah().then(x=>p({storage_path:x.storage_path||"",default_path:x.default_path})).catch(x=>o({type:"error",message:x.message||"Konnte PDF-Einstellungen nicht laden."})).finally(()=>t(!1))},[]);const h=async x=>{x.preventDefault(),r(!0),o(null);try{const w=await Uh({storage_path:f.storage_path});p(v=>({...v,storage_path:w.storage_path})),o({type:"success",message:"PDF-Pfad gespeichert."})}catch(w){o({type:"error",message:w.message||"Speichern fehlgeschlagen."})}finally{r(!1)}},j=async()=>{i(!0),c(null);try{const x=await $h({path:f.storage_path});c({type:"success",message:`Pfad ist schreibbar: ${x.path}`})}catch(x){c({type:"error",message:x.message||"Pfad-Test fehlgeschlagen."})}finally{i(!1)}},y=()=>{f.default_path&&p(x=>({...x,storage_path:f.default_path||""}))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"PDF Speicherort"}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Pfad, in dem PDFs gespeichert werden. Bei Docker als Volume/Bind-Mount bereitstellen. Default: ",f.default_path||"/app/pdfs","."]})]}),s.jsxs("form",{className:"space-y-3",onSubmit:h,children:[s.jsxs("label",{className:"text-sm text-slate-700 block",children:[s.jsx("span",{className:"font-medium",children:"Pfad"}),s.jsx("input",{className:"input mt-1",value:f.storage_path,onChange:x=>p(w=>({...w,storage_path:x.target.value})),disabled:e})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"btn-primary",type:"submit",disabled:n||e,children:n?"Speichere ...":"Speichern"}),s.jsx("button",{className:"btn-secondary",type:"button",onClick:j,disabled:l||e,children:l?"Testet ...":"Pfad testen"}),f.default_path&&s.jsx("button",{className:"btn-secondary",type:"button",onClick:y,disabled:e,children:"Auf Standard zurcksetzen"})]})]}),a&&s.jsx(X,{type:a.type==="error"?"error":"success",children:a.message}),u&&s.jsx(X,{type:u.type==="error"?"error":"success",children:u.message})]})}function Bg(){return s.jsxs("div",{className:"space-y-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Netzwerk"}),s.jsxs("ul",{className:"text-sm text-slate-700 list-disc pl-4 space-y-1",children:[s.jsx("li",{children:"Interner HTTP-Port: Container 3030, Host 192.200.255.225:3031."}),s.jsx("li",{children:"NPM Forward: https://rechnung.intern  http://192.200.255.225:3031"}),s.jsx("li",{children:"TRUST_PROXY=1, CORS_ORIGINS: https://rechnung.intern (weitere Origins per ENV)."})]})]})}function Ag(){return s.jsxs("div",{className:"space-y-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Sicherheit"}),s.jsxs("ul",{className:"text-sm text-slate-700 list-disc pl-4 space-y-1",children:[s.jsx("li",{children:"Rate Limits aktivierbar per RATE_LIMIT_ENABLED (Login-Limit strenger)."}),s.jsx("li",{children:"Cookies: HttpOnly, SameSite=Lax, Secure automatisch bei HTTPS (NPM)."}),s.jsx("li",{children:"API Keys (X-API-Key) in eigenem Tab verwalten."})]})]})}function Ug(){const{refresh:e}=et(),[t,n]=g.useState(!0),[r,l]=g.useState(!1),[i,a]=g.useState(!1),[o,u]=g.useState(null),[c,f]=g.useState({host:"",port:"",secure:!1,user:"",password:"",from:"",reply_to:"",has_password:!1}),[p,h]=g.useState(""),[j,y]=g.useState(!1),[x,w]=g.useState(null);g.useEffect(()=>{u(null),n(!0),Eh().then(d=>{f({host:d.host||"",port:d.port?String(d.port):"",secure:!!d.secure,user:d.user||"",password:"",from:d.from||"",reply_to:d.reply_to||"",has_password:!!d.has_password}),y(!1)}).catch(d=>{u({type:"error",message:d.message||"Konnte SMTP-Einstellungen nicht laden."})}).finally(()=>n(!1))},[]);const v=async d=>{d.preventDefault(),l(!0),u(null),w(null);try{const S={host:c.host||null,port:c.port?Number(c.port):null,secure:c.secure,user:c.user||null,from:c.from||null,reply_to:c.reply_to||null};c.password.trim()&&(S.password=c.password);const k=await Ch(S);f(_=>({..._,has_password:!!k.has_password,password:""})),u({type:"success",message:"SMTP-Einstellungen gespeichert."}),y(!1),await e()}catch(S){const k=S;let _=k.message||"Speichern fehlgeschlagen.";k.status===401||k.status===403?_="Keine Berechtigung.":k.status===400&&(_="Ungltige SMTP Daten."),u({type:"error",message:_})}finally{l(!1)}},m=async()=>{if(!p.trim()){w({type:"error",message:"Bitte Empfnger fr Testmail angeben."});return}a(!0),w(null);try{const d=await bh(p.trim()),S=d.message||(d.dry_run?"Dry-Run erfolgreich.":"Testmail gesendet.");w({type:d.dry_run?"info":"success",message:`${S} Empfnger: ${d.to}${d.redirected?" (redirected)":""}${d.dry_run?" | Versand deaktiviert (EMAIL_SEND_DISABLED=1)":""}`})}catch(d){const S=d;let k=S.message||"Test fehlgeschlagen.";S.status===401||S.status===403?k="Keine Berechtigung.":S.status===400&&(k="Ungltige SMTP Daten."),w({type:"error",message:k})}finally{a(!1)}};return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"SMTP Einstellungen"}),t&&s.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),s.jsxs("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:v,children:[s.jsx(H,{label:"Host",children:s.jsx("input",{value:c.host,onChange:d=>f(S=>({...S,host:d.target.value})),className:"input",required:!1})}),s.jsx(H,{label:"Port",children:s.jsx("input",{value:c.port,onChange:d=>f(S=>({...S,port:d.target.value})),className:"input",inputMode:"numeric"})}),s.jsx(H,{label:"Secure (TLS)",children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:c.secure,onChange:d=>f(S=>({...S,secure:d.target.checked}))}),s.jsx("span",{children:"SMTPS (Port 465) nutzen"})]})}),s.jsx("div",{className:"hidden md:block"}),s.jsx(H,{label:"Benutzer",children:s.jsx("input",{value:c.user,onChange:d=>f(S=>({...S,user:d.target.value})),className:"input"})}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"Passwort"}),c.has_password?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-800 border border-green-200",children:"gesetzt"}):s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-100 text-amber-800 border border-amber-200",children:"nicht gesetzt"}),s.jsx(K,{variant:"secondary",type:"button",onClick:()=>y(d=>!d),children:j?"Abbrechen":"Passwort ndern"})]}),j&&s.jsx("input",{type:"password",value:c.password,onChange:d=>f(S=>({...S,password:d.target.value})),className:"input",placeholder:"Neues Passwort eingeben"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Passwort wird nur gesendet, wenn du es hier eingibst. Nach dem Speichern wird das Feld geleert."})]}),s.jsx(H,{label:"FROM",children:s.jsx("input",{value:c.from,onChange:d=>f(S=>({...S,from:d.target.value})),className:"input",placeholder:"Name <mail@example.com>"})}),s.jsx(H,{label:"Reply-To (optional)",children:s.jsx("input",{value:c.reply_to,onChange:d=>f(S=>({...S,reply_to:d.target.value})),className:"input"})}),s.jsxs("div",{className:"md:col-span-2 flex flex-wrap gap-3 items-center mt-2",children:[s.jsx("button",{type:"submit",className:"btn-primary",disabled:r||t,children:r?"Speichern ...":"Speichern"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"input",placeholder:"Test-Empfnger",value:p,onChange:d=>h(d.target.value)}),s.jsx("button",{type:"button",className:"btn-secondary",onClick:m,disabled:i||t,children:i?"Testet ...":"Testmail senden"})]})]})]}),o&&s.jsx("div",{className:`mt-4 text-sm rounded-md px-3 py-2 ${o.type==="success"?"bg-green-50 text-green-800 border border-green-100":o.type==="info"?"bg-blue-50 text-blue-800 border border-blue-100":"bg-red-50 text-red-700 border border-red-100"}`,children:o.message}),x&&s.jsx("div",{className:`mt-3 text-sm rounded-md px-3 py-2 ${x.type==="success"?"bg-green-50 text-green-800 border border-green-100":x.type==="info"?"bg-blue-50 text-blue-800 border border-blue-100":"bg-red-50 text-red-700 border border-red-100"}`,children:x.message})]})}function $g(){const[e,t]=g.useState(!0),[n,r]=g.useState(!1),[l,i]=g.useState(null),[a,o]=g.useState({company_name:"",address_line1:"",address_line2:"",zip:"",city:"",country:"",vat_id:"",bank_name:"",iban:"",bic:"",footer_text:"",logo_url:""});g.useEffect(()=>{i(null),t(!0),Ph().then(c=>{o({company_name:c.company_name||"",address_line1:c.address_line1||"",address_line2:c.address_line2||"",zip:c.zip||"",city:c.city||"",country:c.country||"",vat_id:c.vat_id||"",bank_name:c.bank_name||"",iban:c.iban||"",bic:c.bic||"",footer_text:c.footer_text||"",logo_url:c.logo_url||""})}).catch(c=>i({type:"error",message:c.message||"Konnte Briefkopf nicht laden."})).finally(()=>t(!1))},[]);const u=async c=>{c.preventDefault(),r(!0),i(null);try{await Lh(a),i({type:"success",message:"Briefkopf gespeichert."})}catch(f){i({type:"error",message:f.message||"Speichern fehlgeschlagen."})}finally{r(!1)}};return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Rechnungskopf / Briefkopf"}),e&&s.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),s.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"nderungen wirken auf neu generierte PDFs. Fr bestehende Rechnungen bitte PDF neu erstellen verwenden."}),s.jsxs("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:u,children:[s.jsx(H,{label:"Firma",children:s.jsx("input",{value:a.company_name,onChange:c=>o(f=>({...f,company_name:c.target.value})),className:"input"})}),s.jsx(H,{label:"USt-IdNr.",children:s.jsx("input",{value:a.vat_id,onChange:c=>o(f=>({...f,vat_id:c.target.value})),className:"input"})}),s.jsx(H,{label:"Adresse Zeile 1",children:s.jsx("input",{value:a.address_line1,onChange:c=>o(f=>({...f,address_line1:c.target.value})),className:"input"})}),s.jsx(H,{label:"Adresse Zeile 2",children:s.jsx("input",{value:a.address_line2,onChange:c=>o(f=>({...f,address_line2:c.target.value})),className:"input"})}),s.jsx(H,{label:"PLZ",children:s.jsx("input",{value:a.zip,onChange:c=>o(f=>({...f,zip:c.target.value})),className:"input"})}),s.jsx(H,{label:"Ort",children:s.jsx("input",{value:a.city,onChange:c=>o(f=>({...f,city:c.target.value})),className:"input"})}),s.jsx(H,{label:"Land",children:s.jsx("input",{value:a.country,onChange:c=>o(f=>({...f,country:c.target.value})),className:"input"})}),s.jsx("div",{className:"hidden md:block"}),s.jsx(H,{label:"Bank",children:s.jsx("input",{value:a.bank_name,onChange:c=>o(f=>({...f,bank_name:c.target.value})),className:"input"})}),s.jsx(H,{label:"IBAN",children:s.jsx("input",{value:a.iban,onChange:c=>o(f=>({...f,iban:c.target.value})),className:"input"})}),s.jsx(H,{label:"BIC",children:s.jsx("input",{value:a.bic,onChange:c=>o(f=>({...f,bic:c.target.value})),className:"input"})}),s.jsx(H,{label:"Logo URL (optional)",children:s.jsx("input",{value:a.logo_url,onChange:c=>o(f=>({...f,logo_url:c.target.value})),className:"input"})}),s.jsx(H,{label:"Fuzeile",className:"md:col-span-2",children:s.jsx("textarea",{value:a.footer_text,onChange:c=>o(f=>({...f,footer_text:c.target.value})),className:"input min-h-[90px]"})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"btn-primary",disabled:n||e,children:n?"Speichern ...":"Speichern"})})]}),l&&s.jsx("div",{className:`mt-4 text-sm rounded-md px-3 py-2 ${l.type==="success"?"bg-green-50 text-green-800 border border-green-100":"bg-red-50 text-red-700 border border-red-100"}`,children:l.message})]})}function Kg(){const[e,t]=g.useState(!0),[n,r]=g.useState(null),[l,i]=g.useState([]),[a,o]=g.useState(!1),[u,c]=g.useState(null),[f,p]=g.useState(null),[h,j]=g.useState(null),[y,x]=g.useState(""),[w,v]=g.useState(null),m=async()=>{t(!0),r(null);try{const N=await Kh();i(N)}catch(N){r({type:"error",message:N.message||"API-Keys konnten nicht geladen werden."})}finally{t(!1)}};g.useEffect(()=>{m()},[]);const d=async()=>{o(!0),r(null);try{const N=await Vh({name:y||null});v({api_key:N.api_key,prefix:N.prefix}),x(""),await m(),r({type:"success",message:"API-Key erstellt. Kopiere ihn jetzt  spter nicht mehr sichtbar!"})}catch(N){r({type:"error",message:N.message||"API-Key konnte nicht erstellt werden."})}finally{o(!1)}},S=async N=>{c(N),r(null);try{const b=await Wh(N);v({api_key:b.api_key,prefix:b.prefix}),await m(),r({type:"success",message:"API-Key rotiert. Neuer Key wird nur einmal angezeigt!"})}catch(b){r({type:"error",message:b.message||"Rotation fehlgeschlagen."})}finally{c(null)}},k=async N=>{if(confirm("API-Key wirklich widerrufen?")){p(N),r(null);try{await Hh(N),await m(),r({type:"success",message:"API-Key widerrufen."})}catch(b){r({type:"error",message:b.message||"Widerruf fehlgeschlagen."})}finally{p(null)}}},_=async N=>{if(confirm("API-Key wirklich lschen? (Aktion kann nicht rckgngig gemacht werden)")){j(N),r(null);try{await Qh(N),await m(),r({type:"success",message:"API-Key gelscht."})}catch(b){r({type:"error",message:b.message||"Lschen fehlgeschlagen."})}finally{j(null)}}},E=async()=>{w!=null&&w.api_key&&(await navigator.clipboard.writeText(w.api_key),r({type:"success",message:"API-Key kopiert."}))};return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"API Keys"}),e&&s.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[s.jsx("input",{className:"input w-60",placeholder:"Name (optional)",value:y,onChange:N=>x(N.target.value)}),s.jsx("button",{className:"btn-primary",onClick:d,disabled:a||e,children:a?"Erstelle ...":"Neuen Key erstellen"})]}),w&&s.jsxs("div",{className:"mb-4 p-3 rounded-md border border-amber-200 bg-amber-50 text-sm text-amber-900",children:["Neuer Key (nur jetzt sichtbar):",s.jsx("br",{}),s.jsx("code",{className:"block break-all mt-1 font-mono text-xs bg-white border border-amber-200 rounded px-2 py-1",children:w.api_key}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{className:"btn-secondary",onClick:E,children:"Kopieren"}),s.jsx("span",{className:"text-xs text-amber-800",children:"Speichere den Key sicher  nach dem Schlieen dieser Meldung ist er nicht mehr abrufbar."})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-slate-200",children:[s.jsx("th",{className:"py-2 pr-3",children:"Name"}),s.jsx("th",{className:"py-2 pr-3",children:"Prefix"}),s.jsx("th",{className:"py-2 pr-3",children:"Erstellt"}),s.jsx("th",{className:"py-2 pr-3",children:"Zuletzt genutzt"}),s.jsx("th",{className:"py-2 pr-3",children:"Status"}),s.jsx("th",{className:"py-2 pr-3 text-right",children:"Aktionen"})]})}),s.jsxs("tbody",{children:[l.map(N=>{const b=!!N.revoked_at;return s.jsxs("tr",{className:"border-b border-slate-100",children:[s.jsx("td",{className:"py-2 pr-3",children:N.name||""}),s.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:N.prefix}),s.jsx("td",{className:"py-2 pr-3",children:new Date(N.created_at).toLocaleString()}),s.jsx("td",{className:"py-2 pr-3",children:N.last_used_at?new Date(N.last_used_at).toLocaleString():""}),s.jsx("td",{className:"py-2 pr-3",children:b?s.jsx("span",{className:"text-red-600",children:"widerrufen"}):s.jsx("span",{className:"text-green-600",children:"aktiv"})}),s.jsxs("td",{className:"py-2 pr-3 text-right flex gap-2 justify-end",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>S(N.id),disabled:u===N.id,children:u===N.id?"rotiert...":"Rotieren"}),s.jsx("button",{className:"btn-secondary",onClick:()=>k(N.id),disabled:f===N.id||b,children:f===N.id?"widerrufe...":"Widerrufen"}),s.jsx("button",{className:"btn-secondary",onClick:()=>_(N.id),disabled:h===N.id,children:h===N.id?"lsche...":"Lschen"})]})]},N.id)}),!l.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-3 text-slate-500",children:"Noch keine API Keys vorhanden."})})]})]})}),n&&s.jsx("div",{className:`mt-4 text-sm rounded-md px-3 py-2 ${n.type==="success"?"bg-green-50 text-green-800 border border-green-100":"bg-red-50 text-red-700 border border-red-100"}`,children:n.message})]})}function Vg(){const{user:e}=et(),t=(e==null?void 0:e.role_name)==="admin",[n,r]=g.useState([]),[l,i]=g.useState([]),[a,o]=g.useState(!0),[u,c]=g.useState(null),[f,p]=g.useState(null),[h,j]=g.useState(null),[y,x]=g.useState(null),w=d=>{var S;return{...d,role_name:((S=l.find(k=>k.id===d.role_id))==null?void 0:S.name)||d.role_name||null}},v=async()=>{o(!0),c(null);try{const[d,S]=await Promise.all([Ld(),rg()]);i(d),r(S)}catch(d){c({type:"error",message:d.message||"Benutzer konnten nicht geladen werden."})}finally{o(!1)}};if(g.useEffect(()=>{t&&v()},[t]),!t)return s.jsx(X,{type:"error",children:"Keine Berechtigung."});const m=async d=>{x(d),c(null);try{await ig(d),r(S=>S.filter(k=>k.id!==d)),c({type:"success",message:"Benutzer gelscht."})}catch(S){c({type:"error",message:S.message||"Lschen fehlgeschlagen."})}finally{x(null),j(null)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Benutzer"}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Admin-Bereich: Benutzer anlegen, Rollen zuweisen."})]}),s.jsx(K,{onClick:()=>p({mode:"create"}),children:"Neu"})]}),a&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Benutzer ..."]}),!a&&s.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[s.jsx("th",{className:"px-3 py-2",children:"Benutzername"}),s.jsx("th",{className:"px-3 py-2",children:"Rolle"}),s.jsx("th",{className:"px-3 py-2",children:"Status"}),s.jsx("th",{className:"px-3 py-2",children:"Erstellt"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Aktionen"})]})}),s.jsxs("tbody",{children:[n.map(d=>s.jsxs("tr",{className:"border-b border-slate-100",children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:d.username}),s.jsx("td",{className:"px-3 py-2",children:d.role_name||""}),s.jsx("td",{className:"px-3 py-2",children:d.is_active?s.jsx(Ln,{tone:"green",children:"aktiv"}):s.jsx(Ln,{tone:"amber",children:"inaktiv"})}),s.jsx("td",{className:"px-3 py-2",children:d.created_at?new Date(d.created_at).toLocaleDateString():""}),s.jsxs("td",{className:"px-3 py-2 text-right flex gap-2 justify-end",children:[s.jsx(K,{variant:"secondary",onClick:()=>p({mode:"edit",user:d}),children:"Edit"}),s.jsx(K,{variant:"danger",onClick:()=>j(d.id),disabled:y===d.id,children:y===d.id?"...":"Delete"})]})]},d.id)),!n.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-3 py-4 text-center text-slate-500",children:"Keine Benutzer vorhanden."})})]})]})}),u&&s.jsx(X,{type:u.type==="success"?"success":"error",children:u.message}),f&&s.jsx(Wg,{mode:f.mode,user:f.user,roles:l,onClose:()=>p(null),onSaved:d=>{const S=w(d);f.mode==="edit"&&d?r(k=>k.map(_=>_.id===S.id?S:_)):d&&r(k=>[...k,S]),c({type:"success",message:"Benutzer gespeichert."})},onError:d=>c({type:"error",message:d})}),h!==null&&s.jsx(ss,{title:"Benutzer lschen?",description:"Dieser Vorgang kann nicht rckgngig gemacht werden.",onConfirm:()=>m(h),onCancel:()=>j(null),busy:y===h})]})}function Wg({mode:e,user:t,roles:n,onClose:r,onSaved:l,onError:i}){const[a,o]=g.useState({username:(t==null?void 0:t.username)||"",password:"",role_id:(t==null?void 0:t.role_id)||null,is_active:(t==null?void 0:t.is_active)??!0}),[u,c]=g.useState(!1),[f,p]=g.useState(null),h=async j=>{if(j.preventDefault(),p(null),!a.username.trim()){p("Benutzername ist erforderlich.");return}if(e==="create"&&!a.password.trim()){p("Passwort ist erforderlich.");return}c(!0);try{if(e==="create"){const y=await lg({username:a.username.trim(),password:a.password,role_id:a.role_id||void 0});l(y)}else if(t){const y=await sg(t.id,{username:a.username.trim(),role_id:a.role_id||null,is_active:a.is_active});l(y)}r()}catch(y){const x=y,w=x.status===409?"Benutzername existiert bereits.":x.message||"Speichern fehlgeschlagen.";p(w),i(w);return}finally{c(!1)}};return s.jsx(it,{title:e==="create"?"Neuer Benutzer":"Benutzer bearbeiten",onClose:r,children:s.jsxs("form",{className:"space-y-3",onSubmit:h,children:[s.jsx(H,{label:"Benutzername",children:s.jsx(U,{value:a.username,onChange:j=>o(y=>({...y,username:j.target.value}))})}),e==="create"&&s.jsx(H,{label:"Passwort",children:s.jsx(U,{type:"password",value:a.password,onChange:j=>o(y=>({...y,password:j.target.value}))})}),s.jsx(H,{label:"Rolle",children:s.jsxs(sn,{value:a.role_id??"",onChange:j=>o(y=>({...y,role_id:j.target.value?Number(j.target.value):null})),children:[s.jsx("option",{value:"",children:" Standard "}),n.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:a.is_active,onChange:j=>o(y=>({...y,is_active:j.target.checked}))}),s.jsx("span",{children:"Aktiv"})]}),f&&s.jsx(X,{type:"error",children:f}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(K,{variant:"secondary",type:"button",onClick:r,children:"Abbrechen"}),s.jsx(K,{type:"submit",disabled:u,children:u?"Speichern ...":"Speichern"})]})]})})}function Hg(){const{user:e}=et(),t=(e==null?void 0:e.role_name)==="admin",[n,r]=g.useState([]),[l,i]=g.useState(!0),[a,o]=g.useState(null),[u,c]=g.useState(null),[f,p]=g.useState(null),[h,j]=g.useState(null),y=async()=>{i(!0),o(null);try{const w=await Ld();r(w)}catch(w){o({type:"error",message:w.message||"Rollen konnten nicht geladen werden."})}finally{i(!1)}};if(g.useEffect(()=>{t&&y()},[t]),!t)return s.jsx(X,{type:"error",children:"Keine Berechtigung."});const x=async w=>{j(w),o(null);try{await cg(w),r(v=>v.filter(m=>m.id!==w)),o({type:"success",message:"Rolle gelscht."})}catch(v){o({type:"error",message:v.message||"Lschen fehlgeschlagen."})}finally{j(null),p(null)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Rollen & Berechtigungen"}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Definiere Rollen und zugehrige Rechte."})]}),s.jsx(K,{onClick:()=>c({mode:"create"}),children:"Neue Rolle"})]}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Rollen ..."]}),!l&&s.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg shadow-sm",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:[s.jsx("th",{className:"px-3 py-2",children:"Name"}),s.jsx("th",{className:"px-3 py-2",children:"Beschreibung"}),s.jsx("th",{className:"px-3 py-2 text-right",children:"Aktionen"})]})}),s.jsxs("tbody",{children:[n.map(w=>s.jsxs("tr",{className:"border-b border-slate-100",children:[s.jsx("td",{className:"px-3 py-2 font-medium",children:w.name}),s.jsx("td",{className:"px-3 py-2 text-slate-600",children:w.description||""}),s.jsxs("td",{className:"px-3 py-2 text-right flex gap-2 justify-end",children:[s.jsx(K,{variant:"secondary",onClick:()=>c({mode:"edit",role:w}),children:"Edit"}),s.jsx(K,{variant:"danger",onClick:()=>p(w.id),disabled:h===w.id,children:h===w.id?"...":"Delete"})]})]},w.id)),!n.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-3 py-4 text-center text-slate-500",children:"Keine Rollen vorhanden."})})]})]})}),a&&s.jsx(X,{type:a.type==="success"?"success":"error",children:a.message}),u&&s.jsx(Qg,{mode:u.mode,role:u.role,onClose:()=>c(null),onSaved:()=>{y(),o({type:"success",message:"Rolle gespeichert."})},onError:w=>o({type:"error",message:w})}),f!==null&&s.jsx(ss,{title:"Rolle lschen?",description:"Rolle wird entfernt. Prfe zugewiesene Benutzer.",onConfirm:()=>x(f),onCancel:()=>p(null),busy:h===f})]})}function Qg({mode:e,role:t,onClose:n,onSaved:r,onError:l}){const[i,a]=g.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",permissions:[]}),[o,u]=g.useState(e==="edit"),[c,f]=g.useState(!1),[p,h]=g.useState(null);g.useEffect(()=>{e==="edit"&&t&&ag(t.id).then(x=>a(w=>({...w,permissions:x}))).catch(x=>h(x.message||"Konnte Berechtigungen nicht laden.")).finally(()=>u(!1))},[e,t]);const j=x=>{a(w=>{const v=w.permissions.includes(x);return{...w,permissions:v?w.permissions.filter(m=>m!==x):[...w.permissions,x]}})},y=async x=>{if(x.preventDefault(),h(null),!i.name.trim()){h("Name ist erforderlich.");return}f(!0);try{e==="create"?await og({name:i.name.trim(),description:i.description||null,permissions:i.permissions}):t&&await ug(t.id,{name:i.name.trim(),description:i.description||null,permissions:i.permissions}),r(),n()}catch(w){const v=w;h(v.message||"Speichern fehlgeschlagen."),l(v.message||"Speichern fehlgeschlagen.");return}finally{f(!1)}};return s.jsx(it,{title:e==="create"?"Neue Rolle":"Rolle bearbeiten",onClose:n,children:o?s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Berechtigungen ..."]}):s.jsxs("form",{className:"space-y-3",onSubmit:y,children:[s.jsx(H,{label:"Name",children:s.jsx(U,{value:i.name,onChange:x=>a(w=>({...w,name:x.target.value}))})}),s.jsx(H,{label:"Beschreibung (optional)",children:s.jsx(U,{value:i.description,onChange:x=>a(w=>({...w,description:x.target.value}))})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-semibold text-sm",children:"Berechtigungen"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-2 max-h-72 overflow-y-auto border border-slate-200 rounded-md p-3",children:wg.map(x=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[s.jsx("input",{type:"checkbox",checked:i.permissions.includes(x.key),onChange:()=>j(x.key)}),s.jsx("span",{children:x.label})]},x.key))})]}),p&&s.jsx(X,{type:"error",children:p}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(K,{variant:"secondary",type:"button",onClick:n,children:"Abbrechen"}),s.jsx(K,{type:"submit",disabled:c,children:c?"Speichern ...":"Speichern"})]})]})})}function Jg(){const[e,t]=g.useState(!0),[n,r]=g.useState(!1),[l,i]=g.useState(!1),[a,o]=g.useState(null),[u,c]=g.useState({account_holder:"",bank_name:"",iban:"",bic:""}),[f,p]=g.useState({tax_number:"",vat_id:""});g.useEffect(()=>{o(null),t(!0),Promise.all([Th(),zh()]).then(([y,x])=>{c({account_holder:y.account_holder||"",bank_name:y.bank_name||"",iban:y.iban||"",bic:y.bic||""}),p({tax_number:x.tax_number||"",vat_id:x.vat_id||""})}).catch(y=>{o({type:"error",message:y.message||"Konnte Bank-/Steuer-Daten nicht laden."})}).finally(()=>t(!1))},[]);const h=async y=>{y.preventDefault(),r(!0),o(null);try{await Rh({account_holder:u.account_holder,bank_name:u.bank_name,iban:u.iban,bic:u.bic}),o({type:"success",message:"Bankdaten gespeichert."})}catch(x){o({type:"error",message:x.message||"Bankdaten konnten nicht gespeichert werden."})}finally{r(!1)}},j=async y=>{y.preventDefault(),i(!0),o(null);try{await Dh({tax_number:f.tax_number||null,vat_id:f.vat_id||null}),o({type:"success",message:"Steuerdaten gespeichert."})}catch(x){o({type:"error",message:x.message||"Steuerdaten konnten nicht gespeichert werden."})}finally{i(!1)}};return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Bank & Steuer"}),e&&s.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),s.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:h,children:[s.jsx(H,{label:"Kontoinhaber",children:s.jsx(U,{value:u.account_holder,onChange:y=>c(x=>({...x,account_holder:y.target.value})),required:!0})}),s.jsx(H,{label:"Bankname",children:s.jsx(U,{value:u.bank_name,onChange:y=>c(x=>({...x,bank_name:y.target.value})),required:!0})}),s.jsx(H,{label:"IBAN",children:s.jsx(U,{value:u.iban,onChange:y=>c(x=>({...x,iban:y.target.value})),required:!0})}),s.jsx(H,{label:"BIC",children:s.jsx(U,{value:u.bic,onChange:y=>c(x=>({...x,bic:y.target.value})),required:!0})}),s.jsx("div",{className:"md:col-span-2 flex justify-end",children:s.jsx(K,{type:"submit",disabled:n||e,children:n?"Speichert ...":"Bankdaten speichern"})})]}),s.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:j,children:[s.jsx(H,{label:"Steuernummer",children:s.jsx(U,{value:f.tax_number||"",onChange:y=>p(x=>({...x,tax_number:y.target.value}))})}),s.jsx(H,{label:"USt-IdNr.",children:s.jsx(U,{value:f.vat_id||"",onChange:y=>p(x=>({...x,vat_id:y.target.value}))})}),s.jsx("div",{className:"md:col-span-2 flex justify-end",children:s.jsx(K,{type:"submit",disabled:l||e,children:l?"Speichert ...":"Steuerdaten speichern"})})]}),a&&s.jsx(X,{type:a.type==="success"?"success":a.type==="info"?"info":"error",children:a.message})]})}function Gg(){const[e,t]=g.useState({email:""}),[n,r]=g.useState(!0),[l,i]=g.useState(!1),[a,o]=g.useState(null);g.useEffect(()=>{r(!0),o(null),Ih().then(c=>t({email:c.email||""})).catch(c=>o({type:"error",message:c.message||"DATEV konnte nicht geladen werden."})).finally(()=>r(!1))},[]);const u=async c=>{c.preventDefault(),i(!0),o(null);try{await Oh({email:e.email||null}),o({type:"success",message:"DATEV-Einstellungen gespeichert."})}catch(f){o({type:"error",message:f.message||"DATEV-Einstellungen konnten nicht gespeichert werden."})}finally{i(!1)}};return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"DATEV"}),n&&s.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Hinterlege die DATEV-E-Mail, die fr Exporte genutzt werden soll."}),s.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:u,children:[s.jsx(H,{label:"DATEV E-Mail",children:s.jsx(U,{type:"email",value:e.email||"",onChange:c=>t({email:c.target.value}),required:!0})}),s.jsx("div",{className:"md:col-span-2 flex justify-end",children:s.jsx(K,{type:"submit",disabled:l||n,children:l?"Speichert ...":"Speichern"})})]}),a&&s.jsx(X,{type:a.type==="success"?"success":"error",children:a.message})]})}function Yg(){const[e,t]=g.useState({base_url:"",organization:"",has_api_key:!1,api_key:""}),[n,r]=g.useState(!0),[l,i]=g.useState(!1),[a,o]=g.useState(!1),[u,c]=g.useState(null),[f,p]=g.useState(null);g.useEffect(()=>{r(!0),c(null),Mh().then(y=>t({base_url:y.base_url||"",organization:y.organization||"",has_api_key:!!y.has_api_key,api_key:""})).catch(y=>c({type:"error",message:y.message||"HKForms konnte nicht geladen werden."})).finally(()=>r(!1))},[]);const h=async y=>{y.preventDefault(),i(!0),c(null),p(null);try{const x={base_url:e.base_url,organization:e.organization||null};e.api_key&&(x.api_key=e.api_key);const w=await Fh(x);t(v=>({...v,base_url:w.base_url||v.base_url,organization:w.organization||"",has_api_key:!!w.has_api_key,api_key:""})),c({type:"success",message:"HKForms-Einstellungen gespeichert."})}catch(x){c({type:"error",message:x.message||"HKForms-Einstellungen konnten nicht gespeichert werden."})}finally{i(!1)}},j=async()=>{o(!0),p(null);try{const y=await Bh({base_url:e.base_url,organization:e.organization||void 0,api_key:e.api_key||void 0});p({type:y.ok?"success":"info",message:y.message||"Test abgeschlossen."})}catch(y){p({type:"error",message:y.message||"Test fehlgeschlagen."})}finally{o(!1)}};return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"HKForms"}),n&&s.jsx("span",{className:"text-sm text-slate-500",children:"Lade ..."})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Basis fr Status-Sync und Overdue-Job. API-Schlssel wird nur einmalig gesendet (write-only)."}),s.jsxs("form",{className:"grid gap-3 md:grid-cols-2",onSubmit:h,children:[s.jsx(H,{label:"Base URL",children:s.jsx(U,{value:e.base_url,onChange:y=>t(x=>({...x,base_url:y.target.value})),required:!0})}),s.jsx(H,{label:"Organisation (optional)",children:s.jsx(U,{value:e.organization||"",onChange:y=>t(x=>({...x,organization:y.target.value}))})}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-700 font-medium",children:"API Key"}),e.has_api_key?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-800 border border-green-200",children:"hinterlegt"}):s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-amber-100 text-amber-800 border border-amber-200",children:"fehlt"})]}),s.jsx(U,{type:"password",value:e.api_key||"",onChange:y=>t(x=>({...x,api_key:y.target.value})),placeholder:"Nur ausfllen, wenn du den Key setzen/ndern willst"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Der API-Key wird nicht im Klartext angezeigt. Nach dem Speichern wird das Feld geleert."})]}),s.jsxs("div",{className:"md:col-span-2 flex flex-wrap gap-3",children:[s.jsx(K,{type:"submit",disabled:l||n,children:l?"Speichert ...":"Speichern"}),s.jsx(K,{type:"button",variant:"secondary",onClick:j,disabled:a||n,children:a?"Testet ...":"Verbindung testen"})]})]}),u&&s.jsx(X,{type:u.type==="success"?"success":"error",children:u.message}),f&&s.jsx(X,{type:f.type==="success"?"success":f.type==="info"?"info":"error",children:f.message})]})}function Xg(){var x;const{user:e}=et(),t=(e==null?void 0:e.role_name)==="admin"||((e==null?void 0:e.permissions)||[]).includes("stats.view"),[n,r]=g.useState(null),[l,i]=g.useState(!0),[a,o]=g.useState(null),[u,c]=g.useState(""),[f,p]=g.useState("all"),[h,j]=g.useState(0);g.useEffect(()=>{t&&(i(!0),o(null),Jh({year:u?Number(u):void 0,categories:f!=="all"?[f]:void 0}).then(w=>r(w)).catch(w=>{const v=w.status===403?"Keine Berechtigung fr Statistiken.":w.message||"Stats konnten nicht geladen werden.";o(v)}).finally(()=>i(!1)))},[t,u,f,h]);const y=g.useMemo(()=>{var v;return(v=n==null?void 0:n.byYear)!=null&&v.length?Array.from(new Set(n.byYear.map(m=>m.year))).sort((m,d)=>d-m):[]},[n]);return t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Statistiken"}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Umstze und Status gefiltert nach Jahr/Kategorie."})]}),s.jsx(wt,{items:[{label:"Aktualisieren",onClick:()=>j(w=>w+1)}]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs(sn,{value:u,onChange:w=>c(w.target.value),className:"w-40",children:[s.jsx("option",{value:"",children:"Alle Jahre"}),y.map(w=>s.jsx("option",{value:w,children:w},w))]}),s.jsxs(sn,{value:f,onChange:w=>p(w.target.value),className:"w-48",children:[s.jsx("option",{value:"all",children:"Alle Kategorien"}),(x=n==null?void 0:n.categories)==null?void 0:x.map(w=>s.jsx("option",{value:w.key,children:w.label||w.key},w.key))]})]}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(qe,{})," Lade Statistiken ..."]}),a&&s.jsx(X,{type:"error",children:a}),!l&&n&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-3 lg:grid-cols-4",children:[s.jsx(_t,{title:"Summe (Gesamt)",value:Ne(n.overall.sum_total)}),s.jsx(_t,{title:"Bezahlt",value:Ne(n.overall.paid_sum)}),s.jsx(_t,{title:"Offen",value:Ne(n.overall.outstanding_sum)}),s.jsx(_t,{title:"Gesendet, unbezahlt",value:Ne(n.overall.sent_unpaid_sum||0)}),s.jsx(_t,{title:"Rechnungen gesamt",value:n.overall.count}),s.jsx(_t,{title:"Bezahlt (Anzahl)",value:n.overall.paid_count}),s.jsx(_t,{title:"Offen (Anzahl)",value:n.overall.unpaid_count}),s.jsx(_t,{title:"Schnitt pro Rechnung",value:Ne(n.overall.avg_value)})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(el,{title:"Jahre",columns:["Jahr","Summe","Bezahlt","Offen","Gesendet offen","Anzahl"],rows:n.byYear.map(w=>[w.year,Ne(w.sum_total),Ne(w.paid_sum),Ne(w.outstanding_sum),Ne(w.sent_unpaid_sum||0),w.count])}),s.jsx(el,{title:"Monate",columns:["Monat","Summe","Bezahlt","Offen","Gesendet offen","Anzahl"],rows:(n.byMonth||[]).map(w=>[`${w.month}.${w.year}`,Ne(w.sum_total),Ne(w.paid_sum),Ne(w.unpaid_sum),Ne(w.sent_unpaid_sum||0),w.count]),emptyText:"Keine Monatsdaten"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx(el,{title:"Top Kunden (Umsatz)",columns:["Kunde","Summe","Anzahl"],rows:(n.topCustomers||[]).map(w=>[w.name,Ne(w.sum_total),w.count]),emptyText:"Keine Kundenstatistik"}),s.jsx(el,{title:"Top Kategorien (Umsatz)",columns:["Kategorie","Summe","Anzahl"],rows:(n.topCategories||[]).map(w=>[w.label,Ne(w.sum_total),w.count]),emptyText:"Keine Kategorienstatistik"})]})]})]}):s.jsx(X,{type:"error",children:"Keine Berechtigung fr Statistiken."})}function _t({title:e,value:t}){return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm text-slate-500",children:e}),s.jsx("div",{className:"text-xl font-semibold text-slate-900 mt-1",children:t})]})}const Ne=e=>e==null?"":`${Number(e).toFixed(2)} `;function el({title:e,columns:t,rows:n,emptyText:r="Keine Daten vorhanden."}){return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm overflow-x-auto",children:[s.jsx("div",{className:"px-3 py-2 font-semibold text-slate-800 border-b border-slate-200",children:e}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"text-left border-b border-slate-200 bg-slate-50",children:t.map(l=>s.jsx("th",{className:"px-3 py-2",children:l},l))})}),s.jsxs("tbody",{children:[n.map((l,i)=>s.jsx("tr",{className:"border-b border-slate-100",children:l.map((a,o)=>s.jsx("td",{className:"px-3 py-2",children:a},o))},i)),!n.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:t.length,className:"px-3 py-3 text-center text-slate-500",children:r})})]})]})]})}function H({label:e,children:t,className:n=""}){return s.jsxs("label",{className:`flex flex-col gap-1 text-sm text-slate-700 ${n}`,children:[s.jsx("span",{className:"font-medium",children:e}),t]})}Is.createRoot(document.getElementById("root")).render(s.jsx(Fi.StrictMode,{children:s.jsx(Ng,{})}));
